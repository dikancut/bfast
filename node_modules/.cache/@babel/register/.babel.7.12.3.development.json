{
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/app.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar createError = require('http-errors');\n\nvar express = require('express');\n\nvar path = require('path');\n\nvar cookieParser = require('cookie-parser');\n\nvar logger = require('morgan');\n\nvar indexRouter = require('./routes/index');\n\nvar usersRouter = require('./routes/users');\n\nvar app = express(); // view engine setup\n\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'jade');\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: false\n}));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/', indexRouter);\napp.use('/users', usersRouter); // catch 404 and forward to error handler\n\napp.use(function (req, res, next) {\n  next(createError(404));\n}); // error handler\n\napp.use(function (err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {}; // render the error page\n\n  res.status(err.status || 500);\n  res.render('error');\n});\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVFcnJvciIsInJlcXVpcmUiLCJleHByZXNzIiwicGF0aCIsImNvb2tpZVBhcnNlciIsImxvZ2dlciIsImluZGV4Um91dGVyIiwidXNlcnNSb3V0ZXIiLCJhcHAiLCJzZXQiLCJqb2luIiwiX19kaXJuYW1lIiwidXNlIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXRpYyIsInJlcSIsInJlcyIsIm5leHQiLCJlcnIiLCJsb2NhbHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJnZXQiLCJzdGF0dXMiLCJyZW5kZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBekI7O0FBQ0EsSUFBSUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxNQUFELENBQWxCOztBQUNBLElBQUlHLFlBQVksR0FBR0gsT0FBTyxDQUFDLGVBQUQsQ0FBMUI7O0FBQ0EsSUFBSUksTUFBTSxHQUFHSixPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxJQUFJSyxXQUFXLEdBQUdMLE9BQU8sQ0FBQyxnQkFBRCxDQUF6Qjs7QUFDQSxJQUFJTSxXQUFXLEdBQUdOLE9BQU8sQ0FBQyxnQkFBRCxDQUF6Qjs7QUFFQSxJQUFJTyxHQUFHLEdBQUdOLE9BQU8sRUFBakIsQyxDQUVBOztBQUNBTSxHQUFHLENBQUNDLEdBQUosQ0FBUSxPQUFSLEVBQWlCTixJQUFJLENBQUNPLElBQUwsQ0FBVUMsU0FBVixFQUFxQixPQUFyQixDQUFqQjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXVCLE1BQXZCO0FBRUFELEdBQUcsQ0FBQ0ksR0FBSixDQUFRUCxNQUFNLENBQUMsS0FBRCxDQUFkO0FBQ0FHLEdBQUcsQ0FBQ0ksR0FBSixDQUFRVixPQUFPLENBQUNXLElBQVIsRUFBUjtBQUNBTCxHQUFHLENBQUNJLEdBQUosQ0FBUVYsT0FBTyxDQUFDWSxVQUFSLENBQW1CO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7QUFDQVAsR0FBRyxDQUFDSSxHQUFKLENBQVFSLFlBQVksRUFBcEI7QUFDQUksR0FBRyxDQUFDSSxHQUFKLENBQVFWLE9BQU8sQ0FBQ2MsTUFBUixDQUFlYixJQUFJLENBQUNPLElBQUwsQ0FBVUMsU0FBVixFQUFxQixRQUFyQixDQUFmLENBQVI7QUFFQUgsR0FBRyxDQUFDSSxHQUFKLENBQVEsR0FBUixFQUFhTixXQUFiO0FBQ0FFLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLFFBQVIsRUFBa0JMLFdBQWxCLEUsQ0FFQTs7QUFDQUMsR0FBRyxDQUFDSSxHQUFKLENBQVEsVUFBU0ssR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUMvQkEsRUFBQUEsSUFBSSxDQUFDbkIsV0FBVyxDQUFDLEdBQUQsQ0FBWixDQUFKO0FBQ0QsQ0FGRCxFLENBSUE7O0FBQ0FRLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLFVBQVNRLEdBQVQsRUFBY0gsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0JDLElBQXhCLEVBQThCO0FBQ3BDO0FBQ0FELEVBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxPQUFYLEdBQXFCRixHQUFHLENBQUNFLE9BQXpCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXRSxLQUFYLEdBQW1CTixHQUFHLENBQUNULEdBQUosQ0FBUWdCLEdBQVIsQ0FBWSxLQUFaLE1BQXVCLGFBQXZCLEdBQXVDSixHQUF2QyxHQUE2QyxFQUFoRSxDQUhvQyxDQUtwQzs7QUFDQUYsRUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVdMLEdBQUcsQ0FBQ0ssTUFBSixJQUFjLEdBQXpCO0FBQ0FQLEVBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLE9BQVg7QUFDRCxDQVJEO0FBVUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBCLEdBQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL3Nhcm90X25vZGUvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnaHR0cC1lcnJvcnMnKTtcbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgY29va2llUGFyc2VyID0gcmVxdWlyZSgnY29va2llLXBhcnNlcicpO1xudmFyIGxvZ2dlciA9IHJlcXVpcmUoJ21vcmdhbicpO1xuXG52YXIgaW5kZXhSb3V0ZXIgPSByZXF1aXJlKCcuL3JvdXRlcy9pbmRleCcpO1xudmFyIHVzZXJzUm91dGVyID0gcmVxdWlyZSgnLi9yb3V0ZXMvdXNlcnMnKTtcblxudmFyIGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gdmlldyBlbmdpbmUgc2V0dXBcbmFwcC5zZXQoJ3ZpZXdzJywgcGF0aC5qb2luKF9fZGlybmFtZSwgJ3ZpZXdzJykpO1xuYXBwLnNldCgndmlldyBlbmdpbmUnLCAnamFkZScpO1xuXG5hcHAudXNlKGxvZ2dlcignZGV2JykpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYycpKSk7XG5cbmFwcC51c2UoJy8nLCBpbmRleFJvdXRlcik7XG5hcHAudXNlKCcvdXNlcnMnLCB1c2Vyc1JvdXRlcik7XG5cbi8vIGNhdGNoIDQwNCBhbmQgZm9yd2FyZCB0byBlcnJvciBoYW5kbGVyXG5hcHAudXNlKGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIG5leHQoY3JlYXRlRXJyb3IoNDA0KSk7XG59KTtcblxuLy8gZXJyb3IgaGFuZGxlclxuYXBwLnVzZShmdW5jdGlvbihlcnIsIHJlcSwgcmVzLCBuZXh0KSB7XG4gIC8vIHNldCBsb2NhbHMsIG9ubHkgcHJvdmlkaW5nIGVycm9yIGluIGRldmVsb3BtZW50XG4gIHJlcy5sb2NhbHMubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICByZXMubG9jYWxzLmVycm9yID0gcmVxLmFwcC5nZXQoJ2VudicpID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyIDoge307XG5cbiAgLy8gcmVuZGVyIHRoZSBlcnJvciBwYWdlXG4gIHJlcy5zdGF0dXMoZXJyLnN0YXR1cyB8fCA1MDApO1xuICByZXMucmVuZGVyKCdlcnJvcicpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "createError",
        "require",
        "express",
        "path",
        "cookieParser",
        "logger",
        "indexRouter",
        "usersRouter",
        "app",
        "set",
        "join",
        "__dirname",
        "use",
        "json",
        "urlencoded",
        "extended",
        "static",
        "req",
        "res",
        "next",
        "err",
        "locals",
        "message",
        "error",
        "get",
        "status",
        "render",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAW,GAAGC,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAApB;;AAEA,IAAIK,WAAW,GAAGL,OAAO,CAAC,gBAAD,CAAzB;;AACA,IAAIM,WAAW,GAAGN,OAAO,CAAC,gBAAD,CAAzB;;AAEA,IAAIO,GAAG,GAAGN,OAAO,EAAjB,C,CAEA;;AACAM,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBN,IAAI,CAACO,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAH,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AAEAD,GAAG,CAACI,GAAJ,CAAQP,MAAM,CAAC,KAAD,CAAd;AACAG,GAAG,CAACI,GAAJ,CAAQV,OAAO,CAACW,IAAR,EAAR;AACAL,GAAG,CAACI,GAAJ,CAAQV,OAAO,CAACY,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAP,GAAG,CAACI,GAAJ,CAAQR,YAAY,EAApB;AACAI,GAAG,CAACI,GAAJ,CAAQV,OAAO,CAACc,MAAR,CAAeb,IAAI,CAACO,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AAEAH,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAaN,WAAb;AACAE,GAAG,CAACI,GAAJ,CAAQ,QAAR,EAAkBL,WAAlB,E,CAEA;;AACAC,GAAG,CAACI,GAAJ,CAAQ,UAASK,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BA,EAAAA,IAAI,CAACnB,WAAW,CAAC,GAAD,CAAZ,CAAJ;AACD,CAFD,E,CAIA;;AACAQ,GAAG,CAACI,GAAJ,CAAQ,UAASQ,GAAT,EAAcH,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACpC;AACAD,EAAAA,GAAG,CAACG,MAAJ,CAAWC,OAAX,GAAqBF,GAAG,CAACE,OAAzB;AACAJ,EAAAA,GAAG,CAACG,MAAJ,CAAWE,KAAX,GAAmBN,GAAG,CAACT,GAAJ,CAAQgB,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCJ,GAAvC,GAA6C,EAAhE,CAHoC,CAKpC;;AACAF,EAAAA,GAAG,CAACO,MAAJ,CAAWL,GAAG,CAACK,MAAJ,IAAc,GAAzB;AACAP,EAAAA,GAAG,CAACQ,MAAJ,CAAW,OAAX;AACD,CARD;AAUAC,MAAM,CAACC,OAAP,GAAiBpB,GAAjB",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/",
      "sourcesContent": [
        "var createError = require('http-errors');\nvar express = require('express');\nvar path = require('path');\nvar cookieParser = require('cookie-parser');\nvar logger = require('morgan');\n\nvar indexRouter = require('./routes/index');\nvar usersRouter = require('./routes/users');\n\nvar app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'jade');\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.use('/', indexRouter);\napp.use('/users', usersRouter);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n// error handler\napp.use(function(err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\nmodule.exports = app;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605774148837
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/routes/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n/* GET home page. */\n\nrouter.get('/', function (req, res, next) {\n  res.render('index', {\n    title: 'Express'\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInJlbmRlciIsInRpdGxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWI7QUFFQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3ZDRCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyxPQUFYLEVBQW9CO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQXBCO0FBQ0QsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL3Nhcm90X25vZGUvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8qIEdFVCBob21lIHBhZ2UuICovXG5yb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLnJlbmRlcignaW5kZXgnLCB7IHRpdGxlOiAnRXhwcmVzcycgfSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "next",
        "render",
        "title",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;AAEA;;AACAD,MAAM,CAACE,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAApB;AACD,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express' });\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605774148830
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/routes/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/routes/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/routes/users.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/routes/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn');\n/* GET users listing. */\n\n\nrouter.get('/', function (req, res, next) {\n  res.send('respond with a resource');\n});\nrouter.get('/tes_res', function (req, res, next) {\n  tcontr.tarik_tes().then(v => {\n    res.send(v);\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwidGNvbnRyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInNlbmQiLCJ0YXJpa190ZXMiLCJ0aGVuIiwidiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUVBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLHVCQUFELENBQXBCO0FBRUE7OztBQUNBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDdkNELEVBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTLHlCQUFUO0FBQ0QsQ0FGRDtBQUlBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxVQUFYLEVBQXVCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDN0NKLEVBQUFBLE1BQU0sQ0FBQ00sU0FBUCxHQUFtQkMsSUFBbkIsQ0FBeUJDLENBQUQsSUFBTztBQUM3QkwsSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNHLENBQVQ7QUFDRCxHQUZEO0FBR0QsQ0FKRDtBQU1BQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJaLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL3Nhcm90X25vZGUvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnZhciB0Y29udHIgPSByZXF1aXJlKCcuLi9zcmMvY29udHJvbGxlci9lZG4nKVxuXG4vKiBHRVQgdXNlcnMgbGlzdGluZy4gKi9cbnJvdXRlci5nZXQoJy8nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICByZXMuc2VuZCgncmVzcG9uZCB3aXRoIGEgcmVzb3VyY2UnKTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvdGVzX3JlcycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXtcbiAgdGNvbnRyLnRhcmlrX3RlcygpLnRoZW4oKHYpID0+IHtcbiAgICByZXMuc2VuZCh2KVxuICB9KVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "tcontr",
        "get",
        "req",
        "res",
        "next",
        "send",
        "tarik_tes",
        "then",
        "v",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AAEA,IAAIC,MAAM,GAAGH,OAAO,CAAC,uBAAD,CAApB;AAEA;;;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,IAAJ,CAAS,yBAAT;AACD,CAFD;AAIAP,MAAM,CAACG,GAAP,CAAW,UAAX,EAAuB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC7CJ,EAAAA,MAAM,CAACM,SAAP,GAAmBC,IAAnB,CAAyBC,CAAD,IAAO;AAC7BL,IAAAA,GAAG,CAACE,IAAJ,CAASG,CAAT;AACD,GAFD;AAGD,CAJD;AAMAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn')\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n  res.send('respond with a resource');\n});\n\nrouter.get('/tes_res', function(req, res, next){\n  tcontr.tarik_tes().then((v) => {\n    res.send(v)\n  })\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605776078216
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/src/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/src/controller/edn.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/controller/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/src/controller/edn.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/src/controller/edn.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/src/controller/edn.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/src/controller/",
        "sourceFileName": "edn.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEdn = void 0;\n\nvar _dbcon = _interopRequireDefault(require(\"../db/dbcon\"));\n\nvar _easySoapRequest = _interopRequireDefault(require(\"easy-soap-request\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _xml2js = _interopRequireDefault(require(\"xml2js\"));\n\nvar _sqlstring = _interopRequireDefault(require(\"sqlstring\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst get_all_product = async table => {\n  const con = new _dbcon.default();\n  const r = await con.run_query(`select p.product_code,p.product_code from ${table}`);\n  con.end_connection(); // console.log(r);\n\n  return r;\n};\n\nconst create_query_log = async (table, param) => {\n  let {\n    request,\n    OTF_date,\n    http_code,\n    response\n  } = param; // const con = mysql.createConnection({\n  //     host            : process.env.DB_DOMAIN,\n  //     user            : process.env.DB_USERNAME,\n  //     password        : process.env.DB_PASSWORD,\n  //     database        : process.env.DB_SCHEMA\n  // });\n\n  let req = await parse_log(request);\n  req = JSON.stringify(req);\n  console.log(\"request :\" + req);\n  let resp = await parse_log(response);\n  resp = JSON.stringify(resp);\n  console.log(\"response :\" + resp);\n  const sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`; // const data = [[request,OTF_date,http_code,response,0,0]];\n\n  const r = await insertQuery(sql); // con.end_connection()\n  // con.query(sql, [data], (err, results, fields) => {\n  //     if (err) {\n  //       return console.error(err.message);\n  //     }\n  //     // get inserted rows\n  //     console.log('Row inserted:' + results.affectedRows);\n  //     // return results;\n  //   });\n  //   con.end()\n  // console.log(results);\n};\n\nconst getEdn = async (param = null) => {\n  let date_ob;\n\n  if (param == null || typeof param == 'undefined') {\n    date_ob = new Date();\n  } else {\n    let {\n      date\n    } = param;\n    var dateParts = date.split(\"-\");\n    date_ob = new Date(+dateParts[0], dateParts[1] - 1, +dateParts[2]);\n  } // adjust 0 before single digit date\n\n\n  let date = (\"0\" + date_ob.getDate()).slice(-2); // current month\n\n  let month = (\"0\" + (date_ob.getMonth() + 1)).slice(-2); // current year\n\n  let year = date_ob.getFullYear();\n  let tgl = year + \"/\" + month + \"/\" + date;\n  let tgl_iso = year + \"-\" + month + \"-\" + date;\n  const config = {\n    \"Content-Type\": \"application/soap+xml; charset=utf-8\"\n  };\n  const header = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\">\n      <soap12:Body>\n        <Get_DN xmlns=\"http://tempuri.org/\">\n          <P_LFDAT>${tgl}</P_LFDAT>\n        </Get_DN>\n      </soap12:Body>\n    </soap12:Envelope>`;\n  let request = header;\n\n  try {\n    // console.log(raw_lama_kebaruan);\n    const rr = await (0, _easySoapRequest.default)({\n      url: `https://webservice.sariroti.com/e-DMSWebservice/GetDN.asmx`,\n      xml: header,\n      headers: config\n    }); // console.log(\"t\")\n\n    const {\n      headers,\n      body,\n      statusCode\n    } = rr.response; // console.log(\"status_code :\" +statusCode);\n    // console.log(\"header :\" +header);\n\n    let data_log = [];\n    let obj = {\n      \"OTF_date\": tgl_iso,\n      \"http_code\": statusCode,\n      \"request\": request,\n      \"response\": body\n    };\n    data_log.push(obj); // console.log(data_log);\n\n    const log_70 = await create_query_log(\"sariroti_dms.e_delivery_number_log\", obj);\n    const log_50 = await create_query_log(\"sariroti_dms_agent.e_delivery_number_log\", obj);\n    console.log(log_70); // const i_log_70 = await insertQuery(log_70);\n    // const i_log_50 = await insertQuery(log_50);\n    // let product_70 = await get_all_product(\"sariroti_dms.product p\");\n    // let product_50 = await get_all_product(\"sariroti_dms_agent.product p\");\n    // console.log(depo);\n\n    let result = await parse(body); // let product_70 = await get_all_product(\"sariroti_dms.product\");\n    // let product_50 = await get_all_product(\"sariroti_dms_agent.product\");\n\n    var res = result.map(row => ({\n      delivery_number: row.stVBELN,\n      OTF_date: row.stLFDAT.substring(0, 4) + '-' + row.stLFDAT.substring(4, 6) + '-' + row.stLFDAT.substring(6, 8),\n      depo_code: row.stKUNAG.substring(2),\n      product_code: row.stMATNR,\n      satuan: row.stVRKME,\n      qty: row.stLFIMG,\n      db: row.stVTWEG\n    }));\n    let res2 = res.reduce((acc, item) => {\n      if (!acc[item.db]) {\n        acc[item.db] = [];\n      }\n\n      acc[item.db].push(item);\n      return acc;\n    }, {});\n    let header_70 = res2[70].filter((e, i) => {\n      return res2[70].findIndex(x => {\n        return x.dn_number == e.dn_number && x.depo_code == e.depo_code;\n      }) == i;\n    });\n    header_70 = header_70.map(row => ({\n      delivery_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      depo_code: row.depo_code,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let detail_70 = res2[70].map(row => ({\n      edn_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      product_id: row.product_code,\n      quantity: row.qty,\n      satuan: row.satuan,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let detail_50 = res2[50].map(row => ({\n      edn_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      product_id: row.product_code,\n      quantity: row.qty,\n      satuan: row.satuan,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let header_50 = res2[50].filter((e, i) => {\n      return res2[50].findIndex(x => {\n        return x.dn_number == e.dn_number && x.depo_code == e.depo_code;\n      }) == i;\n    });\n    header_50 = header_50.map(row => ({\n      delivery_number: row.stVBELN,\n      OTF_date: row.OTF_date,\n      depo_code: row.depo_code,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let reslut = {\n      \"detail\": {\n        \"50\": detail_50,\n        \"70\": detail_70\n      },\n      \"header\": {\n        \"70\": header_70,\n        \"50\": header_50\n      }\n    };\n    let sql_insert_header_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number\", header_70);\n    let sql_insert_detail_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number_detail\", detail_70);\n    let sql_insert_header_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number\", header_50);\n    let sql_insert_detail_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number_detail\", detail_50);\n    let inserting_header_70 = await insertQuery(sql_insert_header_70);\n    let inserting_detail_70 = await insertQuery(sql_insert_detail_70);\n    let inserting_header_50 = await insertQuery(sql_insert_header_50);\n    let inserting_detail_50 = await insertQuery(sql_insert_detail_50);\n    console.log(header_70);\n    return reslut;\n  } catch (e) {\n    console.log(e);\n    return e;\n  }\n};\n\nexports.getEdn = getEdn;\n\nfunction update(target, source) {\n  Object.entries(source).forEach(([key, value]) => {\n    if (value && typeof value === 'object') {\n      update(target[key] = target[key] || (Array.isArray(value) ? [] : {}), value);\n    } else if (target[key] !== value) {\n      target[key] = value;\n    }\n  });\n}\n\nfunction groupBy2(persons, key) {\n  var groups = {},\n      result = [];\n  persons.forEach(function (a) {\n    if (!(a[key] in groups)) {\n      groups[a[key]] = [];\n      result.push(groups[a[key]]);\n    }\n\n    groups[a[key]].push(a);\n  });\n  return result;\n}\n\nasync function parse(file) {\n  const promise = await new Promise((resolve, reject) => {\n    const parser = new _xml2js.default.Parser({\n      explicitArray: false,\n      tagNameProcessors: [_xml2js.default.processors.stripPrefix]\n    });\n    parser.parseString(file, (error, result) => {\n      if (error) reject(error);else {\n        var soapBody = result.Envelope.Body; // Remove optional attribute(s) from <Body> element.\n\n        if (soapBody.$) {\n          delete soapBody.$;\n        }\n\n        resolve(soapBody.Get_DNResponse.Get_DNResult.DN_LIST);\n      }\n    });\n  });\n  return promise;\n}\n\nasync function parse_log(file) {\n  const promise = await new Promise((resolve, reject) => {\n    const parser = new _xml2js.default.Parser({\n      explicitArray: false,\n      tagNameProcessors: [_xml2js.default.processors.stripPrefix]\n    });\n    parser.parseString(file, (error, result) => {\n      if (error) reject(error);else {\n        var soapBody = result.Envelope.Body; // Remove optional attribute(s) from <Body> element.\n\n        if (soapBody.$) {\n          delete soapBody.$;\n        }\n\n        resolve(soapBody);\n      }\n    });\n  });\n  return promise;\n}\n\nconst createInsertQuery = async (table, param) => {\n  try {\n    let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    param.forEach(function (item, index) {\n      let value = Object.values(item);\n      let isi = value.join(\"','\");\n      if (index == 0) list_value += `('${isi}')`;else list_value += `,('${isi}')`;\n    });\n\n    for (let keys in column) {\n      list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n    const query_col = column.join(\",\");\n    const sql = `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n  } catch (e) {\n    return e;\n  }\n};\n\nconst insertQuery = async param => {\n  // console.log(param);\n  const con = new _dbcon.default();\n  const r = await con.run_query(param);\n  con.end_connection();\n  return r;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkbi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJnZXRfYWxsX3Byb2R1Y3QiLCJ0YWJsZSIsImNvbiIsImRiIiwiciIsInJ1bl9xdWVyeSIsImVuZF9jb25uZWN0aW9uIiwiY3JlYXRlX3F1ZXJ5X2xvZyIsInBhcmFtIiwicmVxdWVzdCIsIk9URl9kYXRlIiwiaHR0cF9jb2RlIiwicmVzcG9uc2UiLCJyZXEiLCJwYXJzZV9sb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImxvZyIsInJlc3AiLCJzcWwiLCJpbnNlcnRRdWVyeSIsImdldEVkbiIsImRhdGVfb2IiLCJEYXRlIiwiZGF0ZSIsImRhdGVQYXJ0cyIsInNwbGl0IiwiZ2V0RGF0ZSIsInNsaWNlIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJnZXRGdWxsWWVhciIsInRnbCIsInRnbF9pc28iLCJoZWFkZXIiLCJyciIsInVybCIsInhtbCIsImhlYWRlcnMiLCJib2R5Iiwic3RhdHVzQ29kZSIsImRhdGFfbG9nIiwib2JqIiwicHVzaCIsImxvZ183MCIsImxvZ181MCIsInJlc3VsdCIsInBhcnNlIiwicmVzIiwibWFwIiwicm93IiwiZGVsaXZlcnlfbnVtYmVyIiwic3RWQkVMTiIsInN0TEZEQVQiLCJzdWJzdHJpbmciLCJkZXBvX2NvZGUiLCJzdEtVTkFHIiwicHJvZHVjdF9jb2RlIiwic3RNQVROUiIsInNhdHVhbiIsInN0VlJLTUUiLCJxdHkiLCJzdExGSU1HIiwic3RWVFdFRyIsInJlczIiLCJyZWR1Y2UiLCJhY2MiLCJpdGVtIiwiaGVhZGVyXzcwIiwiZmlsdGVyIiwiZSIsImkiLCJmaW5kSW5kZXgiLCJ4IiwiZG5fbnVtYmVyIiwiY3JlYXRlZF9ieSIsIm1vZGlmaWVkX2J5IiwiZGV0YWlsXzcwIiwiZWRuX251bWJlciIsInByb2R1Y3RfaWQiLCJxdWFudGl0eSIsImRldGFpbF81MCIsImhlYWRlcl81MCIsInJlc2x1dCIsInNxbF9pbnNlcnRfaGVhZGVyXzcwIiwiY3JlYXRlSW5zZXJ0UXVlcnkiLCJzcWxfaW5zZXJ0X2RldGFpbF83MCIsInNxbF9pbnNlcnRfaGVhZGVyXzUwIiwic3FsX2luc2VydF9kZXRhaWxfNTAiLCJpbnNlcnRpbmdfaGVhZGVyXzcwIiwiaW5zZXJ0aW5nX2RldGFpbF83MCIsImluc2VydGluZ19oZWFkZXJfNTAiLCJpbnNlcnRpbmdfZGV0YWlsXzUwIiwidXBkYXRlIiwidGFyZ2V0Iiwic291cmNlIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImdyb3VwQnkyIiwicGVyc29ucyIsImdyb3VwcyIsImEiLCJmaWxlIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicGFyc2VyIiwieG1sMmpzIiwiUGFyc2VyIiwiZXhwbGljaXRBcnJheSIsInRhZ05hbWVQcm9jZXNzb3JzIiwicHJvY2Vzc29ycyIsInN0cmlwUHJlZml4IiwicGFyc2VTdHJpbmciLCJlcnJvciIsInNvYXBCb2R5IiwiRW52ZWxvcGUiLCJCb2R5IiwiJCIsIkdldF9ETlJlc3BvbnNlIiwiR2V0X0ROUmVzdWx0IiwiRE5fTElTVCIsImNvbHVtbiIsImtleXMiLCJsaXN0X2NvbHVtbiIsImxpc3RfdmFsdWUiLCJpbmRleCIsInZhbHVlcyIsImlzaSIsImpvaW4iLCJxdWVyeV9jb2wiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBQSxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxlQUFlLEdBQUcsTUFBT0MsS0FBUCxJQUFpQjtBQUNyQyxRQUFNQyxHQUFHLEdBQUcsSUFBSUMsY0FBSixFQUFaO0FBRUEsUUFBTUMsQ0FBQyxHQUFHLE1BQU1GLEdBQUcsQ0FBQ0csU0FBSixDQUFlLDZDQUE0Q0osS0FBTSxFQUFqRSxDQUFoQjtBQUNBQyxFQUFBQSxHQUFHLENBQUNJLGNBQUosR0FKcUMsQ0FLckM7O0FBQ0EsU0FB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YixLQUFQLElBQWdCO0FBQ2hDO0FBQ0EsUUFBTU4sR0FBRyxHQUFHLElBQUlDLGNBQUosRUFBWjtBQUVBLFFBQU1DLENBQUMsR0FBRyxNQUFNRixHQUFHLENBQUNHLFNBQUosQ0FBY0csS0FBZCxDQUFoQjtBQUNBTixFQUFBQSxHQUFHLENBQUNJLGNBQUo7QUFFQSxTQUFPRixDQUFQO0FBQ0gsQ0FSRCIsInNvdXJjZVJvb3QiOiIvVm9sdW1lcy9kYXRhL215bm9kZS9zYXJvdF9ub2RlL3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiBmcm9tICcuLi9kYi9kYmNvbic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnZWFzeS1zb2FwLXJlcXVlc3QnO1xuaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJztcbmltcG9ydCB4bWwyanMgZnJvbSAneG1sMmpzJztcbmltcG9ydCBzcWxzdHJpbmcgZnJvbSAnc3Fsc3RyaW5nJztcbmltcG9ydCB1dGlsIGZyb20gJ3V0aWwnO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBnZXRfYWxsX3Byb2R1Y3QgPSBhc3luYyAodGFibGUpID0+IHtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgc2VsZWN0IHAucHJvZHVjdF9jb2RlLHAucHJvZHVjdF9jb2RlIGZyb20gJHt0YWJsZX1gKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKVxuICAgIC8vIGNvbnNvbGUubG9nKHIpO1xuICAgIHJldHVybiByO1xufVxuXG5jb25zdCBjcmVhdGVfcXVlcnlfbG9nID0gYXN5bmMgKHRhYmxlLHBhcmFtKSA9PiB7XG4gICAgbGV0IHtyZXF1ZXN0LE9URl9kYXRlLGh0dHBfY29kZSxyZXNwb25zZX0gPSBwYXJhbTtcbiAgICAvLyBjb25zdCBjb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgICAvLyAgICAgaG9zdCAgICAgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfRE9NQUlOLFxuICAgIC8vICAgICB1c2VyICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgICAvLyAgICAgcGFzc3dvcmQgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgLy8gICAgIGRhdGFiYXNlICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1NDSEVNQVxuICAgIC8vIH0pO1xuICAgIGxldCByZXEgPSBhd2FpdCBwYXJzZV9sb2cocmVxdWVzdCk7XG4gICAgcmVxID0gSlNPTi5zdHJpbmdpZnkocmVxKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcXVlc3QgOlwiK3JlcSk7XG4gICAgbGV0IHJlc3AgPSBhd2FpdCBwYXJzZV9sb2cocmVzcG9uc2UpO1xuICAgIHJlc3AgPSBKU09OLnN0cmluZ2lmeShyZXNwKTtcbiAgICBjb25zb2xlLmxvZyhcInJlc3BvbnNlIDpcIityZXNwKTtcbiAgICBjb25zdCBzcWwgPSBgaW5zZXJ0IGludG8gJHt0YWJsZX0gKHJlcXVlc3QsIE9URl9kYXRlLCBodHRwX2NvZGUscmVzcG9uc2UsY3JlYXRlZF9ieSxtb2RpZmllZF9ieSkgdmFsdWVzICgnJHtyZXF9JywnJHtPVEZfZGF0ZX0nLCcke2h0dHBfY29kZX0nLCcke3Jlc3B9JywwLDApYDtcbiAgICAvLyBjb25zdCBkYXRhID0gW1tyZXF1ZXN0LE9URl9kYXRlLGh0dHBfY29kZSxyZXNwb25zZSwwLDBdXTtcbiAgICBjb25zdCByID0gYXdhaXQgaW5zZXJ0UXVlcnkoc3FsKVxuICAgIC8vIGNvbi5lbmRfY29ubmVjdGlvbigpXG4gICAgLy8gY29uLnF1ZXJ5KHNxbCwgW2RhdGFdLCAoZXJyLCByZXN1bHRzLCBmaWVsZHMpID0+IHtcbiAgICAvLyAgICAgaWYgKGVycikge1xuICAgIC8vICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAvLyBnZXQgaW5zZXJ0ZWQgcm93c1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnUm93IGluc2VydGVkOicgKyByZXN1bHRzLmFmZmVjdGVkUm93cyk7XG4gICAgLy8gICAgIC8vIHJldHVybiByZXN1bHRzO1xuICAgIC8vICAgfSk7XG4gICAgLy8gICBjb24uZW5kKClcbiAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICBcbn1cblxuY29uc3QgZ2V0RWRuID0gYXN5bmMgKHBhcmFtID0gbnVsbCkgPT57XG4gICAgbGV0IGRhdGVfb2I7XG4gICAgaWYocGFyYW0gPT0gbnVsbCB8fCB0eXBlb2YgcGFyYW0gPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICBkYXRlX29iID0gbmV3IERhdGUoKTtcbiAgICB9ZWxzZSB7XG4gICAgICAgIGxldCB7ZGF0ZX0gPSAgcGFyYW07XG4gICAgICAgIHZhciBkYXRlUGFydHMgPSBkYXRlLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgZGF0ZV9vYiA9IG5ldyBEYXRlKCtkYXRlUGFydHNbMF0sIGRhdGVQYXJ0c1sxXSAtIDEsICtkYXRlUGFydHNbMl0pIFxuICAgIH1cbiAgICAvLyBhZGp1c3QgMCBiZWZvcmUgc2luZ2xlIGRpZ2l0IGRhdGVcbiAgICBsZXQgZGF0ZSA9IChcIjBcIiArIGRhdGVfb2IuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XG5cbiAgICAvLyBjdXJyZW50IG1vbnRoXG4gICAgbGV0IG1vbnRoID0gKFwiMFwiICsgKGRhdGVfb2IuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMik7XG5cbiAgICAvLyBjdXJyZW50IHllYXJcbiAgICBsZXQgeWVhciA9IGRhdGVfb2IuZ2V0RnVsbFllYXIoKTtcblxuICAgIGxldCB0Z2wgPSB5ZWFyK1wiL1wiK21vbnRoK1wiL1wiK2RhdGU7XG4gICAgbGV0IHRnbF9pc28gPSB5ZWFyK1wiLVwiK21vbnRoK1wiLVwiK2RhdGU7XG4gICAgXG4gICAgXG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICBcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL3NvYXAreG1sOyBjaGFyc2V0PXV0Zi04XCIgICAgICAgICAgXG4gICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlciA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiPz5cbiAgICA8c29hcDEyOkVudmVsb3BlIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgeG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWFcIiB4bWxuczpzb2FwMTI9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAzLzA1L3NvYXAtZW52ZWxvcGVcIj5cbiAgICAgIDxzb2FwMTI6Qm9keT5cbiAgICAgICAgPEdldF9ETiB4bWxucz1cImh0dHA6Ly90ZW1wdXJpLm9yZy9cIj5cbiAgICAgICAgICA8UF9MRkRBVD4ke3RnbH08L1BfTEZEQVQ+XG4gICAgICAgIDwvR2V0X0ROPlxuICAgICAgPC9zb2FwMTI6Qm9keT5cbiAgICA8L3NvYXAxMjpFbnZlbG9wZT5gO1xuXG4gICAgbGV0IHJlcXVlc3QgPSBoZWFkZXI7XG4gICAgdHJ5e1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyYXdfbGFtYV9rZWJhcnVhbik7XG4gICAgICAgIGNvbnN0IHJyID0gYXdhaXQgYXhpb3Moe3VybDpgaHR0cHM6Ly93ZWJzZXJ2aWNlLnNhcmlyb3RpLmNvbS9lLURNU1dlYnNlcnZpY2UvR2V0RE4uYXNteGAseG1sOmhlYWRlcixoZWFkZXJzOmNvbmZpZyx9KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0XCIpXG4gICAgICAgIGNvbnN0IHsgaGVhZGVycywgYm9keSwgc3RhdHVzQ29kZSB9ID0gcnIucmVzcG9uc2U7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3RhdHVzX2NvZGUgOlwiICtzdGF0dXNDb2RlKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJoZWFkZXIgOlwiICtoZWFkZXIpO1xuICAgICAgICBsZXQgZGF0YV9sb2cgPSBbXTtcbiAgICAgICAgbGV0IG9iaiA9IHtcIk9URl9kYXRlXCI6dGdsX2lzbywgXCJodHRwX2NvZGVcIiA6IHN0YXR1c0NvZGUsIFwicmVxdWVzdFwiOnJlcXVlc3QsIFwicmVzcG9uc2VcIjpib2R5fTtcbiAgICAgICAgZGF0YV9sb2cucHVzaChvYmopO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhX2xvZyk7XG4gICAgICAgIGNvbnN0IGxvZ183MCA9IGF3YWl0IGNyZWF0ZV9xdWVyeV9sb2coXCJzYXJpcm90aV9kbXMuZV9kZWxpdmVyeV9udW1iZXJfbG9nXCIsb2JqKTtcbiAgICAgICAgY29uc3QgbG9nXzUwID0gYXdhaXQgY3JlYXRlX3F1ZXJ5X2xvZyhcInNhcmlyb3RpX2Rtc19hZ2VudC5lX2RlbGl2ZXJ5X251bWJlcl9sb2dcIixvYmopO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2dfNzApO1xuICAgICAgICAvLyBjb25zdCBpX2xvZ183MCA9IGF3YWl0IGluc2VydFF1ZXJ5KGxvZ183MCk7XG4gICAgICAgIC8vIGNvbnN0IGlfbG9nXzUwID0gYXdhaXQgaW5zZXJ0UXVlcnkobG9nXzUwKTtcbiAgICAgICAgLy8gbGV0IHByb2R1Y3RfNzAgPSBhd2FpdCBnZXRfYWxsX3Byb2R1Y3QoXCJzYXJpcm90aV9kbXMucHJvZHVjdCBwXCIpO1xuICAgICAgICAvLyBsZXQgcHJvZHVjdF81MCA9IGF3YWl0IGdldF9hbGxfcHJvZHVjdChcInNhcmlyb3RpX2Rtc19hZ2VudC5wcm9kdWN0IHBcIik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRlcG8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcGFyc2UoYm9keSk7XG4gICAgICAgIC8vIGxldCBwcm9kdWN0XzcwID0gYXdhaXQgZ2V0X2FsbF9wcm9kdWN0KFwic2FyaXJvdGlfZG1zLnByb2R1Y3RcIik7XG4gICAgICAgIC8vIGxldCBwcm9kdWN0XzUwID0gYXdhaXQgZ2V0X2FsbF9wcm9kdWN0KFwic2FyaXJvdGlfZG1zX2FnZW50LnByb2R1Y3RcIik7XG4gICAgICAgICB2YXIgcmVzID0gcmVzdWx0Lm1hcChyb3cgPT4gKHsgXG5cbiAgICAgICAgICAgIGRlbGl2ZXJ5X251bWJlciA6IHJvdy5zdFZCRUxOLFxuICAgICAgICAgICAgT1RGX2RhdGUgOiByb3cuc3RMRkRBVC5zdWJzdHJpbmcoMCwgNCkrJy0nK3Jvdy5zdExGREFULnN1YnN0cmluZyg0LCA2KSsnLScrcm93LnN0TEZEQVQuc3Vic3RyaW5nKDYsIDgpLFxuICAgICAgICAgICAgZGVwb19jb2RlIDogcm93LnN0S1VOQUcuc3Vic3RyaW5nKDIpLFxuICAgICAgICAgICAgcHJvZHVjdF9jb2RlIDogcm93LnN0TUFUTlIsXG4gICAgICAgICAgICBzYXR1YW4gOiByb3cuc3RWUktNRSxcbiAgICAgICAgICAgIHF0eSA6IHJvdy5zdExGSU1HLFxuICAgICAgICAgICAgZGIgOiByb3cuc3RWVFdFR1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICBcblxuICAgICAgICBcbiAgICAgICAgbGV0IHJlczIgPSByZXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmICghYWNjW2l0ZW0uZGJdKSB7XG4gICAgICAgICAgICAgIGFjY1tpdGVtLmRiXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgICAgYWNjW2l0ZW0uZGJdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHt9KVxuXG4gICAgICAgICAgXG4gICAgICAgIGxldCBoZWFkZXJfNzAgPSByZXMyWzcwXS5maWx0ZXIoKGUsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXMyWzcwXS5maW5kSW5kZXgoKHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB4LmRuX251bWJlciA9PSBlLmRuX251bWJlciAmJiB4LmRlcG9fY29kZSA9PSBlLmRlcG9fY29kZTt9KSA9PSBpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlcl83MCA9IGhlYWRlcl83MC5tYXAocm93ID0+ICh7IFxuXG4gICAgICAgICAgICBkZWxpdmVyeV9udW1iZXIgOiByb3cuZGVsaXZlcnlfbnVtYmVyLFxuICAgICAgICAgICAgT1RGX2RhdGUgOiByb3cuT1RGX2RhdGUsXG4gICAgICAgICAgICBkZXBvX2NvZGUgOiByb3cuZGVwb19jb2RlLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBkZXRhaWxfNzAgPSByZXMyWzcwXS5tYXAocm93ID0+ICh7XG4gICAgICAgICAgICBlZG5fbnVtYmVyIDogcm93LmRlbGl2ZXJ5X251bWJlcixcbiAgICAgICAgICAgIE9URl9kYXRlIDogcm93Lk9URl9kYXRlLFxuICAgICAgICAgICAgcHJvZHVjdF9pZCA6IHJvdy5wcm9kdWN0X2NvZGUsXG4gICAgICAgICAgICBxdWFudGl0eSA6IHJvdy5xdHksXG4gICAgICAgICAgICBzYXR1YW4gOiByb3cuc2F0dWFuLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGxldCBkZXRhaWxfNTAgPSByZXMyWzUwXS5tYXAocm93ID0+ICh7XG4gICAgICAgICAgICBlZG5fbnVtYmVyIDogcm93LmRlbGl2ZXJ5X251bWJlcixcbiAgICAgICAgICAgIE9URl9kYXRlIDogcm93Lk9URl9kYXRlLFxuICAgICAgICAgICAgcHJvZHVjdF9pZCA6IHJvdy5wcm9kdWN0X2NvZGUsXG4gICAgICAgICAgICBxdWFudGl0eSA6IHJvdy5xdHksXG4gICAgICAgICAgICBzYXR1YW4gOiByb3cuc2F0dWFuLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGhlYWRlcl81MCA9IHJlczJbNTBdLmZpbHRlcigoZSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlczJbNTBdLmZpbmRJbmRleCgoeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHguZG5fbnVtYmVyID09IGUuZG5fbnVtYmVyICYmIHguZGVwb19jb2RlID09IGUuZGVwb19jb2RlO30pID09IGk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGhlYWRlcl81MCA9IGhlYWRlcl81MC5tYXAocm93ID0+ICh7IFxuXG4gICAgICAgICAgICBkZWxpdmVyeV9udW1iZXIgOiByb3cuc3RWQkVMTixcbiAgICAgICAgICAgIE9URl9kYXRlIDogcm93Lk9URl9kYXRlLFxuICAgICAgICAgICAgZGVwb19jb2RlIDogcm93LmRlcG9fY29kZSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYnkgOiAwLFxuICAgICAgICAgICAgbW9kaWZpZWRfYnkgOiAwXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbGV0IHJlc2x1dCA9IHtcbiAgICAgICAgICAgIFwiZGV0YWlsXCI6e1wiNTBcIjpkZXRhaWxfNTAsXCI3MFwiOmRldGFpbF83MH0sXG4gICAgICAgICAgICBcImhlYWRlclwiOntcbiAgICAgICAgICAgICAgICBcIjcwXCI6aGVhZGVyXzcwLFxuICAgICAgICAgICAgICAgIFwiNTBcIjpoZWFkZXJfNTBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBzcWxfaW5zZXJ0X2hlYWRlcl83MCA9IGF3YWl0IGNyZWF0ZUluc2VydFF1ZXJ5KFwic2FyaXJvdGlfZG1zLmVfZGVsaXZlcnlfbnVtYmVyXCIsaGVhZGVyXzcwKTtcbiAgICAgICAgbGV0IHNxbF9pbnNlcnRfZGV0YWlsXzcwID0gYXdhaXQgY3JlYXRlSW5zZXJ0UXVlcnkoXCJzYXJpcm90aV9kbXMuZV9kZWxpdmVyeV9udW1iZXJfZGV0YWlsXCIsZGV0YWlsXzcwKTtcbiAgICAgICAgbGV0IHNxbF9pbnNlcnRfaGVhZGVyXzUwID0gYXdhaXQgY3JlYXRlSW5zZXJ0UXVlcnkoXCJzYXJpcm90aV9kbXNfYWdlbnQuZV9kZWxpdmVyeV9udW1iZXJcIixoZWFkZXJfNTApO1xuICAgICAgICBsZXQgc3FsX2luc2VydF9kZXRhaWxfNTAgPSBhd2FpdCBjcmVhdGVJbnNlcnRRdWVyeShcInNhcmlyb3RpX2Rtc19hZ2VudC5lX2RlbGl2ZXJ5X251bWJlcl9kZXRhaWxcIixkZXRhaWxfNTApO1xuICAgICAgICBcbiAgICAgICAgbGV0IGluc2VydGluZ19oZWFkZXJfNzAgPSBhd2FpdCBpbnNlcnRRdWVyeShzcWxfaW5zZXJ0X2hlYWRlcl83MCk7XG4gICAgICAgIGxldCBpbnNlcnRpbmdfZGV0YWlsXzcwID0gYXdhaXQgaW5zZXJ0UXVlcnkoc3FsX2luc2VydF9kZXRhaWxfNzApO1xuICAgICAgICBsZXQgaW5zZXJ0aW5nX2hlYWRlcl81MCA9IGF3YWl0IGluc2VydFF1ZXJ5KHNxbF9pbnNlcnRfaGVhZGVyXzUwKTtcbiAgICAgICAgbGV0IGluc2VydGluZ19kZXRhaWxfNTAgPSBhd2FpdCBpbnNlcnRRdWVyeShzcWxfaW5zZXJ0X2RldGFpbF81MCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coaGVhZGVyXzcwKTtcbiAgICAgICAgcmV0dXJuIHJlc2x1dDtcbiAgICB9XG4gICAgY2F0Y2goZSl7XG5cbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlKHRhcmdldCwgc291cmNlKSB7XG4gICAgT2JqZWN0LmVudHJpZXMoc291cmNlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVwZGF0ZSh0YXJnZXRba2V5XSA9IHRhcmdldFtrZXldIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IFtdIDoge30pLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0W2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQnkyKHBlcnNvbnMsIGtleSkge1xuICAgIHZhciBncm91cHMgPSB7fSwgcmVzdWx0ID0gW107XG4gICAgcGVyc29ucy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIGlmICghKGFba2V5XSBpbiBncm91cHMpKSB7XG4gICAgICAgICAgICBncm91cHNbYVtrZXldXSA9IFtdO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZ3JvdXBzW2Fba2V5XV0pO1xuICAgICAgICB9XG4gICAgICAgIGdyb3Vwc1thW2tleV1dLnB1c2goYSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG5hc3luYyBmdW5jdGlvbiBwYXJzZShmaWxlKSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyB4bWwyanMuUGFyc2VyKHtleHBsaWNpdEFycmF5OiBmYWxzZSwgdGFnTmFtZVByb2Nlc3NvcnM6IFt4bWwyanMucHJvY2Vzc29ycy5zdHJpcFByZWZpeF0gfSk7XG4gIFxuICAgICAgcGFyc2VyLnBhcnNlU3RyaW5nKGZpbGUsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc29hcEJvZHkgPSByZXN1bHQuRW52ZWxvcGUuQm9keTtcblxuICAgIC8vIFJlbW92ZSBvcHRpb25hbCBhdHRyaWJ1dGUocykgZnJvbSA8Qm9keT4gZWxlbWVudC5cbiAgICBpZiAoc29hcEJvZHkuJCkge1xuICAgICAgICBkZWxldGUgc29hcEJvZHkuJDtcbiAgICB9XG4gICAgICAgICAgICByZXNvbHZlKHNvYXBCb2R5LkdldF9ETlJlc3BvbnNlLkdldF9ETlJlc3VsdC5ETl9MSVNUKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBwYXJzZV9sb2coZmlsZSkge1xuICAgIGNvbnN0IHByb21pc2UgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBwYXJzZXIgPSBuZXcgeG1sMmpzLlBhcnNlcih7ZXhwbGljaXRBcnJheTogZmFsc2UsIHRhZ05hbWVQcm9jZXNzb3JzOiBbeG1sMmpzLnByb2Nlc3NvcnMuc3RyaXBQcmVmaXhdIH0pO1xuICBcbiAgICAgIHBhcnNlci5wYXJzZVN0cmluZyhmaWxlLCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHJlamVjdChlcnJvcik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNvYXBCb2R5ID0gcmVzdWx0LkVudmVsb3BlLkJvZHk7XG5cbiAgICAvLyBSZW1vdmUgb3B0aW9uYWwgYXR0cmlidXRlKHMpIGZyb20gPEJvZHk+IGVsZW1lbnQuXG4gICAgaWYgKHNvYXBCb2R5LiQpIHtcbiAgICAgICAgZGVsZXRlIHNvYXBCb2R5LiQ7XG4gICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShzb2FwQm9keSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY29uc3QgY3JlYXRlSW5zZXJ0UXVlcnkgPSBhc3luYyAodGFibGUscGFyYW0pPT57XG4gICAgdHJ5e1xuICAgICAgICBsZXQgY29sdW1uID0gT2JqZWN0LmtleXMocGFyYW1bMF0pO1xuICAgIGxldCBsaXN0X2NvbHVtbiA9ICcnO1xuICAgIGxldCBsaXN0X3ZhbHVlID0gJyc7XG4gICAgXG4gICAgcGFyYW0uZm9yRWFjaChmdW5jdGlvbihpdGVtLGluZGV4KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IE9iamVjdC52YWx1ZXMoaXRlbSk7XG4gICAgICAgIGxldCBpc2kgPSB2YWx1ZS5qb2luKFwiJywnXCIpO1xuICAgICAgICBpZihpbmRleCA9PSAwKVxuICAgICAgICBsaXN0X3ZhbHVlICs9IGAoJyR7aXNpfScpYDtcbiAgICAgICAgZWxzZSBsaXN0X3ZhbHVlICs9IGAsKCcke2lzaX0nKWA7XG4gICAgfSk7XG4gICAgXG4gICAgZm9yKGxldCBrZXlzIGluIGNvbHVtbil7XG4gICAgICAgIGxpc3RfY29sdW1uICs9IGAsJHtjb2x1bW5ba2V5c119ID0gdmFsdWVzKCR7Y29sdW1uW2tleXNdfSlgO1xuICAgIH1cblxuICAgIGxpc3RfY29sdW1uID0gbGlzdF9jb2x1bW4uc2xpY2UoMSk7XG5cbiAgICBjb25zdCBxdWVyeV9jb2wgPSBjb2x1bW4uam9pbihcIixcIik7IFxuICAgIGNvbnN0IHNxbCA9IFxuICAgICAgICBgSU5TRVJUIElOVE8gJHt0YWJsZX0gXG4gICAgICAgICAgICAoJHtxdWVyeV9jb2x9KSBWQUxVRVMgXG4gICAgICAgICAgICAke2xpc3RfdmFsdWV9XG4gICAgICAgICAgICBvbiBkdXBsaWNhdGUga2V5IHVwZGF0ZSBcbiAgICAgICAgICAgICR7bGlzdF9jb2x1bW59XG4gICAgICAgIGA7XG4gICAgcmV0dXJuIHNxbDtcbiAgICB9Y2F0Y2goZSl7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICBcbn1cblxuY29uc3QgaW5zZXJ0UXVlcnkgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIC8vIGNvbnNvbGUubG9nKHBhcmFtKTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcblxuICAgIGNvbnN0IHIgPSBhd2FpdCBjb24ucnVuX3F1ZXJ5KHBhcmFtKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKVxuXG4gICAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCB7XG4gICAgXG4gICAgZ2V0RWRuXG4gICAgXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "edn.js"
      ],
      "names": [
        "dotenv",
        "config",
        "get_all_product",
        "table",
        "con",
        "db",
        "r",
        "run_query",
        "end_connection",
        "create_query_log",
        "param",
        "request",
        "OTF_date",
        "http_code",
        "response",
        "req",
        "parse_log",
        "JSON",
        "stringify",
        "console",
        "log",
        "resp",
        "sql",
        "insertQuery",
        "getEdn",
        "date_ob",
        "Date",
        "date",
        "dateParts",
        "split",
        "getDate",
        "slice",
        "month",
        "getMonth",
        "year",
        "getFullYear",
        "tgl",
        "tgl_iso",
        "header",
        "rr",
        "url",
        "xml",
        "headers",
        "body",
        "statusCode",
        "data_log",
        "obj",
        "push",
        "log_70",
        "log_50",
        "result",
        "parse",
        "res",
        "map",
        "row",
        "delivery_number",
        "stVBELN",
        "stLFDAT",
        "substring",
        "depo_code",
        "stKUNAG",
        "product_code",
        "stMATNR",
        "satuan",
        "stVRKME",
        "qty",
        "stLFIMG",
        "stVTWEG",
        "res2",
        "reduce",
        "acc",
        "item",
        "header_70",
        "filter",
        "e",
        "i",
        "findIndex",
        "x",
        "dn_number",
        "created_by",
        "modified_by",
        "detail_70",
        "edn_number",
        "product_id",
        "quantity",
        "detail_50",
        "header_50",
        "reslut",
        "sql_insert_header_70",
        "createInsertQuery",
        "sql_insert_detail_70",
        "sql_insert_header_50",
        "sql_insert_detail_50",
        "inserting_header_70",
        "inserting_detail_70",
        "inserting_header_50",
        "inserting_detail_50",
        "update",
        "target",
        "source",
        "Object",
        "entries",
        "forEach",
        "key",
        "value",
        "Array",
        "isArray",
        "groupBy2",
        "persons",
        "groups",
        "a",
        "file",
        "promise",
        "Promise",
        "resolve",
        "reject",
        "parser",
        "xml2js",
        "Parser",
        "explicitArray",
        "tagNameProcessors",
        "processors",
        "stripPrefix",
        "parseString",
        "error",
        "soapBody",
        "Envelope",
        "Body",
        "$",
        "Get_DNResponse",
        "Get_DNResult",
        "DN_LIST",
        "column",
        "keys",
        "list_column",
        "list_value",
        "index",
        "values",
        "isi",
        "join",
        "query_col"
      ],
      "mappings": "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",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/controller/",
      "sourcesContent": [
        "import db from '../db/dbcon';\nimport axios from 'easy-soap-request';\nimport mysql from 'mysql';\nimport xml2js from 'xml2js';\nimport sqlstring from 'sqlstring';\nimport util from 'util';\nimport dotenv from 'dotenv';\ndotenv.config();\n\nconst get_all_product = async (table) => {\n    const con = new db();\n    \n    const r = await con.run_query(`select p.product_code,p.product_code from ${table}`);\n    con.end_connection()\n    // console.log(r);\n    return r;\n}\n\nconst create_query_log = async (table,param) => {\n    let {request,OTF_date,http_code,response} = param;\n    // const con = mysql.createConnection({\n    //     host            : process.env.DB_DOMAIN,\n    //     user            : process.env.DB_USERNAME,\n    //     password        : process.env.DB_PASSWORD,\n    //     database        : process.env.DB_SCHEMA\n    // });\n    let req = await parse_log(request);\n    req = JSON.stringify(req);\n    console.log(\"request :\"+req);\n    let resp = await parse_log(response);\n    resp = JSON.stringify(resp);\n    console.log(\"response :\"+resp);\n    const sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;\n    // const data = [[request,OTF_date,http_code,response,0,0]];\n    const r = await insertQuery(sql)\n    // con.end_connection()\n    // con.query(sql, [data], (err, results, fields) => {\n    //     if (err) {\n    //       return console.error(err.message);\n    //     }\n    //     // get inserted rows\n    //     console.log('Row inserted:' + results.affectedRows);\n    //     // return results;\n    //   });\n    //   con.end()\n    // console.log(results);\n    \n}\n\nconst getEdn = async (param = null) =>{\n    let date_ob;\n    if(param == null || typeof param == 'undefined'){\n        date_ob = new Date();\n    }else {\n        let {date} =  param;\n        var dateParts = date.split(\"-\");\n        date_ob = new Date(+dateParts[0], dateParts[1] - 1, +dateParts[2]) \n    }\n    // adjust 0 before single digit date\n    let date = (\"0\" + date_ob.getDate()).slice(-2);\n\n    // current month\n    let month = (\"0\" + (date_ob.getMonth() + 1)).slice(-2);\n\n    // current year\n    let year = date_ob.getFullYear();\n\n    let tgl = year+\"/\"+month+\"/\"+date;\n    let tgl_iso = year+\"-\"+month+\"-\"+date;\n    \n    \n    const config = {\n        \n            \"Content-Type\" : \"application/soap+xml; charset=utf-8\"          \n        \n    }\n\n    const header = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\">\n      <soap12:Body>\n        <Get_DN xmlns=\"http://tempuri.org/\">\n          <P_LFDAT>${tgl}</P_LFDAT>\n        </Get_DN>\n      </soap12:Body>\n    </soap12:Envelope>`;\n\n    let request = header;\n    try{\n        // console.log(raw_lama_kebaruan);\n        const rr = await axios({url:`https://webservice.sariroti.com/e-DMSWebservice/GetDN.asmx`,xml:header,headers:config,});\n        // console.log(\"t\")\n        const { headers, body, statusCode } = rr.response;\n        // console.log(\"status_code :\" +statusCode);\n        // console.log(\"header :\" +header);\n        let data_log = [];\n        let obj = {\"OTF_date\":tgl_iso, \"http_code\" : statusCode, \"request\":request, \"response\":body};\n        data_log.push(obj);\n        // console.log(data_log);\n        const log_70 = await create_query_log(\"sariroti_dms.e_delivery_number_log\",obj);\n        const log_50 = await create_query_log(\"sariroti_dms_agent.e_delivery_number_log\",obj);\n        console.log(log_70);\n        // const i_log_70 = await insertQuery(log_70);\n        // const i_log_50 = await insertQuery(log_50);\n        // let product_70 = await get_all_product(\"sariroti_dms.product p\");\n        // let product_50 = await get_all_product(\"sariroti_dms_agent.product p\");\n        // console.log(depo);\n        let result = await parse(body);\n        // let product_70 = await get_all_product(\"sariroti_dms.product\");\n        // let product_50 = await get_all_product(\"sariroti_dms_agent.product\");\n         var res = result.map(row => ({ \n\n            delivery_number : row.stVBELN,\n            OTF_date : row.stLFDAT.substring(0, 4)+'-'+row.stLFDAT.substring(4, 6)+'-'+row.stLFDAT.substring(6, 8),\n            depo_code : row.stKUNAG.substring(2),\n            product_code : row.stMATNR,\n            satuan : row.stVRKME,\n            qty : row.stLFIMG,\n            db : row.stVTWEG\n            }));\n        \n\n        \n        let res2 = res.reduce((acc, item) => {\n            if (!acc[item.db]) {\n              acc[item.db] = [];\n            }\n          \n            acc[item.db].push(item);\n            return acc;\n          }, {})\n\n          \n        let header_70 = res2[70].filter((e, i) => {\n            return res2[70].findIndex((x) => {\n            return x.dn_number == e.dn_number && x.depo_code == e.depo_code;}) == i;\n        });\n        \n        header_70 = header_70.map(row => ({ \n\n            delivery_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            depo_code : row.depo_code,\n            created_by : 0,\n            modified_by : 0\n            }));\n        \n        let detail_70 = res2[70].map(row => ({\n            edn_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            product_id : row.product_code,\n            quantity : row.qty,\n            satuan : row.satuan,\n            created_by : 0,\n            modified_by : 0\n        }));\n\n        let detail_50 = res2[50].map(row => ({\n            edn_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            product_id : row.product_code,\n            quantity : row.qty,\n            satuan : row.satuan,\n            created_by : 0,\n            modified_by : 0\n        }));\n        \n        let header_50 = res2[50].filter((e, i) => {\n            return res2[50].findIndex((x) => {\n            return x.dn_number == e.dn_number && x.depo_code == e.depo_code;}) == i;\n        });\n\n        header_50 = header_50.map(row => ({ \n\n            delivery_number : row.stVBELN,\n            OTF_date : row.OTF_date,\n            depo_code : row.depo_code,\n            created_by : 0,\n            modified_by : 0\n            }));\n\n        let reslut = {\n            \"detail\":{\"50\":detail_50,\"70\":detail_70},\n            \"header\":{\n                \"70\":header_70,\n                \"50\":header_50\n                    }\n        };\n\n        let sql_insert_header_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number\",header_70);\n        let sql_insert_detail_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number_detail\",detail_70);\n        let sql_insert_header_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number\",header_50);\n        let sql_insert_detail_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number_detail\",detail_50);\n        \n        let inserting_header_70 = await insertQuery(sql_insert_header_70);\n        let inserting_detail_70 = await insertQuery(sql_insert_detail_70);\n        let inserting_header_50 = await insertQuery(sql_insert_header_50);\n        let inserting_detail_50 = await insertQuery(sql_insert_detail_50);\n\n        console.log(header_70);\n        return reslut;\n    }\n    catch(e){\n\n        console.log(e);\n        return e;\n    }\n}\n\nfunction update(target, source) {\n    Object.entries(source).forEach(([key, value]) => {\n        if (value && typeof value === 'object') {\n            update(target[key] = target[key] || (Array.isArray(value) ? [] : {}), value);\n        } else if (target[key] !== value) {\n            target[key] = value;\n        }\n    });\n}\n\nfunction groupBy2(persons, key) {\n    var groups = {}, result = [];\n    persons.forEach(function (a) {\n        if (!(a[key] in groups)) {\n            groups[a[key]] = [];\n            result.push(groups[a[key]]);\n        }\n        groups[a[key]].push(a);\n    });\n    return result;\n  }\n\nasync function parse(file) {\n    const promise = await new Promise((resolve, reject) => {\n      const parser = new xml2js.Parser({explicitArray: false, tagNameProcessors: [xml2js.processors.stripPrefix] });\n  \n      parser.parseString(file, (error, result) => {\n        if (error) reject(error);\n        else {\n            var soapBody = result.Envelope.Body;\n\n    // Remove optional attribute(s) from <Body> element.\n    if (soapBody.$) {\n        delete soapBody.$;\n    }\n            resolve(soapBody.Get_DNResponse.Get_DNResult.DN_LIST);\n        }\n      });\n    });\n    return promise;\n  }\n\n  async function parse_log(file) {\n    const promise = await new Promise((resolve, reject) => {\n      const parser = new xml2js.Parser({explicitArray: false, tagNameProcessors: [xml2js.processors.stripPrefix] });\n  \n      parser.parseString(file, (error, result) => {\n        if (error) reject(error);\n        else {\n            var soapBody = result.Envelope.Body;\n\n    // Remove optional attribute(s) from <Body> element.\n    if (soapBody.$) {\n        delete soapBody.$;\n    }\n            resolve(soapBody);\n        }\n      });\n    });\n    return promise;\n  }\n\n  const createInsertQuery = async (table,param)=>{\n    try{\n        let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    \n    param.forEach(function(item,index) {\n        let value = Object.values(item);\n        let isi = value.join(\"','\");\n        if(index == 0)\n        list_value += `('${isi}')`;\n        else list_value += `,('${isi}')`;\n    });\n    \n    for(let keys in column){\n        list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n\n    const query_col = column.join(\",\"); \n    const sql = \n        `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n    }catch(e){\n        return e;\n    }\n    \n}\n\nconst insertQuery = async (param) =>{\n    // console.log(param);\n    const con = new db();\n\n    const r = await con.run_query(param);\n    con.end_connection()\n\n    return r;\n}\n\nexport {\n    \n    getEdn\n    \n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1606794433643
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/routes/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n/* GET home page. */\n\nrouter.get('/', function (req, res, next) {\n  res.render('index', {\n    title: 'Express'\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInJlbmRlciIsInRpdGxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWI7QUFFQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3ZDRCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyxPQUFYLEVBQW9CO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQXBCO0FBQ0QsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL3Nhcm90X25vZGUvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8qIEdFVCBob21lIHBhZ2UuICovXG5yb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLnJlbmRlcignaW5kZXgnLCB7IHRpdGxlOiAnRXhwcmVzcycgfSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "next",
        "render",
        "title",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;AAEA;;AACAD,MAAM,CAACE,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAApB;AACD,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express' });\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605774148830
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/routes/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/routes/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/routes/users.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/routes/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn');\n/* GET users listing. */\n\n\nrouter.get('/', function (req, res, next) {\n  res.send('respond with a resource');\n});\nrouter.post('/tes_res', function (req, res, next) {\n  tcontr.tarik_tes().then(v => {\n    res.send(v);\n  });\n});\nrouter.post('/get_edn', function (req, res, next) {\n  tcontr.getEdn({\n    date: `${req.body.date}`\n  }).then(v => {\n    res.send(v);\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwidGNvbnRyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInNlbmQiLCJwb3N0IiwidGFyaWtfdGVzIiwidGhlbiIsInYiLCJnZXRFZG4iLCJkYXRlIiwiYm9keSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUVBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLHVCQUFELENBQXBCO0FBRUE7OztBQUNBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDdkNELEVBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTLHlCQUFUO0FBQ0QsQ0FGRDtBQUlBUCxNQUFNLENBQUNRLElBQVAsQ0FBWSxVQUFaLEVBQXdCLFVBQVNKLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDOUNKLEVBQUFBLE1BQU0sQ0FBQ08sU0FBUCxHQUFtQkMsSUFBbkIsQ0FBeUJDLENBQUQsSUFBTztBQUM3Qk4sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNJLENBQVQ7QUFDRCxHQUZEO0FBR0QsQ0FKRDtBQU1BWCxNQUFNLENBQUNRLElBQVAsQ0FBWSxVQUFaLEVBQXdCLFVBQVNKLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDOUNKLEVBQUFBLE1BQU0sQ0FBQ1UsTUFBUCxDQUFjO0FBQUNDLElBQUFBLElBQUksRUFBSSxHQUFFVCxHQUFHLENBQUNVLElBQUosQ0FBU0QsSUFBSztBQUF6QixHQUFkLEVBQTJDSCxJQUEzQyxDQUFpREMsQ0FBRCxJQUFPO0FBQ3JETixJQUFBQSxHQUFHLENBQUNFLElBQUosQ0FBU0ksQ0FBVDtBQUNELEdBRkQ7QUFHRCxDQUpEO0FBTUFJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL3Nhcm90X25vZGUvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnZhciB0Y29udHIgPSByZXF1aXJlKCcuLi9zcmMvY29udHJvbGxlci9lZG4nKVxuXG4vKiBHRVQgdXNlcnMgbGlzdGluZy4gKi9cbnJvdXRlci5nZXQoJy8nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICByZXMuc2VuZCgncmVzcG9uZCB3aXRoIGEgcmVzb3VyY2UnKTtcbn0pO1xuXG5yb3V0ZXIucG9zdCgnL3Rlc19yZXMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7XG4gIHRjb250ci50YXJpa190ZXMoKS50aGVuKCh2KSA9PiB7XG4gICAgcmVzLnNlbmQodilcbiAgfSlcbn0pO1xuXG5yb3V0ZXIucG9zdCgnL2dldF9lZG4nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7XG4gIHRjb250ci5nZXRFZG4oe2RhdGUgOiBgJHtyZXEuYm9keS5kYXRlfWB9KS50aGVuKCh2KSA9PiB7XG4gICAgcmVzLnNlbmQodilcbiAgfSlcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "tcontr",
        "get",
        "req",
        "res",
        "next",
        "send",
        "post",
        "tarik_tes",
        "then",
        "v",
        "getEdn",
        "date",
        "body",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AAEA,IAAIC,MAAM,GAAGH,OAAO,CAAC,uBAAD,CAApB;AAEA;;;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,IAAJ,CAAS,yBAAT;AACD,CAFD;AAIAP,MAAM,CAACQ,IAAP,CAAY,UAAZ,EAAwB,UAASJ,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC9CJ,EAAAA,MAAM,CAACO,SAAP,GAAmBC,IAAnB,CAAyBC,CAAD,IAAO;AAC7BN,IAAAA,GAAG,CAACE,IAAJ,CAASI,CAAT;AACD,GAFD;AAGD,CAJD;AAMAX,MAAM,CAACQ,IAAP,CAAY,UAAZ,EAAwB,UAASJ,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC9CJ,EAAAA,MAAM,CAACU,MAAP,CAAc;AAACC,IAAAA,IAAI,EAAI,GAAET,GAAG,CAACU,IAAJ,CAASD,IAAK;AAAzB,GAAd,EAA2CH,IAA3C,CAAiDC,CAAD,IAAO;AACrDN,IAAAA,GAAG,CAACE,IAAJ,CAASI,CAAT;AACD,GAFD;AAGD,CAJD;AAMAI,MAAM,CAACC,OAAP,GAAiBhB,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn')\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n  res.send('respond with a resource');\n});\n\nrouter.post('/tes_res', function(req, res, next){\n  tcontr.tarik_tes().then((v) => {\n    res.send(v)\n  })\n});\n\nrouter.post('/get_edn', function(req, res, next){\n  tcontr.getEdn({date : `${req.body.date}`}).then((v) => {\n    res.send(v)\n  })\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1606795040372
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/src/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/src/controller/edn.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/controller/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/src/controller/edn.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/src/controller/edn.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/src/controller/edn.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/src/controller/",
        "sourceFileName": "edn.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEdn = void 0;\n\nvar _dbcon = _interopRequireDefault(require(\"../db/dbcon\"));\n\nvar _easySoapRequest = _interopRequireDefault(require(\"easy-soap-request\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _xml2js = _interopRequireDefault(require(\"xml2js\"));\n\nvar _sqlstring = _interopRequireDefault(require(\"sqlstring\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst get_all_product = async table => {\n  const con = new _dbcon.default();\n  const r = await con.run_query(`select p.product_code,p.product_code from ${table}`);\n  con.end_connection(); // console.log(r);\n\n  return r;\n};\n\nconst create_query_log = async (table, param) => {\n  let {\n    request,\n    OTF_date,\n    http_code,\n    response\n  } = param; // const con = mysql.createConnection({\n  //     host            : process.env.DB_DOMAIN,\n  //     user            : process.env.DB_USERNAME,\n  //     password        : process.env.DB_PASSWORD,\n  //     database        : process.env.DB_SCHEMA\n  // });\n\n  let req = await parse_log(request);\n  req = JSON.stringify(req);\n  console.log(\"request :\" + req);\n  let resp = await parse_log(response);\n  resp = JSON.stringify(resp);\n  let is_resp_json = isJsonParsable(resp);\n  console.log(\"response :\" + resp);\n  let sql = '';\n  if (is_resp_json) sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;else sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${response}',0,0)`; // const data = [[request,OTF_date,http_code,response,0,0]];\n\n  const r = await insertQuery(sql); // con.end_connection()\n  // con.query(sql, [data], (err, results, fields) => {\n  //     if (err) {\n  //       return console.error(err.message);\n  //     }\n  //     // get inserted rows\n  //     console.log('Row inserted:' + results.affectedRows);\n  //     // return results;\n  //   });\n  //   con.end()\n  // console.log(results);\n};\n\nconst isJsonParsable = string => {\n  try {\n    JSON.parse(string);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nfunction today() {\n  let date_today = new Date().toLocaleDateString(\"en-CA\");\n  let ret = {\n    \"date\": date_today\n  };\n  return ret;\n}\n\nconst getEdn = async (param = null) => {\n  // console.log(param);\n  let {\n    date\n  } = param;\n  let date_ob;\n\n  if (date == null || typeof date == 'undefined' || date == 'undefined') {\n    date_ob = new Date(); // console.log(date_ob); \n  } else {\n    var dateParts = date.split(\"-\");\n    date_ob = new Date(+dateParts[0], dateParts[1] - 1, +dateParts[2]);\n  } // adjust 0 before single digit date\n\n\n  let date_str = (\"0\" + date_ob.getDate()).slice(-2); // current month\n\n  let month = (\"0\" + (date_ob.getMonth() + 1)).slice(-2); // current year\n\n  let year = date_ob.getFullYear();\n  let tgl = year + \"/\" + month + \"/\" + date_str;\n  let tgl_iso = year + \"-\" + month + \"-\" + date_str;\n  const config = {\n    \"Content-Type\": \"application/soap+xml; charset=utf-8\"\n  };\n  const header = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\">\n      <soap12:Body>\n        <Get_DN xmlns=\"http://tempuri.org/\">\n          <P_LFDAT>${tgl}</P_LFDAT>\n        </Get_DN>\n      </soap12:Body>\n    </soap12:Envelope>`;\n  let request = header;\n\n  try {\n    // console.log(raw_lama_kebaruan);\n    const rr = await (0, _easySoapRequest.default)({\n      url: `https://webservice.sariroti.com/e-DMSWebservice/GetDN.asmx`,\n      xml: header,\n      headers: config\n    }); // console.log(\"t\")\n\n    const {\n      headers,\n      body,\n      statusCode\n    } = rr.response; // console.log(\"status_code :\" +statusCode);\n    // console.log(\"header :\" +header);\n\n    let data_log = [];\n    let obj = {\n      \"OTF_date\": tgl_iso,\n      \"http_code\": statusCode,\n      \"request\": request,\n      \"response\": body\n    };\n    data_log.push(obj); // console.log(data_log);\n\n    const log_70 = await create_query_log(\"sariroti_dms.e_delivery_number_log\", obj);\n    const log_50 = await create_query_log(\"sariroti_dms_agent.e_delivery_number_log\", obj);\n    console.log(log_70); // const i_log_70 = await insertQuery(log_70);\n    // const i_log_50 = await insertQuery(log_50);\n    // let product_70 = await get_all_product(\"sariroti_dms.product p\");\n    // let product_50 = await get_all_product(\"sariroti_dms_agent.product p\");\n    // console.log(depo);\n\n    let result = await parse(body); // let product_70 = await get_all_product(\"sariroti_dms.product\");\n    // let product_50 = await get_all_product(\"sariroti_dms_agent.product\");\n\n    var res = result.map(row => ({\n      delivery_number: row.stVBELN,\n      OTF_date: row.stLFDAT.substring(0, 4) + '-' + row.stLFDAT.substring(4, 6) + '-' + row.stLFDAT.substring(6, 8),\n      depo_code: row.stKUNAG.substring(2),\n      product_code: row.stMATNR,\n      satuan: row.stVRKME,\n      qty: row.stLFIMG,\n      db: row.stVTWEG\n    }));\n    let res2 = res.reduce((acc, item) => {\n      if (!acc[item.db]) {\n        acc[item.db] = [];\n      }\n\n      acc[item.db].push(item);\n      return acc;\n    }, {});\n    let header_70 = res2[70].reduce((arr, item) => {\n      let exists = !!arr.find(x => x.delivery_number === item.delivery_number);\n\n      if (!exists) {\n        arr.push(item);\n      }\n\n      return arr;\n    }, []);\n    header_70 = header_70.map(row => ({\n      delivery_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      depo_code: row.depo_code,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let detail_70 = res2[70].map(row => ({\n      edn_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      product_id: row.product_code,\n      quantity: row.qty,\n      satuan: row.satuan,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let detail_50 = res2[50].map(row => ({\n      edn_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      product_id: row.product_code,\n      quantity: row.qty,\n      satuan: row.satuan,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let header_50 = res2[50].reduce((arr, item) => {\n      let exists = !!arr.find(x => x.delivery_number === item.delivery_number);\n\n      if (!exists) {\n        arr.push(item);\n      }\n\n      return arr;\n    }, []);\n    header_50 = header_50.map(row => ({\n      delivery_number: row.delivery_number,\n      OTF_date: row.OTF_date,\n      depo_code: row.depo_code,\n      created_by: 0,\n      modified_by: 0\n    }));\n    let reslut = {\n      \"detail\": {\n        \"50\": detail_50,\n        \"70\": detail_70\n      },\n      \"header\": {\n        \"70\": header_70,\n        \"50\": header_50\n      }\n    };\n    let sql_insert_header_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number\", header_70);\n    let sql_insert_detail_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number_detail\", detail_70);\n    let sql_insert_header_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number\", header_50);\n    let sql_insert_detail_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number_detail\", detail_50);\n    let inserting_header_70 = await insertQuery(sql_insert_header_70);\n    let inserting_detail_70 = await insertQuery(sql_insert_detail_70);\n    let inserting_header_50 = await insertQuery(sql_insert_header_50);\n    let inserting_detail_50 = await insertQuery(sql_insert_detail_50);\n    console.log(header_70);\n    return reslut;\n  } catch (e) {\n    console.log(e);\n    return e;\n  }\n};\n\nexports.getEdn = getEdn;\n\nfunction update(target, source) {\n  Object.entries(source).forEach(([key, value]) => {\n    if (value && typeof value === 'object') {\n      update(target[key] = target[key] || (Array.isArray(value) ? [] : {}), value);\n    } else if (target[key] !== value) {\n      target[key] = value;\n    }\n  });\n}\n\nfunction groupBy2(persons, key) {\n  var groups = {},\n      result = [];\n  persons.forEach(function (a) {\n    if (!(a[key] in groups)) {\n      groups[a[key]] = [];\n      result.push(groups[a[key]]);\n    }\n\n    groups[a[key]].push(a);\n  });\n  return result;\n}\n\nasync function parse(file) {\n  const promise = await new Promise((resolve, reject) => {\n    const parser = new _xml2js.default.Parser({\n      explicitArray: false,\n      tagNameProcessors: [_xml2js.default.processors.stripPrefix]\n    });\n    parser.parseString(file, (error, result) => {\n      if (error) reject(error);else {\n        var soapBody = result.Envelope.Body; // Remove optional attribute(s) from <Body> element.\n\n        if (soapBody.$) {\n          delete soapBody.$;\n        }\n\n        resolve(soapBody.Get_DNResponse.Get_DNResult.DN_LIST);\n      }\n    });\n  });\n  return promise;\n}\n\nasync function parse_log(file) {\n  const promise = await new Promise((resolve, reject) => {\n    const parser = new _xml2js.default.Parser({\n      explicitArray: false,\n      tagNameProcessors: [_xml2js.default.processors.stripPrefix]\n    });\n    parser.parseString(file, (error, result) => {\n      if (error) reject(error);else {\n        var soapBody = result.Envelope.Body; // Remove optional attribute(s) from <Body> element.\n\n        if (soapBody.$) {\n          delete soapBody.$;\n        }\n\n        resolve(soapBody);\n      }\n    });\n  });\n  return promise;\n}\n\nconst createInsertQuery = async (table, param) => {\n  try {\n    let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    param.forEach(function (item, index) {\n      let value = Object.values(item);\n      let isi = value.join(\"','\");\n      if (index == 0) list_value += `('${isi}')`;else list_value += `,('${isi}')`;\n    });\n\n    for (let keys in column) {\n      list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n    const query_col = column.join(\",\");\n    const sql = `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n  } catch (e) {\n    return e;\n  }\n};\n\nconst insertQuery = async param => {\n  // console.log(param);\n  const con = new _dbcon.default();\n  const r = await con.run_query(param);\n  con.end_connection();\n  return r;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkbi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJnZXRfYWxsX3Byb2R1Y3QiLCJ0YWJsZSIsImNvbiIsImRiIiwiciIsInJ1bl9xdWVyeSIsImVuZF9jb25uZWN0aW9uIiwiY3JlYXRlX3F1ZXJ5X2xvZyIsInBhcmFtIiwicmVxdWVzdCIsIk9URl9kYXRlIiwiaHR0cF9jb2RlIiwicmVzcG9uc2UiLCJyZXEiLCJwYXJzZV9sb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImxvZyIsInJlc3AiLCJpc19yZXNwX2pzb24iLCJpc0pzb25QYXJzYWJsZSIsInNxbCIsImluc2VydFF1ZXJ5Iiwic3RyaW5nIiwicGFyc2UiLCJlIiwidG9kYXkiLCJkYXRlX3RvZGF5IiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInJldCIsImdldEVkbiIsImRhdGUiLCJkYXRlX29iIiwiZGF0ZVBhcnRzIiwic3BsaXQiLCJkYXRlX3N0ciIsImdldERhdGUiLCJzbGljZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJ0Z2wiLCJ0Z2xfaXNvIiwiaGVhZGVyIiwicnIiLCJ1cmwiLCJ4bWwiLCJoZWFkZXJzIiwiYm9keSIsInN0YXR1c0NvZGUiLCJkYXRhX2xvZyIsIm9iaiIsInB1c2giLCJsb2dfNzAiLCJsb2dfNTAiLCJyZXN1bHQiLCJyZXMiLCJtYXAiLCJyb3ciLCJkZWxpdmVyeV9udW1iZXIiLCJzdFZCRUxOIiwic3RMRkRBVCIsInN1YnN0cmluZyIsImRlcG9fY29kZSIsInN0S1VOQUciLCJwcm9kdWN0X2NvZGUiLCJzdE1BVE5SIiwic2F0dWFuIiwic3RWUktNRSIsInF0eSIsInN0TEZJTUciLCJzdFZUV0VHIiwicmVzMiIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJoZWFkZXJfNzAiLCJhcnIiLCJleGlzdHMiLCJmaW5kIiwieCIsImNyZWF0ZWRfYnkiLCJtb2RpZmllZF9ieSIsImRldGFpbF83MCIsImVkbl9udW1iZXIiLCJwcm9kdWN0X2lkIiwicXVhbnRpdHkiLCJkZXRhaWxfNTAiLCJoZWFkZXJfNTAiLCJyZXNsdXQiLCJzcWxfaW5zZXJ0X2hlYWRlcl83MCIsImNyZWF0ZUluc2VydFF1ZXJ5Iiwic3FsX2luc2VydF9kZXRhaWxfNzAiLCJzcWxfaW5zZXJ0X2hlYWRlcl81MCIsInNxbF9pbnNlcnRfZGV0YWlsXzUwIiwiaW5zZXJ0aW5nX2hlYWRlcl83MCIsImluc2VydGluZ19kZXRhaWxfNzAiLCJpbnNlcnRpbmdfaGVhZGVyXzUwIiwiaW5zZXJ0aW5nX2RldGFpbF81MCIsInVwZGF0ZSIsInRhcmdldCIsInNvdXJjZSIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJncm91cEJ5MiIsInBlcnNvbnMiLCJncm91cHMiLCJhIiwiZmlsZSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInBhcnNlciIsInhtbDJqcyIsIlBhcnNlciIsImV4cGxpY2l0QXJyYXkiLCJ0YWdOYW1lUHJvY2Vzc29ycyIsInByb2Nlc3NvcnMiLCJzdHJpcFByZWZpeCIsInBhcnNlU3RyaW5nIiwiZXJyb3IiLCJzb2FwQm9keSIsIkVudmVsb3BlIiwiQm9keSIsIiQiLCJHZXRfRE5SZXNwb25zZSIsIkdldF9ETlJlc3VsdCIsIkROX0xJU1QiLCJjb2x1bW4iLCJrZXlzIiwibGlzdF9jb2x1bW4iLCJsaXN0X3ZhbHVlIiwiaW5kZXgiLCJ2YWx1ZXMiLCJpc2kiLCJqb2luIiwicXVlcnlfY29sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQUEsZ0JBQU9DLE1BQVA7O0FBRUEsTUFBTUMsZUFBZSxHQUFHLE1BQU9DLEtBQVAsSUFBaUI7QUFDckMsUUFBTUMsR0FBRyxHQUFHLElBQUlDLGNBQUosRUFBWjtBQUVBLFFBQU1DLENBQUMsR0FBRyxNQUFNRixHQUFHLENBQUNHLFNBQUosQ0FBZSw2Q0FBNENKLEtBQU0sRUFBakUsQ0FBaEI7QUFDQUMsRUFBQUEsR0FBRyxDQUFDSSxjQUFKLEdBSnFDLENBS3JDOztBQUNBLFNBQU9GLENBQVA7QUFDSCxDQVBEOztBQVNBLE1BQU1HLGdCQUFnQixHQUFHLE9BQU9OLEtBQVAsRUFBYU8sS0FBYixLQUF1QjtBQUM1QyxNQUFJO0FBQUNDLElBQUFBLE9BQUQ7QUFBU0MsSUFBQUEsUUFBVDtBQUFrQkMsSUFBQUEsU0FBbEI7QUFBNEJDLElBQUFBO0FBQTVCLE1BQXdDSixLQUE1QyxDQUQ0QyxDQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBSUssR0FBRyxHQUFHLE1BQU1DLFNBQVMsQ0FBQ0wsT0FBRCxDQUF6QjtBQUNBSSxFQUFBQSxHQUFHLEdBQUdFLElBQUksQ0FBQ0MsU0FBTCxDQUFlSCxHQUFmLENBQU47QUFDQUksRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWUwsR0FBeEI7QUFDQSxNQUFJTSxJQUFJLEdBQUcsTUFBTUwsU0FBUyxDQUFDRixRQUFELENBQTFCO0FBQ0FPLEVBQUFBLElBQUksR0FBR0osSUFBSSxDQUFDQyxTQUFMLENBQWVHLElBQWYsQ0FBUDtBQUNBLE1BQUlDLFlBQVksR0FBR0MsY0FBYyxDQUFDRixJQUFELENBQWpDO0FBQ0FGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQWFDLElBQXpCO0FBQ0EsTUFBSUcsR0FBRyxHQUFHLEVBQVY7QUFDQSxNQUFHRixZQUFILEVBQ0FFLEdBQUcsR0FBSSxlQUFjckIsS0FBTSw0RUFBMkVZLEdBQUksTUFBS0gsUUFBUyxNQUFLQyxTQUFVLE1BQUtRLElBQUssUUFBakosQ0FEQSxLQUVLRyxHQUFHLEdBQUksZUFBY3JCLEtBQU0sNEVBQTJFWSxHQUFJLE1BQUtILFFBQVMsTUFBS0MsU0FBVSxNQUFLQyxRQUFTLFFBQXJKLENBbEJ1QyxDQW1CNUM7O0FBQ0EsUUFBTVIsQ0FBQyxHQUFHLE1BQU1tQixXQUFXLENBQUNELEdBQUQsQ0FBM0IsQ0FwQjRDLENBcUI1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUgsQ0FqQ0Q7O0FBbUNBLE1BQU1ELGNBQWMsR0FBSUcsTUFBRCxJQUFZO0FBQy9CLE1BQUk7QUFDQVQsSUFBQUEsSUFBSSxDQUFDVSxLQUFMLENBQVdELE1BQVg7QUFDSCxHQUZELENBRUUsT0FBT0UsQ0FBUCxFQUFVO0FBQ1IsV0FBTyxLQUFQO0FBQ0g7O0FBQ0QsU0FBTyxJQUFQO0FBQ0gsQ0FQRDs7QUFTQSxTQUFTQyxLQUFULEdBQWlCO0FBQ2IsTUFBSUMsVUFBVSxHQUFHLElBQUlDLElBQUosR0FBV0Msa0JBQVgsQ0FBOEIsT0FBOUIsQ0FBakI7QUFDQSxNQUFJQyxHQUFHLEdBQUc7QUFBQyxZQUFPSDtBQUFSLEdBQVY7QUFDQSxTQUFPRyxHQUFQO0FBQ0g7O0FBRUQsTUFBTUMsTUFBTSxHQUFHLE9BQU94QixLQUFLLEdBQUcsSUFBZixLQUF1QjtBQUNsQztBQUNBLE1BQUk7QUFBQ3lCLElBQUFBO0FBQUQsTUFBVXpCLEtBQWQ7QUFDQSxNQUFJMEIsT0FBSjs7QUFDQSxNQUFHRCxJQUFJLElBQUksSUFBUixJQUFnQixPQUFPQSxJQUFQLElBQWUsV0FBL0IsSUFBOENBLElBQUksSUFBSSxXQUF6RCxFQUFxRTtBQUNqRUMsSUFBQUEsT0FBTyxHQUFHLElBQUlMLElBQUosRUFBVixDQURpRSxDQUVqRTtBQUNILEdBSEQsTUFHTTtBQUVGLFFBQUlNLFNBQVMsR0FBR0YsSUFBSSxDQUFDRyxLQUFMLENBQVcsR0FBWCxDQUFoQjtBQUNBRixJQUFBQSxPQUFPLEdBQUcsSUFBSUwsSUFBSixDQUFTLENBQUNNLFNBQVMsQ0FBQyxDQUFELENBQW5CLEVBQXdCQSxTQUFTLENBQUMsQ0FBRCxDQUFULEdBQWUsQ0FBdkMsRUFBMEMsQ0FBQ0EsU0FBUyxDQUFDLENBQUQsQ0FBcEQsQ0FBVjtBQUNILEdBWGlDLENBWWxDOzs7QUFDQSxNQUFJRSxRQUFRLEdBQUcsQ0FBQyxNQUFNSCxPQUFPLENBQUNJLE9BQVIsRUFBUCxFQUEwQkMsS0FBMUIsQ0FBZ0MsQ0FBQyxDQUFqQyxDQUFmLENBYmtDLENBZWxDOztBQUNBLE1BQUlDLEtBQUssR0FBRyxDQUFDLE9BQU9OLE9BQU8sQ0FBQ08sUUFBUixLQUFxQixDQUE1QixDQUFELEVBQWlDRixLQUFqQyxDQUF1QyxDQUFDLENBQXhDLENBQVosQ0FoQmtDLENBa0JsQzs7QUFDQSxNQUFJRyxJQUFJLEdBQUdSLE9BQU8sQ0FBQ1MsV0FBUixFQUFYO0FBRUEsTUFBSUMsR0FBRyxHQUFHRixJQUFJLEdBQUMsR0FBTCxHQUFTRixLQUFULEdBQWUsR0FBZixHQUFtQkgsUUFBN0I7QUFDQSxNQUFJUSxPQUFPLEdBQUdILElBQUksR0FBQyxHQUFMLEdBQVNGLEtBQVQsR0FBZSxHQUFmLEdBQW1CSCxRQUFqQztBQUdBLFFBQU10QyxNQUFNLEdBQUc7QUFFUCxvQkFBaUI7QUFGVixHQUFmO0FBTUEsUUFBTStDLE1BQU0sR0FBSTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUJGLEdBQUk7QUFDekI7QUFDQTtBQUNBLHVCQVBJO0FBU0EsTUFBSW5DLE9BQU8sR0FBR3FDLE1BQWQ7O0FBQ0EsTUFBRztBQUNDO0FBQ0EsVUFBTUMsRUFBRSxHQUFHLE1BQU0sOEJBQU07QUFBQ0MsTUFBQUEsR0FBRyxFQUFFLDREQUFOO0FBQWtFQyxNQUFBQSxHQUFHLEVBQUNILE1BQXRFO0FBQTZFSSxNQUFBQSxPQUFPLEVBQUNuRDtBQUFyRixLQUFOLENBQWpCLENBRkQsQ0FHQzs7QUFDQSxVQUFNO0FBQUVtRCxNQUFBQSxPQUFGO0FBQVdDLE1BQUFBLElBQVg7QUFBaUJDLE1BQUFBO0FBQWpCLFFBQWdDTCxFQUFFLENBQUNuQyxRQUF6QyxDQUpELENBS0M7QUFDQTs7QUFDQSxRQUFJeUMsUUFBUSxHQUFHLEVBQWY7QUFDQSxRQUFJQyxHQUFHLEdBQUc7QUFBQyxrQkFBV1QsT0FBWjtBQUFxQixtQkFBY08sVUFBbkM7QUFBK0MsaUJBQVUzQyxPQUF6RDtBQUFrRSxrQkFBVzBDO0FBQTdFLEtBQVY7QUFDQUUsSUFBQUEsUUFBUSxDQUFDRSxJQUFULENBQWNELEdBQWQsRUFURCxDQVVDOztBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNakQsZ0JBQWdCLENBQUMsb0NBQUQsRUFBc0MrQyxHQUF0QyxDQUFyQztBQUNBLFVBQU1HLE1BQU0sR0FBRyxNQUFNbEQsZ0JBQWdCLENBQUMsMENBQUQsRUFBNEMrQyxHQUE1QyxDQUFyQztBQUNBckMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlzQyxNQUFaLEVBYkQsQ0FjQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFFBQUlFLE1BQU0sR0FBRyxNQUFNakMsS0FBSyxDQUFDMEIsSUFBRCxDQUF4QixDQW5CRCxDQW9CQztBQUNBOztBQUNDLFFBQUlRLEdBQUcsR0FBR0QsTUFBTSxDQUFDRSxHQUFQLENBQVdDLEdBQUcsS0FBSztBQUUxQkMsTUFBQUEsZUFBZSxFQUFHRCxHQUFHLENBQUNFLE9BRkk7QUFHMUJyRCxNQUFBQSxRQUFRLEVBQUdtRCxHQUFHLENBQUNHLE9BQUosQ0FBWUMsU0FBWixDQUFzQixDQUF0QixFQUF5QixDQUF6QixJQUE0QixHQUE1QixHQUFnQ0osR0FBRyxDQUFDRyxPQUFKLENBQVlDLFNBQVosQ0FBc0IsQ0FBdEIsRUFBeUIsQ0FBekIsQ0FBaEMsR0FBNEQsR0FBNUQsR0FBZ0VKLEdBQUcsQ0FBQ0csT0FBSixDQUFZQyxTQUFaLENBQXNCLENBQXRCLEVBQXlCLENBQXpCLENBSGpEO0FBSTFCQyxNQUFBQSxTQUFTLEVBQUdMLEdBQUcsQ0FBQ00sT0FBSixDQUFZRixTQUFaLENBQXNCLENBQXRCLENBSmM7QUFLMUJHLE1BQUFBLFlBQVksRUFBR1AsR0FBRyxDQUFDUSxPQUxPO0FBTTFCQyxNQUFBQSxNQUFNLEVBQUdULEdBQUcsQ0FBQ1UsT0FOYTtBQU8xQkMsTUFBQUEsR0FBRyxFQUFHWCxHQUFHLENBQUNZLE9BUGdCO0FBUTFCdEUsTUFBQUEsRUFBRSxFQUFHMEQsR0FBRyxDQUFDYTtBQVJpQixLQUFMLENBQWQsQ0FBVjtBQWFELFFBQUlDLElBQUksR0FBR2hCLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNqQyxVQUFJLENBQUNELEdBQUcsQ0FBQ0MsSUFBSSxDQUFDM0UsRUFBTixDQUFSLEVBQW1CO0FBQ2pCMEUsUUFBQUEsR0FBRyxDQUFDQyxJQUFJLENBQUMzRSxFQUFOLENBQUgsR0FBZSxFQUFmO0FBQ0Q7O0FBRUQwRSxNQUFBQSxHQUFHLENBQUNDLElBQUksQ0FBQzNFLEVBQU4sQ0FBSCxDQUFhb0QsSUFBYixDQUFrQnVCLElBQWxCO0FBQ0EsYUFBT0QsR0FBUDtBQUNELEtBUFEsRUFPTixFQVBNLENBQVg7QUFVQSxRQUFJRSxTQUFTLEdBQUdKLElBQUksQ0FBQyxFQUFELENBQUosQ0FBU0MsTUFBVCxDQUFnQixDQUFDSSxHQUFELEVBQU1GLElBQU4sS0FBZTtBQUMzQyxVQUFJRyxNQUFNLEdBQUcsQ0FBQyxDQUFDRCxHQUFHLENBQUNFLElBQUosQ0FBU0MsQ0FBQyxJQUFJQSxDQUFDLENBQUNyQixlQUFGLEtBQXNCZ0IsSUFBSSxDQUFDaEIsZUFBekMsQ0FBZjs7QUFDQSxVQUFHLENBQUNtQixNQUFKLEVBQVc7QUFDUEQsUUFBQUEsR0FBRyxDQUFDekIsSUFBSixDQUFTdUIsSUFBVDtBQUNIOztBQUNELGFBQU9FLEdBQVA7QUFDSCxLQU5lLEVBTWIsRUFOYSxDQUFoQjtBQVFBRCxJQUFBQSxTQUFTLEdBQUdBLFNBQVMsQ0FBQ25CLEdBQVYsQ0FBY0MsR0FBRyxLQUFLO0FBRTlCQyxNQUFBQSxlQUFlLEVBQUdELEdBQUcsQ0FBQ0MsZUFGUTtBQUc5QnBELE1BQUFBLFFBQVEsRUFBR21ELEdBQUcsQ0FBQ25ELFFBSGU7QUFJOUJ3RCxNQUFBQSxTQUFTLEVBQUdMLEdBQUcsQ0FBQ0ssU0FKYztBQUs5QmtCLE1BQUFBLFVBQVUsRUFBRyxDQUxpQjtBQU05QkMsTUFBQUEsV0FBVyxFQUFHO0FBTmdCLEtBQUwsQ0FBakIsQ0FBWjtBQVNBLFFBQUlDLFNBQVMsR0FBR1gsSUFBSSxDQUFDLEVBQUQsQ0FBSixDQUFTZixHQUFULENBQWFDLEdBQUcsS0FBSztBQUNqQzBCLE1BQUFBLFVBQVUsRUFBRzFCLEdBQUcsQ0FBQ0MsZUFEZ0I7QUFFakNwRCxNQUFBQSxRQUFRLEVBQUdtRCxHQUFHLENBQUNuRCxRQUZrQjtBQUdqQzhFLE1BQUFBLFVBQVUsRUFBRzNCLEdBQUcsQ0FBQ08sWUFIZ0I7QUFJakNxQixNQUFBQSxRQUFRLEVBQUc1QixHQUFHLENBQUNXLEdBSmtCO0FBS2pDRixNQUFBQSxNQUFNLEVBQUdULEdBQUcsQ0FBQ1MsTUFMb0I7QUFNakNjLE1BQUFBLFVBQVUsRUFBRyxDQU5vQjtBQU9qQ0MsTUFBQUEsV0FBVyxFQUFHO0FBUG1CLEtBQUwsQ0FBaEIsQ0FBaEI7QUFVQSxRQUFJSyxTQUFTLEdBQUdmLElBQUksQ0FBQyxFQUFELENBQUosQ0FBU2YsR0FBVCxDQUFhQyxHQUFHLEtBQUs7QUFDakMwQixNQUFBQSxVQUFVLEVBQUcxQixHQUFHLENBQUNDLGVBRGdCO0FBRWpDcEQsTUFBQUEsUUFBUSxFQUFHbUQsR0FBRyxDQUFDbkQsUUFGa0I7QUFHakM4RSxNQUFBQSxVQUFVLEVBQUczQixHQUFHLENBQUNPLFlBSGdCO0FBSWpDcUIsTUFBQUEsUUFBUSxFQUFHNUIsR0FBRyxDQUFDVyxHQUprQjtBQUtqQ0YsTUFBQUEsTUFBTSxFQUFHVCxHQUFHLENBQUNTLE1BTG9CO0FBTWpDYyxNQUFBQSxVQUFVLEVBQUcsQ0FOb0I7QUFPakNDLE1BQUFBLFdBQVcsRUFBRztBQVBtQixLQUFMLENBQWhCLENBQWhCO0FBVUEsUUFBSU0sU0FBUyxHQUFHaEIsSUFBSSxDQUFDLEVBQUQsQ0FBSixDQUFTQyxNQUFULENBQWdCLENBQUNJLEdBQUQsRUFBTUYsSUFBTixLQUFlO0FBQzNDLFVBQUlHLE1BQU0sR0FBRyxDQUFDLENBQUNELEdBQUcsQ0FBQ0UsSUFBSixDQUFTQyxDQUFDLElBQUlBLENBQUMsQ0FBQ3JCLGVBQUYsS0FBc0JnQixJQUFJLENBQUNoQixlQUF6QyxDQUFmOztBQUNBLFVBQUcsQ0FBQ21CLE1BQUosRUFBVztBQUNQRCxRQUFBQSxHQUFHLENBQUN6QixJQUFKLENBQVN1QixJQUFUO0FBQ0g7O0FBQ0QsYUFBT0UsR0FBUDtBQUNILEtBTmUsRUFNYixFQU5hLENBQWhCO0FBVUFXLElBQUFBLFNBQVMsR0FBR0EsU0FBUyxDQUFDL0IsR0FBVixDQUFjQyxHQUFHLEtBQUs7QUFFOUJDLE1BQUFBLGVBQWUsRUFBR0QsR0FBRyxDQUFDQyxlQUZRO0FBRzlCcEQsTUFBQUEsUUFBUSxFQUFHbUQsR0FBRyxDQUFDbkQsUUFIZTtBQUk5QndELE1BQUFBLFNBQVMsRUFBR0wsR0FBRyxDQUFDSyxTQUpjO0FBSzlCa0IsTUFBQUEsVUFBVSxFQUFHLENBTGlCO0FBTTlCQyxNQUFBQSxXQUFXLEVBQUc7QUFOZ0IsS0FBTCxDQUFqQixDQUFaO0FBU0EsUUFBSU8sTUFBTSxHQUFHO0FBQ1QsZ0JBQVM7QUFBQyxjQUFLRixTQUFOO0FBQWdCLGNBQUtKO0FBQXJCLE9BREE7QUFFVCxnQkFBUztBQUNMLGNBQUtQLFNBREE7QUFFTCxjQUFLWTtBQUZBO0FBRkEsS0FBYjtBQVFBLFFBQUlFLG9CQUFvQixHQUFHLE1BQU1DLGlCQUFpQixDQUFDLGdDQUFELEVBQWtDZixTQUFsQyxDQUFsRDtBQUNBLFFBQUlnQixvQkFBb0IsR0FBRyxNQUFNRCxpQkFBaUIsQ0FBQyx1Q0FBRCxFQUF5Q1IsU0FBekMsQ0FBbEQ7QUFDQSxRQUFJVSxvQkFBb0IsR0FBRyxNQUFNRixpQkFBaUIsQ0FBQyxzQ0FBRCxFQUF3Q0gsU0FBeEMsQ0FBbEQ7QUFDQSxRQUFJTSxvQkFBb0IsR0FBRyxNQUFNSCxpQkFBaUIsQ0FBQyw2Q0FBRCxFQUErQ0osU0FBL0MsQ0FBbEQ7QUFFQSxRQUFJUSxtQkFBbUIsR0FBRyxNQUFNM0UsV0FBVyxDQUFDc0Usb0JBQUQsQ0FBM0M7QUFDQSxRQUFJTSxtQkFBbUIsR0FBRyxNQUFNNUUsV0FBVyxDQUFDd0Usb0JBQUQsQ0FBM0M7QUFDQSxRQUFJSyxtQkFBbUIsR0FBRyxNQUFNN0UsV0FBVyxDQUFDeUUsb0JBQUQsQ0FBM0M7QUFDQSxRQUFJSyxtQkFBbUIsR0FBRyxNQUFNOUUsV0FBVyxDQUFDMEUsb0JBQUQsQ0FBM0M7QUFFQWhGLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZNkQsU0FBWjtBQUNBLFdBQU9hLE1BQVA7QUFDSCxHQXpIRCxDQTBIQSxPQUFNbEUsQ0FBTixFQUFRO0FBRUpULElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUSxDQUFaO0FBQ0EsV0FBT0EsQ0FBUDtBQUNIO0FBQ0osQ0F4S0Q7Ozs7QUEwS0EsU0FBUzRFLE1BQVQsQ0FBZ0JDLE1BQWhCLEVBQXdCQyxNQUF4QixFQUFnQztBQUM1QkMsRUFBQUEsTUFBTSxDQUFDQyxPQUFQLENBQWVGLE1BQWYsRUFBdUJHLE9BQXZCLENBQStCLENBQUMsQ0FBQ0MsR0FBRCxFQUFNQyxLQUFOLENBQUQsS0FBa0I7QUFDN0MsUUFBSUEsS0FBSyxJQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBOUIsRUFBd0M7QUFDcENQLE1BQUFBLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDSyxHQUFELENBQU4sR0FBY0wsTUFBTSxDQUFDSyxHQUFELENBQU4sS0FBZ0JFLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixLQUFkLElBQXVCLEVBQXZCLEdBQTRCLEVBQTVDLENBQWYsRUFBZ0VBLEtBQWhFLENBQU47QUFDSCxLQUZELE1BRU8sSUFBSU4sTUFBTSxDQUFDSyxHQUFELENBQU4sS0FBZ0JDLEtBQXBCLEVBQTJCO0FBQzlCTixNQUFBQSxNQUFNLENBQUNLLEdBQUQsQ0FBTixHQUFjQyxLQUFkO0FBQ0g7QUFDSixHQU5EO0FBT0g7O0FBRUQsU0FBU0csUUFBVCxDQUFrQkMsT0FBbEIsRUFBMkJMLEdBQTNCLEVBQWdDO0FBQzVCLE1BQUlNLE1BQU0sR0FBRyxFQUFiO0FBQUEsTUFBaUJ4RCxNQUFNLEdBQUcsRUFBMUI7QUFDQXVELEVBQUFBLE9BQU8sQ0FBQ04sT0FBUixDQUFnQixVQUFVUSxDQUFWLEVBQWE7QUFDekIsUUFBSSxFQUFFQSxDQUFDLENBQUNQLEdBQUQsQ0FBRCxJQUFVTSxNQUFaLENBQUosRUFBeUI7QUFDckJBLE1BQUFBLE1BQU0sQ0FBQ0MsQ0FBQyxDQUFDUCxHQUFELENBQUYsQ0FBTixHQUFpQixFQUFqQjtBQUNBbEQsTUFBQUEsTUFBTSxDQUFDSCxJQUFQLENBQVkyRCxNQUFNLENBQUNDLENBQUMsQ0FBQ1AsR0FBRCxDQUFGLENBQWxCO0FBQ0g7O0FBQ0RNLElBQUFBLE1BQU0sQ0FBQ0MsQ0FBQyxDQUFDUCxHQUFELENBQUYsQ0FBTixDQUFlckQsSUFBZixDQUFvQjRELENBQXBCO0FBQ0gsR0FORDtBQU9BLFNBQU96RCxNQUFQO0FBQ0Q7O0FBRUgsZUFBZWpDLEtBQWYsQ0FBcUIyRixJQUFyQixFQUEyQjtBQUN2QixRQUFNQyxPQUFPLEdBQUcsTUFBTSxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3JELFVBQU1DLE1BQU0sR0FBRyxJQUFJQyxnQkFBT0MsTUFBWCxDQUFrQjtBQUFDQyxNQUFBQSxhQUFhLEVBQUUsS0FBaEI7QUFBdUJDLE1BQUFBLGlCQUFpQixFQUFFLENBQUNILGdCQUFPSSxVQUFQLENBQWtCQyxXQUFuQjtBQUExQyxLQUFsQixDQUFmO0FBRUFOLElBQUFBLE1BQU0sQ0FBQ08sV0FBUCxDQUFtQlosSUFBbkIsRUFBeUIsQ0FBQ2EsS0FBRCxFQUFRdkUsTUFBUixLQUFtQjtBQUMxQyxVQUFJdUUsS0FBSixFQUFXVCxNQUFNLENBQUNTLEtBQUQsQ0FBTixDQUFYLEtBQ0s7QUFDRCxZQUFJQyxRQUFRLEdBQUd4RSxNQUFNLENBQUN5RSxRQUFQLENBQWdCQyxJQUEvQixDQURDLENBR1Q7O0FBQ0EsWUFBSUYsUUFBUSxDQUFDRyxDQUFiLEVBQWdCO0FBQ1osaUJBQU9ILFFBQVEsQ0FBQ0csQ0FBaEI7QUFDSDs7QUFDT2QsUUFBQUEsT0FBTyxDQUFDVyxRQUFRLENBQUNJLGNBQVQsQ0FBd0JDLFlBQXhCLENBQXFDQyxPQUF0QyxDQUFQO0FBQ0g7QUFDRixLQVhEO0FBWUQsR0FmcUIsQ0FBdEI7QUFnQkEsU0FBT25CLE9BQVA7QUFDRDs7QUFFRCxlQUFldkcsU0FBZixDQUF5QnNHLElBQXpCLEVBQStCO0FBQzdCLFFBQU1DLE9BQU8sR0FBRyxNQUFNLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDckQsVUFBTUMsTUFBTSxHQUFHLElBQUlDLGdCQUFPQyxNQUFYLENBQWtCO0FBQUNDLE1BQUFBLGFBQWEsRUFBRSxLQUFoQjtBQUF1QkMsTUFBQUEsaUJBQWlCLEVBQUUsQ0FBQ0gsZ0JBQU9JLFVBQVAsQ0FBa0JDLFdBQW5CO0FBQTFDLEtBQWxCLENBQWY7QUFFQU4sSUFBQUEsTUFBTSxDQUFDTyxXQUFQLENBQW1CWixJQUFuQixFQUF5QixDQUFDYSxLQUFELEVBQVF2RSxNQUFSLEtBQW1CO0FBQzFDLFVBQUl1RSxLQUFKLEVBQVdULE1BQU0sQ0FBQ1MsS0FBRCxDQUFOLENBQVgsS0FDSztBQUNELFlBQUlDLFFBQVEsR0FBR3hFLE1BQU0sQ0FBQ3lFLFFBQVAsQ0FBZ0JDLElBQS9CLENBREMsQ0FHVDs7QUFDQSxZQUFJRixRQUFRLENBQUNHLENBQWIsRUFBZ0I7QUFDWixpQkFBT0gsUUFBUSxDQUFDRyxDQUFoQjtBQUNIOztBQUNPZCxRQUFBQSxPQUFPLENBQUNXLFFBQUQsQ0FBUDtBQUNIO0FBQ0YsS0FYRDtBQVlELEdBZnFCLENBQXRCO0FBZ0JBLFNBQU9iLE9BQVA7QUFDRDs7QUFFRCxNQUFNdkIsaUJBQWlCLEdBQUcsT0FBTzdGLEtBQVAsRUFBYU8sS0FBYixLQUFxQjtBQUM3QyxNQUFHO0FBQ0MsUUFBSWlJLE1BQU0sR0FBR2hDLE1BQU0sQ0FBQ2lDLElBQVAsQ0FBWWxJLEtBQUssQ0FBQyxDQUFELENBQWpCLENBQWI7QUFDSixRQUFJbUksV0FBVyxHQUFHLEVBQWxCO0FBQ0EsUUFBSUMsVUFBVSxHQUFHLEVBQWpCO0FBRUFwSSxJQUFBQSxLQUFLLENBQUNtRyxPQUFOLENBQWMsVUFBUzdCLElBQVQsRUFBYytELEtBQWQsRUFBcUI7QUFDL0IsVUFBSWhDLEtBQUssR0FBR0osTUFBTSxDQUFDcUMsTUFBUCxDQUFjaEUsSUFBZCxDQUFaO0FBQ0EsVUFBSWlFLEdBQUcsR0FBR2xDLEtBQUssQ0FBQ21DLElBQU4sQ0FBVyxLQUFYLENBQVY7QUFDQSxVQUFHSCxLQUFLLElBQUksQ0FBWixFQUNBRCxVQUFVLElBQUssS0FBSUcsR0FBSSxJQUF2QixDQURBLEtBRUtILFVBQVUsSUFBSyxNQUFLRyxHQUFJLElBQXhCO0FBQ1IsS0FORDs7QUFRQSxTQUFJLElBQUlMLElBQVIsSUFBZ0JELE1BQWhCLEVBQXVCO0FBQ25CRSxNQUFBQSxXQUFXLElBQUssSUFBR0YsTUFBTSxDQUFDQyxJQUFELENBQU8sYUFBWUQsTUFBTSxDQUFDQyxJQUFELENBQU8sR0FBekQ7QUFDSDs7QUFFREMsSUFBQUEsV0FBVyxHQUFHQSxXQUFXLENBQUNwRyxLQUFaLENBQWtCLENBQWxCLENBQWQ7QUFFQSxVQUFNMEcsU0FBUyxHQUFHUixNQUFNLENBQUNPLElBQVAsQ0FBWSxHQUFaLENBQWxCO0FBQ0EsVUFBTTFILEdBQUcsR0FDSixlQUFjckIsS0FBTTtBQUM3QixlQUFlZ0osU0FBVTtBQUN6QixjQUFjTCxVQUFXO0FBQ3pCO0FBQ0EsY0FBY0QsV0FBWTtBQUMxQixTQU5JO0FBT0EsV0FBT3JILEdBQVA7QUFDQyxHQTVCRCxDQTRCQyxPQUFNSSxDQUFOLEVBQVE7QUFDTCxXQUFPQSxDQUFQO0FBQ0g7QUFFSixDQWpDQzs7QUFtQ0YsTUFBTUgsV0FBVyxHQUFHLE1BQU9mLEtBQVAsSUFBZ0I7QUFDaEM7QUFDQSxRQUFNTixHQUFHLEdBQUcsSUFBSUMsY0FBSixFQUFaO0FBRUEsUUFBTUMsQ0FBQyxHQUFHLE1BQU1GLEdBQUcsQ0FBQ0csU0FBSixDQUFjRyxLQUFkLENBQWhCO0FBQ0FOLEVBQUFBLEdBQUcsQ0FBQ0ksY0FBSjtBQUVBLFNBQU9GLENBQVA7QUFDSCxDQVJEIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL3Nhcm90X25vZGUvc3JjL2NvbnRyb2xsZXIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRiIGZyb20gJy4uL2RiL2RiY29uJztcbmltcG9ydCBheGlvcyBmcm9tICdlYXN5LXNvYXAtcmVxdWVzdCc7XG5pbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwnO1xuaW1wb3J0IHhtbDJqcyBmcm9tICd4bWwyanMnO1xuaW1wb3J0IHNxbHN0cmluZyBmcm9tICdzcWxzdHJpbmcnO1xuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGdldF9hbGxfcHJvZHVjdCA9IGFzeW5jICh0YWJsZSkgPT4ge1xuICAgIGNvbnN0IGNvbiA9IG5ldyBkYigpO1xuICAgIFxuICAgIGNvbnN0IHIgPSBhd2FpdCBjb24ucnVuX3F1ZXJ5KGBzZWxlY3QgcC5wcm9kdWN0X2NvZGUscC5wcm9kdWN0X2NvZGUgZnJvbSAke3RhYmxlfWApO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpXG4gICAgLy8gY29uc29sZS5sb2cocik7XG4gICAgcmV0dXJuIHI7XG59XG5cbmNvbnN0IGNyZWF0ZV9xdWVyeV9sb2cgPSBhc3luYyAodGFibGUscGFyYW0pID0+IHtcbiAgICBsZXQge3JlcXVlc3QsT1RGX2RhdGUsaHR0cF9jb2RlLHJlc3BvbnNlfSA9IHBhcmFtO1xuICAgIC8vIGNvbnN0IGNvbiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xuICAgIC8vICAgICBob3N0ICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9ET01BSU4sXG4gICAgLy8gICAgIHVzZXIgICAgICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxuICAgIC8vICAgICBwYXNzd29yZCAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgICAvLyAgICAgZGF0YWJhc2UgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfU0NIRU1BXG4gICAgLy8gfSk7XG4gICAgbGV0IHJlcSA9IGF3YWl0IHBhcnNlX2xvZyhyZXF1ZXN0KTtcbiAgICByZXEgPSBKU09OLnN0cmluZ2lmeShyZXEpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxdWVzdCA6XCIrcmVxKTtcbiAgICBsZXQgcmVzcCA9IGF3YWl0IHBhcnNlX2xvZyhyZXNwb25zZSk7XG4gICAgcmVzcCA9IEpTT04uc3RyaW5naWZ5KHJlc3ApO1xuICAgIGxldCBpc19yZXNwX2pzb24gPSBpc0pzb25QYXJzYWJsZShyZXNwKTtcbiAgICBjb25zb2xlLmxvZyhcInJlc3BvbnNlIDpcIityZXNwKTtcbiAgICBsZXQgc3FsID0gJyc7XG4gICAgaWYoaXNfcmVzcF9qc29uKVxuICAgIHNxbCA9IGBpbnNlcnQgaW50byAke3RhYmxlfSAocmVxdWVzdCwgT1RGX2RhdGUsIGh0dHBfY29kZSxyZXNwb25zZSxjcmVhdGVkX2J5LG1vZGlmaWVkX2J5KSB2YWx1ZXMgKCcke3JlcX0nLCcke09URl9kYXRlfScsJyR7aHR0cF9jb2RlfScsJyR7cmVzcH0nLDAsMClgO1xuICAgIGVsc2Ugc3FsID0gYGluc2VydCBpbnRvICR7dGFibGV9IChyZXF1ZXN0LCBPVEZfZGF0ZSwgaHR0cF9jb2RlLHJlc3BvbnNlLGNyZWF0ZWRfYnksbW9kaWZpZWRfYnkpIHZhbHVlcyAoJyR7cmVxfScsJyR7T1RGX2RhdGV9JywnJHtodHRwX2NvZGV9JywnJHtyZXNwb25zZX0nLDAsMClgO1xuICAgIC8vIGNvbnN0IGRhdGEgPSBbW3JlcXVlc3QsT1RGX2RhdGUsaHR0cF9jb2RlLHJlc3BvbnNlLDAsMF1dO1xuICAgIGNvbnN0IHIgPSBhd2FpdCBpbnNlcnRRdWVyeShzcWwpXG4gICAgLy8gY29uLmVuZF9jb25uZWN0aW9uKClcbiAgICAvLyBjb24ucXVlcnkoc3FsLCBbZGF0YV0sIChlcnIsIHJlc3VsdHMsIGZpZWxkcykgPT4ge1xuICAgIC8vICAgICBpZiAoZXJyKSB7XG4gICAgLy8gICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIC8vIGdldCBpbnNlcnRlZCByb3dzXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdSb3cgaW5zZXJ0ZWQ6JyArIHJlc3VsdHMuYWZmZWN0ZWRSb3dzKTtcbiAgICAvLyAgICAgLy8gcmV0dXJuIHJlc3VsdHM7XG4gICAgLy8gICB9KTtcbiAgICAvLyAgIGNvbi5lbmQoKVxuICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgIFxufVxuXG5jb25zdCBpc0pzb25QYXJzYWJsZSA9IChzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBKU09OLnBhcnNlKHN0cmluZyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0b2RheSgpIHtcbiAgICBsZXQgZGF0ZV90b2RheSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tQ0FcIik7XG4gICAgbGV0IHJldCA9IHtcImRhdGVcIjpkYXRlX3RvZGF5fTtcbiAgICByZXR1cm4gcmV0O1xufSBcblxuY29uc3QgZ2V0RWRuID0gYXN5bmMgKHBhcmFtID0gbnVsbCkgPT57XG4gICAgLy8gY29uc29sZS5sb2cocGFyYW0pO1xuICAgIGxldCB7ZGF0ZX0gPSAgcGFyYW07XG4gICAgbGV0IGRhdGVfb2I7XG4gICAgaWYoZGF0ZSA9PSBudWxsIHx8IHR5cGVvZiBkYXRlID09ICd1bmRlZmluZWQnIHx8IGRhdGUgPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICBkYXRlX29iID0gbmV3IERhdGUoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0ZV9vYik7IFxuICAgIH1lbHNlIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBkYXRlUGFydHMgPSBkYXRlLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgZGF0ZV9vYiA9IG5ldyBEYXRlKCtkYXRlUGFydHNbMF0sIGRhdGVQYXJ0c1sxXSAtIDEsICtkYXRlUGFydHNbMl0pIFxuICAgIH1cbiAgICAvLyBhZGp1c3QgMCBiZWZvcmUgc2luZ2xlIGRpZ2l0IGRhdGVcbiAgICBsZXQgZGF0ZV9zdHIgPSAoXCIwXCIgKyBkYXRlX29iLmdldERhdGUoKSkuc2xpY2UoLTIpO1xuXG4gICAgLy8gY3VycmVudCBtb250aFxuICAgIGxldCBtb250aCA9IChcIjBcIiArIChkYXRlX29iLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpO1xuXG4gICAgLy8gY3VycmVudCB5ZWFyXG4gICAgbGV0IHllYXIgPSBkYXRlX29iLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBsZXQgdGdsID0geWVhcitcIi9cIittb250aCtcIi9cIitkYXRlX3N0cjtcbiAgICBsZXQgdGdsX2lzbyA9IHllYXIrXCItXCIrbW9udGgrXCItXCIrZGF0ZV9zdHI7XG4gICAgXG4gICAgXG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICBcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCIgOiBcImFwcGxpY2F0aW9uL3NvYXAreG1sOyBjaGFyc2V0PXV0Zi04XCIgICAgICAgICAgXG4gICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlciA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiPz5cbiAgICA8c29hcDEyOkVudmVsb3BlIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgeG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWFcIiB4bWxuczpzb2FwMTI9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAzLzA1L3NvYXAtZW52ZWxvcGVcIj5cbiAgICAgIDxzb2FwMTI6Qm9keT5cbiAgICAgICAgPEdldF9ETiB4bWxucz1cImh0dHA6Ly90ZW1wdXJpLm9yZy9cIj5cbiAgICAgICAgICA8UF9MRkRBVD4ke3RnbH08L1BfTEZEQVQ+XG4gICAgICAgIDwvR2V0X0ROPlxuICAgICAgPC9zb2FwMTI6Qm9keT5cbiAgICA8L3NvYXAxMjpFbnZlbG9wZT5gO1xuXG4gICAgbGV0IHJlcXVlc3QgPSBoZWFkZXI7XG4gICAgdHJ5e1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyYXdfbGFtYV9rZWJhcnVhbik7XG4gICAgICAgIGNvbnN0IHJyID0gYXdhaXQgYXhpb3Moe3VybDpgaHR0cHM6Ly93ZWJzZXJ2aWNlLnNhcmlyb3RpLmNvbS9lLURNU1dlYnNlcnZpY2UvR2V0RE4uYXNteGAseG1sOmhlYWRlcixoZWFkZXJzOmNvbmZpZyx9KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0XCIpXG4gICAgICAgIGNvbnN0IHsgaGVhZGVycywgYm9keSwgc3RhdHVzQ29kZSB9ID0gcnIucmVzcG9uc2U7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3RhdHVzX2NvZGUgOlwiICtzdGF0dXNDb2RlKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJoZWFkZXIgOlwiICtoZWFkZXIpO1xuICAgICAgICBsZXQgZGF0YV9sb2cgPSBbXTtcbiAgICAgICAgbGV0IG9iaiA9IHtcIk9URl9kYXRlXCI6dGdsX2lzbywgXCJodHRwX2NvZGVcIiA6IHN0YXR1c0NvZGUsIFwicmVxdWVzdFwiOnJlcXVlc3QsIFwicmVzcG9uc2VcIjpib2R5fTtcbiAgICAgICAgZGF0YV9sb2cucHVzaChvYmopO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhX2xvZyk7XG4gICAgICAgIGNvbnN0IGxvZ183MCA9IGF3YWl0IGNyZWF0ZV9xdWVyeV9sb2coXCJzYXJpcm90aV9kbXMuZV9kZWxpdmVyeV9udW1iZXJfbG9nXCIsb2JqKTtcbiAgICAgICAgY29uc3QgbG9nXzUwID0gYXdhaXQgY3JlYXRlX3F1ZXJ5X2xvZyhcInNhcmlyb3RpX2Rtc19hZ2VudC5lX2RlbGl2ZXJ5X251bWJlcl9sb2dcIixvYmopO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2dfNzApO1xuICAgICAgICAvLyBjb25zdCBpX2xvZ183MCA9IGF3YWl0IGluc2VydFF1ZXJ5KGxvZ183MCk7XG4gICAgICAgIC8vIGNvbnN0IGlfbG9nXzUwID0gYXdhaXQgaW5zZXJ0UXVlcnkobG9nXzUwKTtcbiAgICAgICAgLy8gbGV0IHByb2R1Y3RfNzAgPSBhd2FpdCBnZXRfYWxsX3Byb2R1Y3QoXCJzYXJpcm90aV9kbXMucHJvZHVjdCBwXCIpO1xuICAgICAgICAvLyBsZXQgcHJvZHVjdF81MCA9IGF3YWl0IGdldF9hbGxfcHJvZHVjdChcInNhcmlyb3RpX2Rtc19hZ2VudC5wcm9kdWN0IHBcIik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRlcG8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcGFyc2UoYm9keSk7XG4gICAgICAgIC8vIGxldCBwcm9kdWN0XzcwID0gYXdhaXQgZ2V0X2FsbF9wcm9kdWN0KFwic2FyaXJvdGlfZG1zLnByb2R1Y3RcIik7XG4gICAgICAgIC8vIGxldCBwcm9kdWN0XzUwID0gYXdhaXQgZ2V0X2FsbF9wcm9kdWN0KFwic2FyaXJvdGlfZG1zX2FnZW50LnByb2R1Y3RcIik7XG4gICAgICAgICB2YXIgcmVzID0gcmVzdWx0Lm1hcChyb3cgPT4gKHsgXG5cbiAgICAgICAgICAgIGRlbGl2ZXJ5X251bWJlciA6IHJvdy5zdFZCRUxOLFxuICAgICAgICAgICAgT1RGX2RhdGUgOiByb3cuc3RMRkRBVC5zdWJzdHJpbmcoMCwgNCkrJy0nK3Jvdy5zdExGREFULnN1YnN0cmluZyg0LCA2KSsnLScrcm93LnN0TEZEQVQuc3Vic3RyaW5nKDYsIDgpLFxuICAgICAgICAgICAgZGVwb19jb2RlIDogcm93LnN0S1VOQUcuc3Vic3RyaW5nKDIpLFxuICAgICAgICAgICAgcHJvZHVjdF9jb2RlIDogcm93LnN0TUFUTlIsXG4gICAgICAgICAgICBzYXR1YW4gOiByb3cuc3RWUktNRSxcbiAgICAgICAgICAgIHF0eSA6IHJvdy5zdExGSU1HLFxuICAgICAgICAgICAgZGIgOiByb3cuc3RWVFdFR1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICBcblxuICAgICAgICBcbiAgICAgICAgbGV0IHJlczIgPSByZXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmICghYWNjW2l0ZW0uZGJdKSB7XG4gICAgICAgICAgICAgIGFjY1tpdGVtLmRiXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgICAgYWNjW2l0ZW0uZGJdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHt9KVxuXG5cbiAgICAgICAgbGV0IGhlYWRlcl83MCA9IHJlczJbNzBdLnJlZHVjZSgoYXJyLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXhpc3RzID0gISFhcnIuZmluZCh4ID0+IHguZGVsaXZlcnlfbnVtYmVyID09PSBpdGVtLmRlbGl2ZXJ5X251bWJlcik7XG4gICAgICAgICAgICBpZighZXhpc3RzKXtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgXG4gICAgICAgIGhlYWRlcl83MCA9IGhlYWRlcl83MC5tYXAocm93ID0+ICh7IFxuXG4gICAgICAgICAgICBkZWxpdmVyeV9udW1iZXIgOiByb3cuZGVsaXZlcnlfbnVtYmVyLFxuICAgICAgICAgICAgT1RGX2RhdGUgOiByb3cuT1RGX2RhdGUsXG4gICAgICAgICAgICBkZXBvX2NvZGUgOiByb3cuZGVwb19jb2RlLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBkZXRhaWxfNzAgPSByZXMyWzcwXS5tYXAocm93ID0+ICh7XG4gICAgICAgICAgICBlZG5fbnVtYmVyIDogcm93LmRlbGl2ZXJ5X251bWJlcixcbiAgICAgICAgICAgIE9URl9kYXRlIDogcm93Lk9URl9kYXRlLFxuICAgICAgICAgICAgcHJvZHVjdF9pZCA6IHJvdy5wcm9kdWN0X2NvZGUsXG4gICAgICAgICAgICBxdWFudGl0eSA6IHJvdy5xdHksXG4gICAgICAgICAgICBzYXR1YW4gOiByb3cuc2F0dWFuLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGxldCBkZXRhaWxfNTAgPSByZXMyWzUwXS5tYXAocm93ID0+ICh7XG4gICAgICAgICAgICBlZG5fbnVtYmVyIDogcm93LmRlbGl2ZXJ5X251bWJlcixcbiAgICAgICAgICAgIE9URl9kYXRlIDogcm93Lk9URl9kYXRlLFxuICAgICAgICAgICAgcHJvZHVjdF9pZCA6IHJvdy5wcm9kdWN0X2NvZGUsXG4gICAgICAgICAgICBxdWFudGl0eSA6IHJvdy5xdHksXG4gICAgICAgICAgICBzYXR1YW4gOiByb3cuc2F0dWFuLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGhlYWRlcl81MCA9IHJlczJbNTBdLnJlZHVjZSgoYXJyLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXhpc3RzID0gISFhcnIuZmluZCh4ID0+IHguZGVsaXZlcnlfbnVtYmVyID09PSBpdGVtLmRlbGl2ZXJ5X251bWJlcik7XG4gICAgICAgICAgICBpZighZXhpc3RzKXtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0sIFtdKTtcblxuIFxuXG4gICAgICAgIGhlYWRlcl81MCA9IGhlYWRlcl81MC5tYXAocm93ID0+ICh7IFxuXG4gICAgICAgICAgICBkZWxpdmVyeV9udW1iZXIgOiByb3cuZGVsaXZlcnlfbnVtYmVyLFxuICAgICAgICAgICAgT1RGX2RhdGUgOiByb3cuT1RGX2RhdGUsXG4gICAgICAgICAgICBkZXBvX2NvZGUgOiByb3cuZGVwb19jb2RlLFxuICAgICAgICAgICAgY3JlYXRlZF9ieSA6IDAsXG4gICAgICAgICAgICBtb2RpZmllZF9ieSA6IDBcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBsZXQgcmVzbHV0ID0ge1xuICAgICAgICAgICAgXCJkZXRhaWxcIjp7XCI1MFwiOmRldGFpbF81MCxcIjcwXCI6ZGV0YWlsXzcwfSxcbiAgICAgICAgICAgIFwiaGVhZGVyXCI6e1xuICAgICAgICAgICAgICAgIFwiNzBcIjpoZWFkZXJfNzAsXG4gICAgICAgICAgICAgICAgXCI1MFwiOmhlYWRlcl81MFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHNxbF9pbnNlcnRfaGVhZGVyXzcwID0gYXdhaXQgY3JlYXRlSW5zZXJ0UXVlcnkoXCJzYXJpcm90aV9kbXMuZV9kZWxpdmVyeV9udW1iZXJcIixoZWFkZXJfNzApO1xuICAgICAgICBsZXQgc3FsX2luc2VydF9kZXRhaWxfNzAgPSBhd2FpdCBjcmVhdGVJbnNlcnRRdWVyeShcInNhcmlyb3RpX2Rtcy5lX2RlbGl2ZXJ5X251bWJlcl9kZXRhaWxcIixkZXRhaWxfNzApO1xuICAgICAgICBsZXQgc3FsX2luc2VydF9oZWFkZXJfNTAgPSBhd2FpdCBjcmVhdGVJbnNlcnRRdWVyeShcInNhcmlyb3RpX2Rtc19hZ2VudC5lX2RlbGl2ZXJ5X251bWJlclwiLGhlYWRlcl81MCk7XG4gICAgICAgIGxldCBzcWxfaW5zZXJ0X2RldGFpbF81MCA9IGF3YWl0IGNyZWF0ZUluc2VydFF1ZXJ5KFwic2FyaXJvdGlfZG1zX2FnZW50LmVfZGVsaXZlcnlfbnVtYmVyX2RldGFpbFwiLGRldGFpbF81MCk7XG4gICAgICAgIFxuICAgICAgICBsZXQgaW5zZXJ0aW5nX2hlYWRlcl83MCA9IGF3YWl0IGluc2VydFF1ZXJ5KHNxbF9pbnNlcnRfaGVhZGVyXzcwKTtcbiAgICAgICAgbGV0IGluc2VydGluZ19kZXRhaWxfNzAgPSBhd2FpdCBpbnNlcnRRdWVyeShzcWxfaW5zZXJ0X2RldGFpbF83MCk7XG4gICAgICAgIGxldCBpbnNlcnRpbmdfaGVhZGVyXzUwID0gYXdhaXQgaW5zZXJ0UXVlcnkoc3FsX2luc2VydF9oZWFkZXJfNTApO1xuICAgICAgICBsZXQgaW5zZXJ0aW5nX2RldGFpbF81MCA9IGF3YWl0IGluc2VydFF1ZXJ5KHNxbF9pbnNlcnRfZGV0YWlsXzUwKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhoZWFkZXJfNzApO1xuICAgICAgICByZXR1cm4gcmVzbHV0O1xuICAgIH1cbiAgICBjYXRjaChlKXtcblxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGUodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBPYmplY3QuZW50cmllcyhzb3VyY2UpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdXBkYXRlKHRhcmdldFtrZXldID0gdGFyZ2V0W2tleV0gfHwgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gW10gOiB7fSksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRba2V5XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ3JvdXBCeTIocGVyc29ucywga2V5KSB7XG4gICAgdmFyIGdyb3VwcyA9IHt9LCByZXN1bHQgPSBbXTtcbiAgICBwZXJzb25zLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgaWYgKCEoYVtrZXldIGluIGdyb3VwcykpIHtcbiAgICAgICAgICAgIGdyb3Vwc1thW2tleV1dID0gW107XG4gICAgICAgICAgICByZXN1bHQucHVzaChncm91cHNbYVtrZXldXSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBzW2Fba2V5XV0ucHVzaChhKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbmFzeW5jIGZ1bmN0aW9uIHBhcnNlKGZpbGUpIHtcbiAgICBjb25zdCBwcm9taXNlID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IHhtbDJqcy5QYXJzZXIoe2V4cGxpY2l0QXJyYXk6IGZhbHNlLCB0YWdOYW1lUHJvY2Vzc29yczogW3htbDJqcy5wcm9jZXNzb3JzLnN0cmlwUHJlZml4XSB9KTtcbiAgXG4gICAgICBwYXJzZXIucGFyc2VTdHJpbmcoZmlsZSwgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSByZWplY3QoZXJyb3IpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzb2FwQm9keSA9IHJlc3VsdC5FbnZlbG9wZS5Cb2R5O1xuXG4gICAgLy8gUmVtb3ZlIG9wdGlvbmFsIGF0dHJpYnV0ZShzKSBmcm9tIDxCb2R5PiBlbGVtZW50LlxuICAgIGlmIChzb2FwQm9keS4kKSB7XG4gICAgICAgIGRlbGV0ZSBzb2FwQm9keS4kO1xuICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoc29hcEJvZHkuR2V0X0ROUmVzcG9uc2UuR2V0X0ROUmVzdWx0LkROX0xJU1QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHBhcnNlX2xvZyhmaWxlKSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyB4bWwyanMuUGFyc2VyKHtleHBsaWNpdEFycmF5OiBmYWxzZSwgdGFnTmFtZVByb2Nlc3NvcnM6IFt4bWwyanMucHJvY2Vzc29ycy5zdHJpcFByZWZpeF0gfSk7XG4gIFxuICAgICAgcGFyc2VyLnBhcnNlU3RyaW5nKGZpbGUsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc29hcEJvZHkgPSByZXN1bHQuRW52ZWxvcGUuQm9keTtcblxuICAgIC8vIFJlbW92ZSBvcHRpb25hbCBhdHRyaWJ1dGUocykgZnJvbSA8Qm9keT4gZWxlbWVudC5cbiAgICBpZiAoc29hcEJvZHkuJCkge1xuICAgICAgICBkZWxldGUgc29hcEJvZHkuJDtcbiAgICB9XG4gICAgICAgICAgICByZXNvbHZlKHNvYXBCb2R5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBjb25zdCBjcmVhdGVJbnNlcnRRdWVyeSA9IGFzeW5jICh0YWJsZSxwYXJhbSk9PntcbiAgICB0cnl7XG4gICAgICAgIGxldCBjb2x1bW4gPSBPYmplY3Qua2V5cyhwYXJhbVswXSk7XG4gICAgbGV0IGxpc3RfY29sdW1uID0gJyc7XG4gICAgbGV0IGxpc3RfdmFsdWUgPSAnJztcbiAgICBcbiAgICBwYXJhbS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0saW5kZXgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gT2JqZWN0LnZhbHVlcyhpdGVtKTtcbiAgICAgICAgbGV0IGlzaSA9IHZhbHVlLmpvaW4oXCInLCdcIik7XG4gICAgICAgIGlmKGluZGV4ID09IDApXG4gICAgICAgIGxpc3RfdmFsdWUgKz0gYCgnJHtpc2l9JylgO1xuICAgICAgICBlbHNlIGxpc3RfdmFsdWUgKz0gYCwoJyR7aXNpfScpYDtcbiAgICB9KTtcbiAgICBcbiAgICBmb3IobGV0IGtleXMgaW4gY29sdW1uKXtcbiAgICAgICAgbGlzdF9jb2x1bW4gKz0gYCwke2NvbHVtbltrZXlzXX0gPSB2YWx1ZXMoJHtjb2x1bW5ba2V5c119KWA7XG4gICAgfVxuXG4gICAgbGlzdF9jb2x1bW4gPSBsaXN0X2NvbHVtbi5zbGljZSgxKTtcblxuICAgIGNvbnN0IHF1ZXJ5X2NvbCA9IGNvbHVtbi5qb2luKFwiLFwiKTsgXG4gICAgY29uc3Qgc3FsID0gXG4gICAgICAgIGBJTlNFUlQgSU5UTyAke3RhYmxlfSBcbiAgICAgICAgICAgICgke3F1ZXJ5X2NvbH0pIFZBTFVFUyBcbiAgICAgICAgICAgICR7bGlzdF92YWx1ZX1cbiAgICAgICAgICAgIG9uIGR1cGxpY2F0ZSBrZXkgdXBkYXRlIFxuICAgICAgICAgICAgJHtsaXN0X2NvbHVtbn1cbiAgICAgICAgYDtcbiAgICByZXR1cm4gc3FsO1xuICAgIH1jYXRjaChlKXtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIFxufVxuXG5jb25zdCBpbnNlcnRRdWVyeSA9IGFzeW5jIChwYXJhbSkgPT57XG4gICAgLy8gY29uc29sZS5sb2cocGFyYW0pO1xuICAgIGNvbnN0IGNvbiA9IG5ldyBkYigpO1xuXG4gICAgY29uc3QgciA9IGF3YWl0IGNvbi5ydW5fcXVlcnkocGFyYW0pO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpXG5cbiAgICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IHtcbiAgICBcbiAgICBnZXRFZG5cbiAgICBcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "edn.js"
      ],
      "names": [
        "dotenv",
        "config",
        "get_all_product",
        "table",
        "con",
        "db",
        "r",
        "run_query",
        "end_connection",
        "create_query_log",
        "param",
        "request",
        "OTF_date",
        "http_code",
        "response",
        "req",
        "parse_log",
        "JSON",
        "stringify",
        "console",
        "log",
        "resp",
        "is_resp_json",
        "isJsonParsable",
        "sql",
        "insertQuery",
        "string",
        "parse",
        "e",
        "today",
        "date_today",
        "Date",
        "toLocaleDateString",
        "ret",
        "getEdn",
        "date",
        "date_ob",
        "dateParts",
        "split",
        "date_str",
        "getDate",
        "slice",
        "month",
        "getMonth",
        "year",
        "getFullYear",
        "tgl",
        "tgl_iso",
        "header",
        "rr",
        "url",
        "xml",
        "headers",
        "body",
        "statusCode",
        "data_log",
        "obj",
        "push",
        "log_70",
        "log_50",
        "result",
        "res",
        "map",
        "row",
        "delivery_number",
        "stVBELN",
        "stLFDAT",
        "substring",
        "depo_code",
        "stKUNAG",
        "product_code",
        "stMATNR",
        "satuan",
        "stVRKME",
        "qty",
        "stLFIMG",
        "stVTWEG",
        "res2",
        "reduce",
        "acc",
        "item",
        "header_70",
        "arr",
        "exists",
        "find",
        "x",
        "created_by",
        "modified_by",
        "detail_70",
        "edn_number",
        "product_id",
        "quantity",
        "detail_50",
        "header_50",
        "reslut",
        "sql_insert_header_70",
        "createInsertQuery",
        "sql_insert_detail_70",
        "sql_insert_header_50",
        "sql_insert_detail_50",
        "inserting_header_70",
        "inserting_detail_70",
        "inserting_header_50",
        "inserting_detail_50",
        "update",
        "target",
        "source",
        "Object",
        "entries",
        "forEach",
        "key",
        "value",
        "Array",
        "isArray",
        "groupBy2",
        "persons",
        "groups",
        "a",
        "file",
        "promise",
        "Promise",
        "resolve",
        "reject",
        "parser",
        "xml2js",
        "Parser",
        "explicitArray",
        "tagNameProcessors",
        "processors",
        "stripPrefix",
        "parseString",
        "error",
        "soapBody",
        "Envelope",
        "Body",
        "$",
        "Get_DNResponse",
        "Get_DNResult",
        "DN_LIST",
        "column",
        "keys",
        "list_column",
        "list_value",
        "index",
        "values",
        "isi",
        "join",
        "query_col"
      ],
      "mappings": "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",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/controller/",
      "sourcesContent": [
        "import db from '../db/dbcon';\nimport axios from 'easy-soap-request';\nimport mysql from 'mysql';\nimport xml2js from 'xml2js';\nimport sqlstring from 'sqlstring';\nimport util from 'util';\nimport dotenv from 'dotenv';\ndotenv.config();\n\nconst get_all_product = async (table) => {\n    const con = new db();\n    \n    const r = await con.run_query(`select p.product_code,p.product_code from ${table}`);\n    con.end_connection()\n    // console.log(r);\n    return r;\n}\n\nconst create_query_log = async (table,param) => {\n    let {request,OTF_date,http_code,response} = param;\n    // const con = mysql.createConnection({\n    //     host            : process.env.DB_DOMAIN,\n    //     user            : process.env.DB_USERNAME,\n    //     password        : process.env.DB_PASSWORD,\n    //     database        : process.env.DB_SCHEMA\n    // });\n    let req = await parse_log(request);\n    req = JSON.stringify(req);\n    console.log(\"request :\"+req);\n    let resp = await parse_log(response);\n    resp = JSON.stringify(resp);\n    let is_resp_json = isJsonParsable(resp);\n    console.log(\"response :\"+resp);\n    let sql = '';\n    if(is_resp_json)\n    sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;\n    else sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${response}',0,0)`;\n    // const data = [[request,OTF_date,http_code,response,0,0]];\n    const r = await insertQuery(sql)\n    // con.end_connection()\n    // con.query(sql, [data], (err, results, fields) => {\n    //     if (err) {\n    //       return console.error(err.message);\n    //     }\n    //     // get inserted rows\n    //     console.log('Row inserted:' + results.affectedRows);\n    //     // return results;\n    //   });\n    //   con.end()\n    // console.log(results);\n    \n}\n\nconst isJsonParsable = (string) => {\n    try {\n        JSON.parse(string);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\nfunction today() {\n    let date_today = new Date().toLocaleDateString(\"en-CA\");\n    let ret = {\"date\":date_today};\n    return ret;\n} \n\nconst getEdn = async (param = null) =>{\n    // console.log(param);\n    let {date} =  param;\n    let date_ob;\n    if(date == null || typeof date == 'undefined' || date == 'undefined'){\n        date_ob = new Date();\n        // console.log(date_ob); \n    }else {\n        \n        var dateParts = date.split(\"-\");\n        date_ob = new Date(+dateParts[0], dateParts[1] - 1, +dateParts[2]) \n    }\n    // adjust 0 before single digit date\n    let date_str = (\"0\" + date_ob.getDate()).slice(-2);\n\n    // current month\n    let month = (\"0\" + (date_ob.getMonth() + 1)).slice(-2);\n\n    // current year\n    let year = date_ob.getFullYear();\n\n    let tgl = year+\"/\"+month+\"/\"+date_str;\n    let tgl_iso = year+\"-\"+month+\"-\"+date_str;\n    \n    \n    const config = {\n        \n            \"Content-Type\" : \"application/soap+xml; charset=utf-8\"          \n        \n    }\n\n    const header = `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <soap12:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap12=\"http://www.w3.org/2003/05/soap-envelope\">\n      <soap12:Body>\n        <Get_DN xmlns=\"http://tempuri.org/\">\n          <P_LFDAT>${tgl}</P_LFDAT>\n        </Get_DN>\n      </soap12:Body>\n    </soap12:Envelope>`;\n\n    let request = header;\n    try{\n        // console.log(raw_lama_kebaruan);\n        const rr = await axios({url:`https://webservice.sariroti.com/e-DMSWebservice/GetDN.asmx`,xml:header,headers:config,});\n        // console.log(\"t\")\n        const { headers, body, statusCode } = rr.response;\n        // console.log(\"status_code :\" +statusCode);\n        // console.log(\"header :\" +header);\n        let data_log = [];\n        let obj = {\"OTF_date\":tgl_iso, \"http_code\" : statusCode, \"request\":request, \"response\":body};\n        data_log.push(obj);\n        // console.log(data_log);\n        const log_70 = await create_query_log(\"sariroti_dms.e_delivery_number_log\",obj);\n        const log_50 = await create_query_log(\"sariroti_dms_agent.e_delivery_number_log\",obj);\n        console.log(log_70);\n        // const i_log_70 = await insertQuery(log_70);\n        // const i_log_50 = await insertQuery(log_50);\n        // let product_70 = await get_all_product(\"sariroti_dms.product p\");\n        // let product_50 = await get_all_product(\"sariroti_dms_agent.product p\");\n        // console.log(depo);\n        let result = await parse(body);\n        // let product_70 = await get_all_product(\"sariroti_dms.product\");\n        // let product_50 = await get_all_product(\"sariroti_dms_agent.product\");\n         var res = result.map(row => ({ \n\n            delivery_number : row.stVBELN,\n            OTF_date : row.stLFDAT.substring(0, 4)+'-'+row.stLFDAT.substring(4, 6)+'-'+row.stLFDAT.substring(6, 8),\n            depo_code : row.stKUNAG.substring(2),\n            product_code : row.stMATNR,\n            satuan : row.stVRKME,\n            qty : row.stLFIMG,\n            db : row.stVTWEG\n            }));\n        \n\n        \n        let res2 = res.reduce((acc, item) => {\n            if (!acc[item.db]) {\n              acc[item.db] = [];\n            }\n          \n            acc[item.db].push(item);\n            return acc;\n          }, {})\n\n\n        let header_70 = res2[70].reduce((arr, item) => {\n            let exists = !!arr.find(x => x.delivery_number === item.delivery_number);\n            if(!exists){\n                arr.push(item);\n            }\n            return arr;\n        }, []);\n        \n        header_70 = header_70.map(row => ({ \n\n            delivery_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            depo_code : row.depo_code,\n            created_by : 0,\n            modified_by : 0\n            }));\n        \n        let detail_70 = res2[70].map(row => ({\n            edn_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            product_id : row.product_code,\n            quantity : row.qty,\n            satuan : row.satuan,\n            created_by : 0,\n            modified_by : 0\n        }));\n\n        let detail_50 = res2[50].map(row => ({\n            edn_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            product_id : row.product_code,\n            quantity : row.qty,\n            satuan : row.satuan,\n            created_by : 0,\n            modified_by : 0\n        }));\n        \n        let header_50 = res2[50].reduce((arr, item) => {\n            let exists = !!arr.find(x => x.delivery_number === item.delivery_number);\n            if(!exists){\n                arr.push(item);\n            }\n            return arr;\n        }, []);\n\n \n\n        header_50 = header_50.map(row => ({ \n\n            delivery_number : row.delivery_number,\n            OTF_date : row.OTF_date,\n            depo_code : row.depo_code,\n            created_by : 0,\n            modified_by : 0\n            }));\n\n        let reslut = {\n            \"detail\":{\"50\":detail_50,\"70\":detail_70},\n            \"header\":{\n                \"70\":header_70,\n                \"50\":header_50\n                    }\n        };\n\n        let sql_insert_header_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number\",header_70);\n        let sql_insert_detail_70 = await createInsertQuery(\"sariroti_dms.e_delivery_number_detail\",detail_70);\n        let sql_insert_header_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number\",header_50);\n        let sql_insert_detail_50 = await createInsertQuery(\"sariroti_dms_agent.e_delivery_number_detail\",detail_50);\n        \n        let inserting_header_70 = await insertQuery(sql_insert_header_70);\n        let inserting_detail_70 = await insertQuery(sql_insert_detail_70);\n        let inserting_header_50 = await insertQuery(sql_insert_header_50);\n        let inserting_detail_50 = await insertQuery(sql_insert_detail_50);\n\n        console.log(header_70);\n        return reslut;\n    }\n    catch(e){\n\n        console.log(e);\n        return e;\n    }\n}\n\nfunction update(target, source) {\n    Object.entries(source).forEach(([key, value]) => {\n        if (value && typeof value === 'object') {\n            update(target[key] = target[key] || (Array.isArray(value) ? [] : {}), value);\n        } else if (target[key] !== value) {\n            target[key] = value;\n        }\n    });\n}\n\nfunction groupBy2(persons, key) {\n    var groups = {}, result = [];\n    persons.forEach(function (a) {\n        if (!(a[key] in groups)) {\n            groups[a[key]] = [];\n            result.push(groups[a[key]]);\n        }\n        groups[a[key]].push(a);\n    });\n    return result;\n  }\n\nasync function parse(file) {\n    const promise = await new Promise((resolve, reject) => {\n      const parser = new xml2js.Parser({explicitArray: false, tagNameProcessors: [xml2js.processors.stripPrefix] });\n  \n      parser.parseString(file, (error, result) => {\n        if (error) reject(error);\n        else {\n            var soapBody = result.Envelope.Body;\n\n    // Remove optional attribute(s) from <Body> element.\n    if (soapBody.$) {\n        delete soapBody.$;\n    }\n            resolve(soapBody.Get_DNResponse.Get_DNResult.DN_LIST);\n        }\n      });\n    });\n    return promise;\n  }\n\n  async function parse_log(file) {\n    const promise = await new Promise((resolve, reject) => {\n      const parser = new xml2js.Parser({explicitArray: false, tagNameProcessors: [xml2js.processors.stripPrefix] });\n  \n      parser.parseString(file, (error, result) => {\n        if (error) reject(error);\n        else {\n            var soapBody = result.Envelope.Body;\n\n    // Remove optional attribute(s) from <Body> element.\n    if (soapBody.$) {\n        delete soapBody.$;\n    }\n            resolve(soapBody);\n        }\n      });\n    });\n    return promise;\n  }\n\n  const createInsertQuery = async (table,param)=>{\n    try{\n        let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    \n    param.forEach(function(item,index) {\n        let value = Object.values(item);\n        let isi = value.join(\"','\");\n        if(index == 0)\n        list_value += `('${isi}')`;\n        else list_value += `,('${isi}')`;\n    });\n    \n    for(let keys in column){\n        list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n\n    const query_col = column.join(\",\"); \n    const sql = \n        `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n    }catch(e){\n        return e;\n    }\n    \n}\n\nconst insertQuery = async (param) =>{\n    // console.log(param);\n    const con = new db();\n\n    const r = await con.run_query(param);\n    con.end_connection()\n\n    return r;\n}\n\nexport {\n    \n    getEdn\n    \n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1607590241518
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/src/db/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/src/db/dbcon.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/db/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/src/db/dbcon.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/src/db/dbcon.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/src/db/dbcon.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/src/db/",
        "sourceFileName": "dbcon.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n_dotenv.default.config();\n\nclass _default {\n  constructor(nama) {\n    _defineProperty(this, \"run_query\", async query => {\n      const rq_prom = _util.default.promisify(this.connection.query).bind(this.connection);\n\n      const r = await rq_prom(query);\n      return r;\n    });\n\n    _defineProperty(this, \"end_connection\", _ => {\n      try {\n        this.connection.end(err => {\n          console.log('connection ended');\n        });\n      } catch (e) {\n        this.connection.destroy();\n      }\n    });\n\n    this.connection = _mysql.default.createConnection({\n      host: process.env.DB_DOMAIN,\n      user: process.env.DB_USERNAME,\n      password: process.env.DB_PASSWORD,\n      database: process.env.DB_SCHEMA,\n      port: 3306\n    });\n  }\n\n}\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiY29uLmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImNvbnN0cnVjdG9yIiwibmFtYSIsInF1ZXJ5IiwicnFfcHJvbSIsInV0aWwiLCJwcm9taXNpZnkiLCJjb25uZWN0aW9uIiwiYmluZCIsInIiLCJfIiwiZW5kIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImUiLCJkZXN0cm95IiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9ET01BSU4iLCJ1c2VyIiwiREJfVVNFUk5BTUUiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJEQl9TQ0hFTUEiLCJwb3J0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztBQUNBQSxnQkFBT0MsTUFBUDs7QUFFZSxlQUFLO0FBQ2hCQyxFQUFBQSxXQUFXLENBQUNDLElBQUQsRUFBTTtBQUFBLHVDQVdMLE1BQU9DLEtBQVAsSUFBaUI7QUFDekIsWUFBTUMsT0FBTyxHQUFHQyxjQUFLQyxTQUFMLENBQWUsS0FBS0MsVUFBTCxDQUFnQkosS0FBL0IsRUFBc0NLLElBQXRDLENBQTJDLEtBQUtELFVBQWhELENBQWhCOztBQUVBLFlBQU1FLENBQUMsR0FBRyxNQUFNTCxPQUFPLENBQUNELEtBQUQsQ0FBdkI7QUFFQSxhQUFPTSxDQUFQO0FBQ0gsS0FqQmdCOztBQUFBLDRDQW1CQUMsQ0FBQyxJQUFJO0FBQ2xCLFVBQUc7QUFDQyxhQUFLSCxVQUFMLENBQWdCSSxHQUFoQixDQUFxQkMsR0FBRCxJQUFTO0FBQ3pCQyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWjtBQUNILFNBRkQ7QUFHSCxPQUpELENBS0EsT0FBT0MsQ0FBUCxFQUFVO0FBQ04sYUFBS1IsVUFBTCxDQUFnQlMsT0FBaEI7QUFDSDtBQUVKLEtBN0JnQjs7QUFFYixTQUFLVCxVQUFMLEdBQWtCVSxlQUFNQyxnQkFBTixDQUF1QjtBQUNyQ0MsTUFBQUEsSUFBSSxFQUFjQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsU0FETztBQUVyQ0MsTUFBQUEsSUFBSSxFQUFjSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsV0FGTztBQUdyQ0MsTUFBQUEsUUFBUSxFQUFVTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssV0FITztBQUlyQ0MsTUFBQUEsUUFBUSxFQUFVUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sU0FKTztBQUtyQ0MsTUFBQUEsSUFBSSxFQUFjO0FBTG1CLEtBQXZCLENBQWxCO0FBT0g7O0FBVmUiLCJzb3VyY2VSb290IjoiL1ZvbHVtZXMvZGF0YS9teW5vZGUvc2Fyb3Rfbm9kZS9zcmMvZGIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJ1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCc7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNze1xuICAgIGNvbnN0cnVjdG9yKG5hbWEpe1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XG4gICAgICAgICAgICBob3N0ICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9ET01BSU4sXG4gICAgICAgICAgICB1c2VyICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgICAgICAgICAgIHBhc3N3b3JkICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELFxuICAgICAgICAgICAgZGF0YWJhc2UgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfU0NIRU1BLFxuICAgICAgICAgICAgcG9ydCAgICAgICAgICAgIDogMzMwNlxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJ1bl9xdWVyeSA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICBjb25zdCBycV9wcm9tID0gdXRpbC5wcm9taXNpZnkodGhpcy5jb25uZWN0aW9uLnF1ZXJ5KS5iaW5kKHRoaXMuY29ubmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHJxX3Byb20ocXVlcnkpO1xuXG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGVuZF9jb25uZWN0aW9uID0gXyA9PiB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIGVuZGVkJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "dbcon.js"
      ],
      "names": [
        "dotenv",
        "config",
        "constructor",
        "nama",
        "query",
        "rq_prom",
        "util",
        "promisify",
        "connection",
        "bind",
        "r",
        "_",
        "end",
        "err",
        "console",
        "log",
        "e",
        "destroy",
        "mysql",
        "createConnection",
        "host",
        "process",
        "env",
        "DB_DOMAIN",
        "user",
        "DB_USERNAME",
        "password",
        "DB_PASSWORD",
        "database",
        "DB_SCHEMA",
        "port"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AACAA,gBAAOC,MAAP;;AAEe,eAAK;AAChBC,EAAAA,WAAW,CAACC,IAAD,EAAM;AAAA,uCAWL,MAAOC,KAAP,IAAiB;AACzB,YAAMC,OAAO,GAAGC,cAAKC,SAAL,CAAe,KAAKC,UAAL,CAAgBJ,KAA/B,EAAsCK,IAAtC,CAA2C,KAAKD,UAAhD,CAAhB;;AAEA,YAAME,CAAC,GAAG,MAAML,OAAO,CAACD,KAAD,CAAvB;AAEA,aAAOM,CAAP;AACH,KAjBgB;;AAAA,4CAmBAC,CAAC,IAAI;AAClB,UAAG;AACC,aAAKH,UAAL,CAAgBI,GAAhB,CAAqBC,GAAD,IAAS;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH,SAFD;AAGH,OAJD,CAKA,OAAOC,CAAP,EAAU;AACN,aAAKR,UAAL,CAAgBS,OAAhB;AACH;AAEJ,KA7BgB;;AAEb,SAAKT,UAAL,GAAkBU,eAAMC,gBAAN,CAAuB;AACrCC,MAAAA,IAAI,EAAcC,OAAO,CAACC,GAAR,CAAYC,SADO;AAErCC,MAAAA,IAAI,EAAcH,OAAO,CAACC,GAAR,CAAYG,WAFO;AAGrCC,MAAAA,QAAQ,EAAUL,OAAO,CAACC,GAAR,CAAYK,WAHO;AAIrCC,MAAAA,QAAQ,EAAUP,OAAO,CAACC,GAAR,CAAYO,SAJO;AAKrCC,MAAAA,IAAI,EAAc;AALmB,KAAvB,CAAlB;AAOH;;AAVe",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/db/",
      "sourcesContent": [
        "import mysql from 'mysql'\nimport dotenv from 'dotenv';\nimport util from 'util';\ndotenv.config();\n\nexport default class{\n    constructor(nama){\n        \n        this.connection = mysql.createConnection({\n            host            : process.env.DB_DOMAIN,\n            user            : process.env.DB_USERNAME,\n            password        : process.env.DB_PASSWORD,\n            database        : process.env.DB_SCHEMA,\n            port            : 3306\n        })\n    }\n\n    run_query = async (query) => {\n        const rq_prom = util.promisify(this.connection.query).bind(this.connection);\n\n        const r = await rq_prom(query);\n\n        return r;\n    }\n\n    end_connection = _ => {\n        try{\n            this.connection.end((err) => {\n                console.log('connection ended');\n            })\n        }\n        catch (e) {\n            this.connection.destroy();\n        }\n\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1606121858852
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/sarot_node/src/db/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/sarot_node\",\"filename\":\"/Volumes/data/mynode/sarot_node/src/db/dbcon.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/sarot_node\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/db/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/sarot_node",
      "filename": "/Volumes/data/mynode/sarot_node/src/db/dbcon.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/sarot_node",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/sarot_node/src/db/dbcon.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/sarot_node/src/db/dbcon.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/sarot_node/src/db/",
        "sourceFileName": "dbcon.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n_dotenv.default.config();\n\nclass _default {\n  constructor(nama) {\n    _defineProperty(this, \"run_query\", async query => {\n      const rq_prom = _util.default.promisify(this.connection.query).bind(this.connection);\n\n      const r = await rq_prom(query);\n      return r;\n    });\n\n    _defineProperty(this, \"end_connection\", _ => {\n      try {\n        this.connection.end(err => {\n          console.log('connection ended');\n        });\n      } catch (e) {\n        this.connection.destroy();\n      }\n    });\n\n    this.connection = _mysql.default.createConnection({\n      host: process.env.DB_DOMAIN,\n      user: process.env.DB_USERNAME,\n      password: process.env.DB_PASSWORD,\n      database: process.env.DB_SCHEMA,\n      port: 3306\n    });\n  }\n\n}\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiY29uLmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImNvbnN0cnVjdG9yIiwibmFtYSIsInF1ZXJ5IiwicnFfcHJvbSIsInV0aWwiLCJwcm9taXNpZnkiLCJjb25uZWN0aW9uIiwiYmluZCIsInIiLCJfIiwiZW5kIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImUiLCJkZXN0cm95IiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9ET01BSU4iLCJ1c2VyIiwiREJfVVNFUk5BTUUiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJEQl9TQ0hFTUEiLCJwb3J0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztBQUNBQSxnQkFBT0MsTUFBUDs7QUFFZSxlQUFLO0FBQ2hCQyxFQUFBQSxXQUFXLENBQUNDLElBQUQsRUFBTTtBQUFBLHVDQVdMLE1BQU9DLEtBQVAsSUFBaUI7QUFDekIsWUFBTUMsT0FBTyxHQUFHQyxjQUFLQyxTQUFMLENBQWUsS0FBS0MsVUFBTCxDQUFnQkosS0FBL0IsRUFBc0NLLElBQXRDLENBQTJDLEtBQUtELFVBQWhELENBQWhCOztBQUVBLFlBQU1FLENBQUMsR0FBRyxNQUFNTCxPQUFPLENBQUNELEtBQUQsQ0FBdkI7QUFFQSxhQUFPTSxDQUFQO0FBQ0gsS0FqQmdCOztBQUFBLDRDQW1CQUMsQ0FBQyxJQUFJO0FBQ2xCLFVBQUc7QUFDQyxhQUFLSCxVQUFMLENBQWdCSSxHQUFoQixDQUFxQkMsR0FBRCxJQUFTO0FBQ3pCQyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWjtBQUNILFNBRkQ7QUFHSCxPQUpELENBS0EsT0FBT0MsQ0FBUCxFQUFVO0FBQ04sYUFBS1IsVUFBTCxDQUFnQlMsT0FBaEI7QUFDSDtBQUVKLEtBN0JnQjs7QUFFYixTQUFLVCxVQUFMLEdBQWtCVSxlQUFNQyxnQkFBTixDQUF1QjtBQUNyQ0MsTUFBQUEsSUFBSSxFQUFjQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsU0FETztBQUVyQ0MsTUFBQUEsSUFBSSxFQUFjSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsV0FGTztBQUdyQ0MsTUFBQUEsUUFBUSxFQUFVTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssV0FITztBQUlyQ0MsTUFBQUEsUUFBUSxFQUFVUCxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sU0FKTztBQUtyQ0MsTUFBQUEsSUFBSSxFQUFjO0FBTG1CLEtBQXZCLENBQWxCO0FBT0g7O0FBVmUiLCJzb3VyY2VSb290IjoiL1ZvbHVtZXMvZGF0YS9teW5vZGUvc2Fyb3Rfbm9kZS9zcmMvZGIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJ1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCc7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNze1xuICAgIGNvbnN0cnVjdG9yKG5hbWEpe1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XG4gICAgICAgICAgICBob3N0ICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9ET01BSU4sXG4gICAgICAgICAgICB1c2VyICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgICAgICAgICAgIHBhc3N3b3JkICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELFxuICAgICAgICAgICAgZGF0YWJhc2UgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfU0NIRU1BLFxuICAgICAgICAgICAgcG9ydCAgICAgICAgICAgIDogMzMwNlxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJ1bl9xdWVyeSA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICBjb25zdCBycV9wcm9tID0gdXRpbC5wcm9taXNpZnkodGhpcy5jb25uZWN0aW9uLnF1ZXJ5KS5iaW5kKHRoaXMuY29ubmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHJxX3Byb20ocXVlcnkpO1xuXG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGVuZF9jb25uZWN0aW9uID0gXyA9PiB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIGVuZGVkJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "dbcon.js"
      ],
      "names": [
        "dotenv",
        "config",
        "constructor",
        "nama",
        "query",
        "rq_prom",
        "util",
        "promisify",
        "connection",
        "bind",
        "r",
        "_",
        "end",
        "err",
        "console",
        "log",
        "e",
        "destroy",
        "mysql",
        "createConnection",
        "host",
        "process",
        "env",
        "DB_DOMAIN",
        "user",
        "DB_USERNAME",
        "password",
        "DB_PASSWORD",
        "database",
        "DB_SCHEMA",
        "port"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AACAA,gBAAOC,MAAP;;AAEe,eAAK;AAChBC,EAAAA,WAAW,CAACC,IAAD,EAAM;AAAA,uCAWL,MAAOC,KAAP,IAAiB;AACzB,YAAMC,OAAO,GAAGC,cAAKC,SAAL,CAAe,KAAKC,UAAL,CAAgBJ,KAA/B,EAAsCK,IAAtC,CAA2C,KAAKD,UAAhD,CAAhB;;AAEA,YAAME,CAAC,GAAG,MAAML,OAAO,CAACD,KAAD,CAAvB;AAEA,aAAOM,CAAP;AACH,KAjBgB;;AAAA,4CAmBAC,CAAC,IAAI;AAClB,UAAG;AACC,aAAKH,UAAL,CAAgBI,GAAhB,CAAqBC,GAAD,IAAS;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH,SAFD;AAGH,OAJD,CAKA,OAAOC,CAAP,EAAU;AACN,aAAKR,UAAL,CAAgBS,OAAhB;AACH;AAEJ,KA7BgB;;AAEb,SAAKT,UAAL,GAAkBU,eAAMC,gBAAN,CAAuB;AACrCC,MAAAA,IAAI,EAAcC,OAAO,CAACC,GAAR,CAAYC,SADO;AAErCC,MAAAA,IAAI,EAAcH,OAAO,CAACC,GAAR,CAAYG,WAFO;AAGrCC,MAAAA,QAAQ,EAAUL,OAAO,CAACC,GAAR,CAAYK,WAHO;AAIrCC,MAAAA,QAAQ,EAAUP,OAAO,CAACC,GAAR,CAAYO,SAJO;AAKrCC,MAAAA,IAAI,EAAc;AALmB,KAAvB,CAAlB;AAOH;;AAVe",
      "sourceRoot": "/Volumes/data/mynode/sarot_node/src/db/",
      "sourcesContent": [
        "import mysql from 'mysql'\nimport dotenv from 'dotenv';\nimport util from 'util';\ndotenv.config();\n\nexport default class{\n    constructor(nama){\n        \n        this.connection = mysql.createConnection({\n            host            : process.env.DB_DOMAIN,\n            user            : process.env.DB_USERNAME,\n            password        : process.env.DB_PASSWORD,\n            database        : process.env.DB_SCHEMA,\n            port            : 3306\n        })\n    }\n\n    run_query = async (query) => {\n        const rq_prom = util.promisify(this.connection.query).bind(this.connection);\n\n        const r = await rq_prom(query);\n\n        return r;\n    }\n\n    end_connection = _ => {\n        try{\n            this.connection.end((err) => {\n                console.log('connection ended');\n            })\n        }\n        catch (e) {\n            this.connection.destroy();\n        }\n\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1606121858852
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/app.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar createError = require('http-errors');\n\nvar express = require('express');\n\nvar path = require('path');\n\nvar cookieParser = require('cookie-parser');\n\nvar logger = require('morgan');\n\nvar indexRouter = require('./routes/index');\n\nvar usersRouter = require('./routes/users');\n\nvar app = express(); // view engine setup\n\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'jade');\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: false\n}));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/', indexRouter);\napp.use('/users', usersRouter); // catch 404 and forward to error handler\n\napp.use(function (req, res, next) {\n  next(createError(404));\n}); // error handler\n\napp.use(function (err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {}; // render the error page\n\n  res.status(err.status || 500);\n  res.render('error');\n});\nmodule.exports = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVFcnJvciIsInJlcXVpcmUiLCJleHByZXNzIiwicGF0aCIsImNvb2tpZVBhcnNlciIsImxvZ2dlciIsImluZGV4Um91dGVyIiwidXNlcnNSb3V0ZXIiLCJhcHAiLCJzZXQiLCJqb2luIiwiX19kaXJuYW1lIiwidXNlIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXRpYyIsInJlcSIsInJlcyIsIm5leHQiLCJlcnIiLCJsb2NhbHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJnZXQiLCJzdGF0dXMiLCJyZW5kZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBekI7O0FBQ0EsSUFBSUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJRSxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxNQUFELENBQWxCOztBQUNBLElBQUlHLFlBQVksR0FBR0gsT0FBTyxDQUFDLGVBQUQsQ0FBMUI7O0FBQ0EsSUFBSUksTUFBTSxHQUFHSixPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxJQUFJSyxXQUFXLEdBQUdMLE9BQU8sQ0FBQyxnQkFBRCxDQUF6Qjs7QUFDQSxJQUFJTSxXQUFXLEdBQUdOLE9BQU8sQ0FBQyxnQkFBRCxDQUF6Qjs7QUFFQSxJQUFJTyxHQUFHLEdBQUdOLE9BQU8sRUFBakIsQyxDQUVBOztBQUNBTSxHQUFHLENBQUNDLEdBQUosQ0FBUSxPQUFSLEVBQWlCTixJQUFJLENBQUNPLElBQUwsQ0FBVUMsU0FBVixFQUFxQixPQUFyQixDQUFqQjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXVCLE1BQXZCO0FBRUFELEdBQUcsQ0FBQ0ksR0FBSixDQUFRUCxNQUFNLENBQUMsS0FBRCxDQUFkO0FBQ0FHLEdBQUcsQ0FBQ0ksR0FBSixDQUFRVixPQUFPLENBQUNXLElBQVIsRUFBUjtBQUNBTCxHQUFHLENBQUNJLEdBQUosQ0FBUVYsT0FBTyxDQUFDWSxVQUFSLENBQW1CO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7QUFDQVAsR0FBRyxDQUFDSSxHQUFKLENBQVFSLFlBQVksRUFBcEI7QUFDQUksR0FBRyxDQUFDSSxHQUFKLENBQVFWLE9BQU8sQ0FBQ2MsTUFBUixDQUFlYixJQUFJLENBQUNPLElBQUwsQ0FBVUMsU0FBVixFQUFxQixRQUFyQixDQUFmLENBQVI7QUFFQUgsR0FBRyxDQUFDSSxHQUFKLENBQVEsR0FBUixFQUFhTixXQUFiO0FBQ0FFLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLFFBQVIsRUFBa0JMLFdBQWxCLEUsQ0FFQTs7QUFDQUMsR0FBRyxDQUFDSSxHQUFKLENBQVEsVUFBU0ssR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUMvQkEsRUFBQUEsSUFBSSxDQUFDbkIsV0FBVyxDQUFDLEdBQUQsQ0FBWixDQUFKO0FBQ0QsQ0FGRCxFLENBSUE7O0FBQ0FRLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLFVBQVNRLEdBQVQsRUFBY0gsR0FBZCxFQUFtQkMsR0FBbkIsRUFBd0JDLElBQXhCLEVBQThCO0FBQ3BDO0FBQ0FELEVBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxPQUFYLEdBQXFCRixHQUFHLENBQUNFLE9BQXpCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXRSxLQUFYLEdBQW1CTixHQUFHLENBQUNULEdBQUosQ0FBUWdCLEdBQVIsQ0FBWSxLQUFaLE1BQXVCLGFBQXZCLEdBQXVDSixHQUF2QyxHQUE2QyxFQUFoRSxDQUhvQyxDQUtwQzs7QUFDQUYsRUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVdMLEdBQUcsQ0FBQ0ssTUFBSixJQUFjLEdBQXpCO0FBQ0FQLEVBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLE9BQVg7QUFDRCxDQVJEO0FBVUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBCLEdBQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0LyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJ2h0dHAtZXJyb3JzJyk7XG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGNvb2tpZVBhcnNlciA9IHJlcXVpcmUoJ2Nvb2tpZS1wYXJzZXInKTtcbnZhciBsb2dnZXIgPSByZXF1aXJlKCdtb3JnYW4nKTtcblxudmFyIGluZGV4Um91dGVyID0gcmVxdWlyZSgnLi9yb3V0ZXMvaW5kZXgnKTtcbnZhciB1c2Vyc1JvdXRlciA9IHJlcXVpcmUoJy4vcm91dGVzL3VzZXJzJyk7XG5cbnZhciBhcHAgPSBleHByZXNzKCk7XG5cbi8vIHZpZXcgZW5naW5lIHNldHVwXG5hcHAuc2V0KCd2aWV3cycsIHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycpKTtcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2phZGUnKTtcblxuYXBwLnVzZShsb2dnZXIoJ2RldicpKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuXG5hcHAudXNlKCcvJywgaW5kZXhSb3V0ZXIpO1xuYXBwLnVzZSgnL3VzZXJzJywgdXNlcnNSb3V0ZXIpO1xuXG4vLyBjYXRjaCA0MDQgYW5kIGZvcndhcmQgdG8gZXJyb3IgaGFuZGxlclxuYXBwLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBuZXh0KGNyZWF0ZUVycm9yKDQwNCkpO1xufSk7XG5cbi8vIGVycm9yIGhhbmRsZXJcbmFwcC51c2UoZnVuY3Rpb24oZXJyLCByZXEsIHJlcywgbmV4dCkge1xuICAvLyBzZXQgbG9jYWxzLCBvbmx5IHByb3ZpZGluZyBlcnJvciBpbiBkZXZlbG9wbWVudFxuICByZXMubG9jYWxzLm1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgcmVzLmxvY2Fscy5lcnJvciA9IHJlcS5hcHAuZ2V0KCdlbnYnKSA9PT0gJ2RldmVsb3BtZW50JyA/IGVyciA6IHt9O1xuXG4gIC8vIHJlbmRlciB0aGUgZXJyb3IgcGFnZVxuICByZXMuc3RhdHVzKGVyci5zdGF0dXMgfHwgNTAwKTtcbiAgcmVzLnJlbmRlcignZXJyb3InKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcDtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "createError",
        "require",
        "express",
        "path",
        "cookieParser",
        "logger",
        "indexRouter",
        "usersRouter",
        "app",
        "set",
        "join",
        "__dirname",
        "use",
        "json",
        "urlencoded",
        "extended",
        "static",
        "req",
        "res",
        "next",
        "err",
        "locals",
        "message",
        "error",
        "get",
        "status",
        "render",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAW,GAAGC,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAApB;;AAEA,IAAIK,WAAW,GAAGL,OAAO,CAAC,gBAAD,CAAzB;;AACA,IAAIM,WAAW,GAAGN,OAAO,CAAC,gBAAD,CAAzB;;AAEA,IAAIO,GAAG,GAAGN,OAAO,EAAjB,C,CAEA;;AACAM,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBN,IAAI,CAACO,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAH,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AAEAD,GAAG,CAACI,GAAJ,CAAQP,MAAM,CAAC,KAAD,CAAd;AACAG,GAAG,CAACI,GAAJ,CAAQV,OAAO,CAACW,IAAR,EAAR;AACAL,GAAG,CAACI,GAAJ,CAAQV,OAAO,CAACY,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAP,GAAG,CAACI,GAAJ,CAAQR,YAAY,EAApB;AACAI,GAAG,CAACI,GAAJ,CAAQV,OAAO,CAACc,MAAR,CAAeb,IAAI,CAACO,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AAEAH,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAaN,WAAb;AACAE,GAAG,CAACI,GAAJ,CAAQ,QAAR,EAAkBL,WAAlB,E,CAEA;;AACAC,GAAG,CAACI,GAAJ,CAAQ,UAASK,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BA,EAAAA,IAAI,CAACnB,WAAW,CAAC,GAAD,CAAZ,CAAJ;AACD,CAFD,E,CAIA;;AACAQ,GAAG,CAACI,GAAJ,CAAQ,UAASQ,GAAT,EAAcH,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACpC;AACAD,EAAAA,GAAG,CAACG,MAAJ,CAAWC,OAAX,GAAqBF,GAAG,CAACE,OAAzB;AACAJ,EAAAA,GAAG,CAACG,MAAJ,CAAWE,KAAX,GAAmBN,GAAG,CAACT,GAAJ,CAAQgB,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCJ,GAAvC,GAA6C,EAAhE,CAHoC,CAKpC;;AACAF,EAAAA,GAAG,CAACO,MAAJ,CAAWL,GAAG,CAACK,MAAJ,IAAc,GAAzB;AACAP,EAAAA,GAAG,CAACQ,MAAJ,CAAW,OAAX;AACD,CARD;AAUAC,MAAM,CAACC,OAAP,GAAiBpB,GAAjB",
      "sourceRoot": "/Volumes/data/mynode/bfast/",
      "sourcesContent": [
        "var createError = require('http-errors');\nvar express = require('express');\nvar path = require('path');\nvar cookieParser = require('cookie-parser');\nvar logger = require('morgan');\n\nvar indexRouter = require('./routes/index');\nvar usersRouter = require('./routes/users');\n\nvar app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'jade');\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.use('/', indexRouter);\napp.use('/users', usersRouter);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n// error handler\napp.use(function(err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\nmodule.exports = app;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605774148837
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/routes/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n/* GET home page. */\n\nrouter.get('/', function (req, res, next) {\n  res.render('index', {\n    title: 'Express'\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInJlbmRlciIsInRpdGxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWI7QUFFQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3ZDRCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyxPQUFYLEVBQW9CO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQXBCO0FBQ0QsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vKiBHRVQgaG9tZSBwYWdlLiAqL1xucm91dGVyLmdldCgnLycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHJlcy5yZW5kZXIoJ2luZGV4JywgeyB0aXRsZTogJ0V4cHJlc3MnIH0pO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "next",
        "render",
        "title",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;AAEA;;AACAD,MAAM,CAACE,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAApB;AACD,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express' });\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605774148830
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/routes/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/routes/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/routes/users.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/routes/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn');\n/* GET users listing. */\n\n\nrouter.get('/', function (req, res, next) {\n  res.send('respond with a resource');\n});\nrouter.post('/tes_res', function (req, res, next) {\n  tcontr.tarik_tes().then(v => {\n    res.send(v);\n  });\n});\nrouter.post('/batch', function (req, res, next) {\n  tcontr.getEdn({\n    date: `${req.body.date}`\n  }).then(v => {\n    res.send(v);\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwidGNvbnRyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInNlbmQiLCJwb3N0IiwidGFyaWtfdGVzIiwidGhlbiIsInYiLCJnZXRFZG4iLCJkYXRlIiwiYm9keSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUVBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLHVCQUFELENBQXBCO0FBRUE7OztBQUNBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDdkNELEVBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTLHlCQUFUO0FBQ0QsQ0FGRDtBQUlBUCxNQUFNLENBQUNRLElBQVAsQ0FBWSxVQUFaLEVBQXdCLFVBQVNKLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDOUNKLEVBQUFBLE1BQU0sQ0FBQ08sU0FBUCxHQUFtQkMsSUFBbkIsQ0FBeUJDLENBQUQsSUFBTztBQUM3Qk4sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNJLENBQVQ7QUFDRCxHQUZEO0FBR0QsQ0FKRDtBQU1BWCxNQUFNLENBQUNRLElBQVAsQ0FBWSxRQUFaLEVBQXNCLFVBQVNKLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDNUNKLEVBQUFBLE1BQU0sQ0FBQ1UsTUFBUCxDQUFjO0FBQUNDLElBQUFBLElBQUksRUFBSSxHQUFFVCxHQUFHLENBQUNVLElBQUosQ0FBU0QsSUFBSztBQUF6QixHQUFkLEVBQTJDSCxJQUEzQyxDQUFpREMsQ0FBRCxJQUFPO0FBQ3JETixJQUFBQSxHQUFHLENBQUNFLElBQUosQ0FBU0ksQ0FBVDtBQUNELEdBRkQ7QUFHRCxDQUpEO0FBTUFJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG52YXIgdGNvbnRyID0gcmVxdWlyZSgnLi4vc3JjL2NvbnRyb2xsZXIvZWRuJylcblxuLyogR0VUIHVzZXJzIGxpc3RpbmcuICovXG5yb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLnNlbmQoJ3Jlc3BvbmQgd2l0aCBhIHJlc291cmNlJyk7XG59KTtcblxucm91dGVyLnBvc3QoJy90ZXNfcmVzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpe1xuICB0Y29udHIudGFyaWtfdGVzKCkudGhlbigodikgPT4ge1xuICAgIHJlcy5zZW5kKHYpXG4gIH0pXG59KTtcblxucm91dGVyLnBvc3QoJy9iYXRjaCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXtcbiAgdGNvbnRyLmdldEVkbih7ZGF0ZSA6IGAke3JlcS5ib2R5LmRhdGV9YH0pLnRoZW4oKHYpID0+IHtcbiAgICByZXMuc2VuZCh2KVxuICB9KVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "tcontr",
        "get",
        "req",
        "res",
        "next",
        "send",
        "post",
        "tarik_tes",
        "then",
        "v",
        "getEdn",
        "date",
        "body",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AAEA,IAAIC,MAAM,GAAGH,OAAO,CAAC,uBAAD,CAApB;AAEA;;;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,IAAJ,CAAS,yBAAT;AACD,CAFD;AAIAP,MAAM,CAACQ,IAAP,CAAY,UAAZ,EAAwB,UAASJ,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC9CJ,EAAAA,MAAM,CAACO,SAAP,GAAmBC,IAAnB,CAAyBC,CAAD,IAAO;AAC7BN,IAAAA,GAAG,CAACE,IAAJ,CAASI,CAAT;AACD,GAFD;AAGD,CAJD;AAMAX,MAAM,CAACQ,IAAP,CAAY,QAAZ,EAAsB,UAASJ,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC5CJ,EAAAA,MAAM,CAACU,MAAP,CAAc;AAACC,IAAAA,IAAI,EAAI,GAAET,GAAG,CAACU,IAAJ,CAASD,IAAK;AAAzB,GAAd,EAA2CH,IAA3C,CAAiDC,CAAD,IAAO;AACrDN,IAAAA,GAAG,CAACE,IAAJ,CAASI,CAAT;AACD,GAFD;AAGD,CAJD;AAMAI,MAAM,CAACC,OAAP,GAAiBhB,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn')\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n  res.send('respond with a resource');\n});\n\nrouter.post('/tes_res', function(req, res, next){\n  tcontr.tarik_tes().then((v) => {\n    res.send(v)\n  })\n});\n\nrouter.post('/batch', function(req, res, next){\n  tcontr.getEdn({date : `${req.body.date}`}).then((v) => {\n    res.send(v)\n  })\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609224866786
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/src/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/src/controller/edn.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/src/controller/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/src/controller/edn.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/src/controller/edn.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/src/controller/edn.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/src/controller/",
        "sourceFileName": "edn.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEdn = void 0;\n\nvar _dbcon = _interopRequireDefault(require(\"../db/dbcon\"));\n\nvar _easySoapRequest = _interopRequireDefault(require(\"easy-soap-request\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _xml2js = _interopRequireDefault(require(\"xml2js\"));\n\nvar _sqlstring = _interopRequireDefault(require(\"sqlstring\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _cluster = _interopRequireDefault(require(\"cluster\"));\n\nvar _v = _interopRequireDefault(require(\"v8\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst create_query_log = async (table, param) => {\n  let {\n    request,\n    OTF_date,\n    http_code,\n    response\n  } = param; // const con = mysql.createConnection({\n  //     host            : process.env.DB_DOMAIN,\n  //     user            : process.env.DB_USERNAME,\n  //     password        : process.env.DB_PASSWORD,\n  //     database        : process.env.DB_SCHEMA\n  // });\n\n  let req = await parse_log(request);\n  req = JSON.stringify(req);\n  console.log(\"request :\" + req);\n  let resp = await parse_log(response);\n  resp = JSON.stringify(resp);\n  let is_resp_json = isJsonParsable(resp);\n  console.log(\"response :\" + resp);\n  let sql = '';\n  if (is_resp_json) sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;else sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${response}',0,0)`; // const data = [[request,OTF_date,http_code,response,0,0]];\n\n  const r = await insertQuery(sql); // con.end_connection()\n  // con.query(sql, [data], (err, results, fields) => {\n  //     if (err) {\n  //       return console.error(err.message);\n  //     }\n  //     // get inserted rows\n  //     console.log('Row inserted:' + results.affectedRows);\n  //     // return results;\n  //   });\n  //   con.end()\n  // console.log(results);\n};\n\nconst grouping_array = async param => {\n  console.log(param);\n  let {\n    arr,\n    group,\n    sum\n  } = param;\n\n  if (arr != null && typeof arr != 'undefined' && arr != 'undefined' && group != null && typeof group != 'undefined' && group != 'undefined' && sum != null && typeof sum != 'undefined' && sum != 'undefined') {\n    var helper = {};\n    let key = '';\n    let arrayLength = group.length;\n    var result = arr.reduce(function (r, o) {\n      for (var i = 0; i < arrayLength; i++) {\n        if (i == 0) key += o[group[i]];else key += '-' + o[group[i]]; // key = o.shape  + '-' + o.color;\n        //Do something\n      }\n\n      if (!helper[key]) {\n        helper[key] = Object.assign({}, o); // create a copy of o\n\n        r.push(helper[key]);\n      } else {\n        let arrlength = sum.length;\n\n        for (var o = 0; o < arrlength; o++) {\n          helper[key][sum[o]] += o[sum[i]]; // key = o.shape  + '-' + o.color;\n          //Do something\n        } // helper[key].used += o.used;\n        // helper[key].instances += o.instances;\n\n      }\n\n      return r;\n    }, []);\n    return result;\n  } else return null;\n};\n\nconst isJsonParsable = string => {\n  try {\n    JSON.parse(string);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nfunction today() {\n  let date_today = new Date().toLocaleDateString(\"en-CA\");\n  let ret = {\n    \"date\": date_today\n  };\n  return ret;\n}\n\nconst getEdn = async (param = null) => {\n  // console.log(param);\n  let {\n    date_from,\n    date_to\n  } = param;\n  let date_ob_from;\n  let date_ob_to;\n\n  if (date_from == null || typeof date_from == 'undefined' || date_from == 'undefined' || date_to == null || typeof date_to == 'undefined' || date_to == 'undefined') {\n    date_ob_to = new Date();\n    date_ob_from = new Date(date_ob_to.getFullYear(), date_ob_to.getMonth(), 1); // console.log(date_ob); \n  } else {\n    var datePartsfrom = date_from.split(\"-\");\n    date_ob_from = new Date(+datePartsfrom[0], datePartsfrom[1] - 1, +datePartsfrom[2]);\n    var datePartsto = date_to.split(\"-\");\n    date_ob_to = new Date(+datePartsto[0], datePartsto[1] - 1, +datePartsto[2]);\n  } // adjust 0 before single digit date\n  // let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2);\n  // // current month\n  // let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2);\n  // // current year\n  // let year_from = date_ob_from.getFullYear();\n  // let tgl_iso_from = year_from+\"-\"+month_from+\"-\"+date_str_from;\n\n\n  let from = await get_date_string(date_ob_from);\n  let to = await get_date_string(date_ob_to);\n  console.log(\"from :\" + date_ob_from);\n  console.log(\"to :\" + date_ob_to);\n\n  try {\n    // console.log(raw_lama_kebaruan);\n    let batch_oos = await get_stock({\n      \"from\": from,\n      \"to\": to\n    });\n    let query_batch_oos = await createInsertQuery(\"batch_trigger_oos\", batch_oos);\n    let ins = await insertQuery(query_batch_oos); //  console.log(query_batch_oos);\n    // let res = await Promise.all([get_batch_account({\"from\":from,\"to\":to}),get_batch_channel({\"from\":from,\"to\":to})]);\n    // console.log(res);\n    //  let group_account = [\"date\",\"product\",\"account\",\"branch\"];\n    //  let sum_account = [\"nilai\",\"total\"];\n    //  let batch_oos_account = await grouping_array({\"arr\":batch_oos,\"group\":group_account,\"sum\":sum_account});\n    //  console.log(batch_oos_account);\n    // batch_oos = null\n\n    return ins;\n  } catch (e) {\n    console.log(e);\n    return e;\n  }\n};\n\nexports.getEdn = getEdn;\n\nconst get_date_string = async date_ob_from => {\n  let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2); // current month\n\n  let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2); // current year\n\n  let year_from = date_ob_from.getFullYear();\n  let tgl_iso_from = year_from + \"-\" + month_from + \"-\" + date_str_from;\n  return tgl_iso_from;\n};\n\nconst createInsertQuery = async (table, param) => {\n  try {\n    let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    param.forEach(function (item, index) {\n      let value = Object.values(item);\n      let isi = value.join(\"','\");\n      if (index == 0) list_value += `('${isi}')`;else list_value += `,('${isi}')`;\n    });\n\n    for (let keys in column) {\n      list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n    const query_col = column.join(\",\");\n    const sql = `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n  } catch (e) {\n    return e;\n  }\n};\n\nconst insertQuery = async param => {\n  // console.log(param);\n  const con = new _dbcon.default();\n  const r = await con.run_query(param);\n  con.end_connection();\n  return r;\n};\n\nconst get_batch_account = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    insert into batch_trigger_oos_account (branch, account, product,\n         value, total, date, last_update, month,year, role)\n           SELECT branch,account,product,sum(nilai) value,\n           sum(total) total, date , now() last_update, month(date) month,year(date) year,role\n           FROM batch_trigger_oos\n           where date >= '${from}'\n           and date <= '${to}'\n           group by branch,account,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n  con.end_connection();\n  return r;\n};\n\nconst get_batch_channel = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    insert into batch_trigger_oos_channel (branch, channel, product,\n         value, total, date, last_update, role)\n         SELECT branch,channel,product,sum(nilai) value,sum(total) total,date,now() last_update,role  FROM batch_trigger_oos\n         where date >= '${from}'\n         and date <= '${to}'\n         group by branch,channel,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n  con.end_connection();\n  return r;\n};\n\nconst get_stock = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    \n    select st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel, ss.id_subchannel subchannel,\n    sa.id_account account,rs.product_id product,pjv.principal_id principal,pjv.product_group_id productgroup,pjv.brand_group_id brandgroup,\n    pjv.subbrand_id subbrand, pjv.brand_id brand,pjv.is_competitor is_competitor,rs.nilai,rs.total,\n    rs.tanggal_mulai date ,pjv.oos_sos_product as oos_sof_product,year(rs.tanggal_mulai) year,month(rs.tanggal_mulai) month, \n    rs.role_id role\n    from\n    (select rs.tanggal_mulai,s.account_id,s.branch_id,rs.product_id,uk.role_id,sum(nilai) nilai,sum(total) total from\n    (SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,sum(if(value_oos = 1,cast(1 as signed),cast(0 as signed))) as nilai,count(0) as total FROM visit v\n    join report_stock rs on v.id_visit = rs.visit_id\n    where v.tanggal_mulai >= '${from}' \n    and v.tanggal_mulai <= '${to}'\n    and rs.value_oos != 2\n    group by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\n    join store s on s.id_store = rs.store_id\n    join usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\n    group by rs.product_id,s.branch_id,s.account_id,rs.tanggal_mulai,uk.role_id) rs\n    join sr_branch sb on rs.branch_id = sb.id_branch\n    join sr_territory st on sb.territory_id = st.id_territory\n    join sg_account sa on rs.account_id = sa.id_account\n    join sg_account_group sag on sa.account_group_id = sag.id_account_group\n    join sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\n    join product_join_view pjv on pjv.id_product = rs.product_id \n    \n    `);\n  con.end_connection();\n  return r;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkbi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJjcmVhdGVfcXVlcnlfbG9nIiwidGFibGUiLCJwYXJhbSIsInJlcXVlc3QiLCJPVEZfZGF0ZSIsImh0dHBfY29kZSIsInJlc3BvbnNlIiwicmVxIiwicGFyc2VfbG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJyZXNwIiwiaXNfcmVzcF9qc29uIiwiaXNKc29uUGFyc2FibGUiLCJzcWwiLCJyIiwiaW5zZXJ0UXVlcnkiLCJncm91cGluZ19hcnJheSIsImFyciIsImdyb3VwIiwic3VtIiwiaGVscGVyIiwia2V5IiwiYXJyYXlMZW5ndGgiLCJsZW5ndGgiLCJyZXN1bHQiLCJyZWR1Y2UiLCJvIiwiaSIsIk9iamVjdCIsImFzc2lnbiIsInB1c2giLCJhcnJsZW5ndGgiLCJzdHJpbmciLCJwYXJzZSIsImUiLCJ0b2RheSIsImRhdGVfdG9kYXkiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicmV0IiwiZ2V0RWRuIiwiZGF0ZV9mcm9tIiwiZGF0ZV90byIsImRhdGVfb2JfZnJvbSIsImRhdGVfb2JfdG8iLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZGF0ZVBhcnRzZnJvbSIsInNwbGl0IiwiZGF0ZVBhcnRzdG8iLCJmcm9tIiwiZ2V0X2RhdGVfc3RyaW5nIiwidG8iLCJiYXRjaF9vb3MiLCJnZXRfc3RvY2siLCJxdWVyeV9iYXRjaF9vb3MiLCJjcmVhdGVJbnNlcnRRdWVyeSIsImlucyIsImRhdGVfc3RyX2Zyb20iLCJnZXREYXRlIiwic2xpY2UiLCJtb250aF9mcm9tIiwieWVhcl9mcm9tIiwidGdsX2lzb19mcm9tIiwiY29sdW1uIiwia2V5cyIsImxpc3RfY29sdW1uIiwibGlzdF92YWx1ZSIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJ2YWx1ZSIsInZhbHVlcyIsImlzaSIsImpvaW4iLCJxdWVyeV9jb2wiLCJjb24iLCJkYiIsInJ1bl9xdWVyeSIsImVu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QUNBLGtGQVBvQixDQUFoQjtBQVFBd0IsRUFBQUEsR0FBRyxDQUFDRyxjQUFKO0FBQ0EsU0FBT2pFLENBQVA7QUFDSCxDQWJEOztBQWVBLE1BQU13QyxTQUFTLEdBQUcsTUFBT3ZELEtBQVAsSUFBZ0I7QUFDOUIsTUFBSTtBQUFDbUQsSUFBQUEsSUFBRDtBQUFNRSxJQUFBQTtBQUFOLE1BQVlyRCxLQUFoQjtBQUNBLFFBQU02RSxHQUFHLEdBQUcsSUFBSUMsY0FBSixFQUFaO0FBQ0EsUUFBTS9ELENBQUMsR0FBRyxNQUFNOEQsR0FBRyxDQUFDRSxTQUFKLENBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M1QixJQUFLO0FBQ3JDLDhCQUE4QkUsRUFBRztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQXpCb0IsQ0FBaEI7QUEwQkF3QixFQUFBQSxHQUFHLENBQUNHLGNBQUo7QUFDQSxTQUFPakUsQ0FBUDtBQUNILENBL0JEIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiBmcm9tICcuLi9kYi9kYmNvbic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnZWFzeS1zb2FwLXJlcXVlc3QnO1xuaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJztcbmltcG9ydCB4bWwyanMgZnJvbSAneG1sMmpzJztcbmltcG9ydCBzcWxzdHJpbmcgZnJvbSAnc3Fsc3RyaW5nJztcbmltcG9ydCB1dGlsIGZyb20gJ3V0aWwnO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGNsdXN0ZXIgZnJvbSAnY2x1c3Rlcic7XG5pbXBvcnQgdjggZnJvbSAndjgnO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBjcmVhdGVfcXVlcnlfbG9nID0gYXN5bmMgKHRhYmxlLHBhcmFtKSA9PiB7XG4gICAgbGV0IHtyZXF1ZXN0LE9URl9kYXRlLGh0dHBfY29kZSxyZXNwb25zZX0gPSBwYXJhbTtcbiAgICAvLyBjb25zdCBjb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgICAvLyAgICAgaG9zdCAgICAgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfRE9NQUlOLFxuICAgIC8vICAgICB1c2VyICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgICAvLyAgICAgcGFzc3dvcmQgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgLy8gICAgIGRhdGFiYXNlICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1NDSEVNQVxuICAgIC8vIH0pO1xuICAgIGxldCByZXEgPSBhd2FpdCBwYXJzZV9sb2cocmVxdWVzdCk7XG4gICAgcmVxID0gSlNPTi5zdHJpbmdpZnkocmVxKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcXVlc3QgOlwiK3JlcSk7XG4gICAgbGV0IHJlc3AgPSBhd2FpdCBwYXJzZV9sb2cocmVzcG9uc2UpO1xuICAgIHJlc3AgPSBKU09OLnN0cmluZ2lmeShyZXNwKTtcbiAgICBsZXQgaXNfcmVzcF9qc29uID0gaXNKc29uUGFyc2FibGUocmVzcCk7XG4gICAgY29uc29sZS5sb2coXCJyZXNwb25zZSA6XCIrcmVzcCk7XG4gICAgbGV0IHNxbCA9ICcnO1xuICAgIGlmKGlzX3Jlc3BfanNvbilcbiAgICBzcWwgPSBgaW5zZXJ0IGludG8gJHt0YWJsZX0gKHJlcXVlc3QsIE9URl9kYXRlLCBodHRwX2NvZGUscmVzcG9uc2UsY3JlYXRlZF9ieSxtb2RpZmllZF9ieSkgdmFsdWVzICgnJHtyZXF9JywnJHtPVEZfZGF0ZX0nLCcke2h0dHBfY29kZX0nLCcke3Jlc3B9JywwLDApYDtcbiAgICBlbHNlIHNxbCA9IGBpbnNlcnQgaW50byAke3RhYmxlfSAocmVxdWVzdCwgT1RGX2RhdGUsIGh0dHBfY29kZSxyZXNwb25zZSxjcmVhdGVkX2J5LG1vZGlmaWVkX2J5KSB2YWx1ZXMgKCcke3JlcX0nLCcke09URl9kYXRlfScsJyR7aHR0cF9jb2RlfScsJyR7cmVzcG9uc2V9JywwLDApYDtcbiAgICAvLyBjb25zdCBkYXRhID0gW1tyZXF1ZXN0LE9URl9kYXRlLGh0dHBfY29kZSxyZXNwb25zZSwwLDBdXTtcbiAgICBjb25zdCByID0gYXdhaXQgaW5zZXJ0UXVlcnkoc3FsKVxuICAgIC8vIGNvbi5lbmRfY29ubmVjdGlvbigpXG4gICAgLy8gY29uLnF1ZXJ5KHNxbCwgW2RhdGFdLCAoZXJyLCByZXN1bHRzLCBmaWVsZHMpID0+IHtcbiAgICAvLyAgICAgaWYgKGVycikge1xuICAgIC8vICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAvLyBnZXQgaW5zZXJ0ZWQgcm93c1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnUm93IGluc2VydGVkOicgKyByZXN1bHRzLmFmZmVjdGVkUm93cyk7XG4gICAgLy8gICAgIC8vIHJldHVybiByZXN1bHRzO1xuICAgIC8vICAgfSk7XG4gICAgLy8gICBjb24uZW5kKClcbiAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICBcbn1cblxuY29uc3QgZ3JvdXBpbmdfYXJyYXkgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIGNvbnNvbGUubG9nKHBhcmFtKTtcbiAgICBsZXQge2Fycixncm91cCxzdW19ID0gcGFyYW07XG4gICAgaWYoYXJyICE9IG51bGwgJiYgdHlwZW9mIGFyciAhPSAndW5kZWZpbmVkJyAmJiBhcnIgIT0gJ3VuZGVmaW5lZCdcbiAgICAmJiBncm91cCAhPSBudWxsICYmIHR5cGVvZiBncm91cCAhPSAndW5kZWZpbmVkJyAmJiBncm91cCAhPSAndW5kZWZpbmVkJ1xuICAgICYmIHN1bSAhPSBudWxsICYmIHR5cGVvZiBzdW0gIT0gJ3VuZGVmaW5lZCcgJiYgc3VtICE9ICd1bmRlZmluZWQnXG4gICAgKXtcbiAgICAgICAgdmFyIGhlbHBlciA9IHt9O1xuICAgICAgICBsZXQga2V5ID0gJyc7XG4gICAgICAgIGxldCBhcnJheUxlbmd0aCA9IGdyb3VwLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGFyci5yZWR1Y2UoZnVuY3Rpb24ociwgbykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYoaSA9PSAwICkga2V5ICs9IG9bZ3JvdXBbaV1dO1xuICAgICAgICAgICAgICAgIGVsc2Uga2V5ICs9ICctJyArIG9bZ3JvdXBbaV1dO1xuICAgICAgICAgICAgICAgIC8vIGtleSA9IG8uc2hhcGUgICsgJy0nICsgby5jb2xvcjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL0RvIHNvbWV0aGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmKCFoZWxwZXJba2V5XSkge1xuICAgICAgICAgICAgaGVscGVyW2tleV0gPSBPYmplY3QuYXNzaWduKHt9LCBvKTsgLy8gY3JlYXRlIGEgY29weSBvZiBvXG4gICAgICAgICAgICByLnB1c2goaGVscGVyW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFycmxlbmd0aCA9IHN1bS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGFycmxlbmd0aDsgbysrKSB7XG4gICAgICAgICAgICAgICAgaGVscGVyW2tleV1bc3VtW29dXSArPSBvW3N1bVtpXV07XG4gICAgICAgICAgICAgICAgLy8ga2V5ID0gby5zaGFwZSAgKyAnLScgKyBvLmNvbG9yO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vRG8gc29tZXRoaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoZWxwZXJba2V5XS51c2VkICs9IG8udXNlZDtcbiAgICAgICAgICAgIC8vIGhlbHBlcltrZXldLmluc3RhbmNlcyArPSBvLmluc3RhbmNlcztcbiAgICAgICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gICAgfWVsc2UgcmV0dXJuIG51bGw7XG4gICAgXG59XG5cbmNvbnN0IGlzSnNvblBhcnNhYmxlID0gKHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIEpTT04ucGFyc2Uoc3RyaW5nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvZGF5KCkge1xuICAgIGxldCBkYXRlX3RvZGF5ID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1DQVwiKTtcbiAgICBsZXQgcmV0ID0ge1wiZGF0ZVwiOmRhdGVfdG9kYXl9O1xuICAgIHJldHVybiByZXQ7XG59IFxuXG5jb25zdCBnZXRFZG4gPSBhc3luYyAocGFyYW0gPSBudWxsKSA9PntcbiAgICAvLyBjb25zb2xlLmxvZyhwYXJhbSk7XG4gICAgbGV0IHtkYXRlX2Zyb20sZGF0ZV90b30gPSAgcGFyYW07XG4gICAgbGV0IGRhdGVfb2JfZnJvbTtsZXQgZGF0ZV9vYl90b1xuICAgIGlmKGRhdGVfZnJvbSA9PSBudWxsIHx8IHR5cGVvZiBkYXRlX2Zyb20gPT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZV9mcm9tID09ICd1bmRlZmluZWQnIHx8IGRhdGVfdG8gPT0gbnVsbCB8fCB0eXBlb2YgZGF0ZV90byA9PSAndW5kZWZpbmVkJyB8fCBkYXRlX3RvID09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgZGF0ZV9vYl90byA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGRhdGVfb2JfZnJvbSA9IG5ldyBEYXRlKGRhdGVfb2JfdG8uZ2V0RnVsbFllYXIoKSwgZGF0ZV9vYl90by5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0ZV9vYik7IFxuICAgIH1lbHNlIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBkYXRlUGFydHNmcm9tID0gZGF0ZV9mcm9tLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgZGF0ZV9vYl9mcm9tID0gbmV3IERhdGUoK2RhdGVQYXJ0c2Zyb21bMF0sIGRhdGVQYXJ0c2Zyb21bMV0gLSAxLCArZGF0ZVBhcnRzZnJvbVsyXSkgO1xuICAgIFxuICAgICAgICB2YXIgZGF0ZVBhcnRzdG8gPSBkYXRlX3RvLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgZGF0ZV9vYl90byA9IG5ldyBEYXRlKCtkYXRlUGFydHN0b1swXSwgZGF0ZVBhcnRzdG9bMV0gLSAxLCArZGF0ZVBhcnRzdG9bMl0pO1xuICAgIH1cbiAgICAvLyBhZGp1c3QgMCBiZWZvcmUgc2luZ2xlIGRpZ2l0IGRhdGVcbiAgICAvLyBsZXQgZGF0ZV9zdHJfZnJvbSA9IChcIjBcIiArIGRhdGVfb2JfZnJvbS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcblxuICAgIC8vIC8vIGN1cnJlbnQgbW9udGhcbiAgICAvLyBsZXQgbW9udGhfZnJvbSA9IChcIjBcIiArIChkYXRlX29iX2Zyb20uZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMik7XG5cbiAgICAvLyAvLyBjdXJyZW50IHllYXJcbiAgICAvLyBsZXQgeWVhcl9mcm9tID0gZGF0ZV9vYl9mcm9tLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBcbiAgICAvLyBsZXQgdGdsX2lzb19mcm9tID0geWVhcl9mcm9tK1wiLVwiK21vbnRoX2Zyb20rXCItXCIrZGF0ZV9zdHJfZnJvbTtcbiAgICBsZXQgZnJvbSA9IGF3YWl0IGdldF9kYXRlX3N0cmluZyhkYXRlX29iX2Zyb20pO1xuICAgIGxldCB0byA9IGF3YWl0IGdldF9kYXRlX3N0cmluZyhkYXRlX29iX3RvKTtcbiAgICBjb25zb2xlLmxvZyhcImZyb20gOlwiICtkYXRlX29iX2Zyb20pO2NvbnNvbGUubG9nKFwidG8gOlwiICtkYXRlX29iX3RvKTtcbiAgICBcbiAgICB0cnl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJhd19sYW1hX2tlYmFydWFuKTtcblxuICAgICAgICBcbiAgICAgICAgbGV0IGJhdGNoX29vcyA9IGF3YWl0IGdldF9zdG9jayh7XCJmcm9tXCI6ZnJvbSxcInRvXCI6dG99KTtcbiAgICAgICAgbGV0IHF1ZXJ5X2JhdGNoX29vcyA9IGF3YWl0IGNyZWF0ZUluc2VydFF1ZXJ5KFwiYmF0Y2hfdHJpZ2dlcl9vb3NcIixiYXRjaF9vb3MpO1xuICAgICAgICBsZXQgaW5zID0gYXdhaXQgaW5zZXJ0UXVlcnkocXVlcnlfYmF0Y2hfb29zKTtcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHF1ZXJ5X2JhdGNoX29vcyk7XG4gICAgICAgICBcbiAgICAgICAgICAgIC8vIGxldCByZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbZ2V0X2JhdGNoX2FjY291bnQoe1wiZnJvbVwiOmZyb20sXCJ0b1wiOnRvfSksZ2V0X2JhdGNoX2NoYW5uZWwoe1wiZnJvbVwiOmZyb20sXCJ0b1wiOnRvfSldKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgIFxuXG4gICAgICAgIC8vICBsZXQgZ3JvdXBfYWNjb3VudCA9IFtcImRhdGVcIixcInByb2R1Y3RcIixcImFjY291bnRcIixcImJyYW5jaFwiXTtcbiAgICAgICAgLy8gIGxldCBzdW1fYWNjb3VudCA9IFtcIm5pbGFpXCIsXCJ0b3RhbFwiXTtcbiAgICAgICAgXG4gICAgICAgIC8vICBsZXQgYmF0Y2hfb29zX2FjY291bnQgPSBhd2FpdCBncm91cGluZ19hcnJheSh7XCJhcnJcIjpiYXRjaF9vb3MsXCJncm91cFwiOmdyb3VwX2FjY291bnQsXCJzdW1cIjpzdW1fYWNjb3VudH0pO1xuICAgICAgICAvLyAgY29uc29sZS5sb2coYmF0Y2hfb29zX2FjY291bnQpO1xuICAgICAgICAvLyBiYXRjaF9vb3MgPSBudWxsXG4gICAgICAgIHJldHVybiBpbnM7XG4gICAgfVxuICAgIGNhdGNoKGUpe1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59XG5cbmNvbnN0IGdldF9kYXRlX3N0cmluZyA9IGFzeW5jIChkYXRlX29iX2Zyb20pPT57XG4gICAgXG4gICAgbGV0IGRhdGVfc3RyX2Zyb20gPSAoXCIwXCIgKyBkYXRlX29iX2Zyb20uZ2V0RGF0ZSgpKS5zbGljZSgtMik7XG5cbiAgICAvLyBjdXJyZW50IG1vbnRoXG4gICAgbGV0IG1vbnRoX2Zyb20gPSAoXCIwXCIgKyAoZGF0ZV9vYl9mcm9tLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpO1xuXG4gICAgLy8gY3VycmVudCB5ZWFyXG4gICAgbGV0IHllYXJfZnJvbSA9IGRhdGVfb2JfZnJvbS5nZXRGdWxsWWVhcigpO1xuXG4gICAgXG4gICAgbGV0IHRnbF9pc29fZnJvbSA9IHllYXJfZnJvbStcIi1cIittb250aF9mcm9tK1wiLVwiK2RhdGVfc3RyX2Zyb207XG4gICAgcmV0dXJuIHRnbF9pc29fZnJvbTtcbn1cblxuICBjb25zdCBjcmVhdGVJbnNlcnRRdWVyeSA9IGFzeW5jICh0YWJsZSxwYXJhbSk9PntcbiAgICB0cnl7XG4gICAgICAgIGxldCBjb2x1bW4gPSBPYmplY3Qua2V5cyhwYXJhbVswXSk7XG4gICAgbGV0IGxpc3RfY29sdW1uID0gJyc7XG4gICAgbGV0IGxpc3RfdmFsdWUgPSAnJztcbiAgICBcbiAgICBwYXJhbS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0saW5kZXgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gT2JqZWN0LnZhbHVlcyhpdGVtKTtcbiAgICAgICAgbGV0IGlzaSA9IHZhbHVlLmpvaW4oXCInLCdcIik7XG4gICAgICAgIGlmKGluZGV4ID09IDApXG4gICAgICAgIGxpc3RfdmFsdWUgKz0gYCgnJHtpc2l9JylgO1xuICAgICAgICBlbHNlIGxpc3RfdmFsdWUgKz0gYCwoJyR7aXNpfScpYDtcbiAgICB9KTtcbiAgICBcbiAgICBmb3IobGV0IGtleXMgaW4gY29sdW1uKXtcbiAgICAgICAgbGlzdF9jb2x1bW4gKz0gYCwke2NvbHVtbltrZXlzXX0gPSB2YWx1ZXMoJHtjb2x1bW5ba2V5c119KWA7XG4gICAgfVxuXG4gICAgbGlzdF9jb2x1bW4gPSBsaXN0X2NvbHVtbi5zbGljZSgxKTtcblxuICAgIGNvbnN0IHF1ZXJ5X2NvbCA9IGNvbHVtbi5qb2luKFwiLFwiKTsgXG4gICAgY29uc3Qgc3FsID0gXG4gICAgICAgIGBJTlNFUlQgSU5UTyAke3RhYmxlfSBcbiAgICAgICAgICAgICgke3F1ZXJ5X2NvbH0pIFZBTFVFUyBcbiAgICAgICAgICAgICR7bGlzdF92YWx1ZX1cbiAgICAgICAgICAgIG9uIGR1cGxpY2F0ZSBrZXkgdXBkYXRlIFxuICAgICAgICAgICAgJHtsaXN0X2NvbHVtbn1cbiAgICAgICAgYDtcbiAgICByZXR1cm4gc3FsO1xuICAgIH1jYXRjaChlKXtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIFxufVxuXG5jb25zdCBpbnNlcnRRdWVyeSA9IGFzeW5jIChwYXJhbSkgPT57XG4gICAgLy8gY29uc29sZS5sb2cocGFyYW0pO1xuICAgIGNvbnN0IGNvbiA9IG5ldyBkYigpO1xuXG4gICAgY29uc3QgciA9IGF3YWl0IGNvbi5ydW5fcXVlcnkocGFyYW0pO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpXG5cbiAgICByZXR1cm4gcjtcbn1cblxuY29uc3QgZ2V0X2JhdGNoX2FjY291bnQgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIGxldCB7ZnJvbSx0b30gPSBwYXJhbTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgXG4gICAgaW5zZXJ0IGludG8gYmF0Y2hfdHJpZ2dlcl9vb3NfYWNjb3VudCAoYnJhbmNoLCBhY2NvdW50LCBwcm9kdWN0LFxuICAgICAgICAgdmFsdWUsIHRvdGFsLCBkYXRlLCBsYXN0X3VwZGF0ZSwgbW9udGgseWVhciwgcm9sZSlcbiAgICAgICAgICAgU0VMRUNUIGJyYW5jaCxhY2NvdW50LHByb2R1Y3Qsc3VtKG5pbGFpKSB2YWx1ZSxcbiAgICAgICAgICAgc3VtKHRvdGFsKSB0b3RhbCwgZGF0ZSAsIG5vdygpIGxhc3RfdXBkYXRlLCBtb250aChkYXRlKSBtb250aCx5ZWFyKGRhdGUpIHllYXIscm9sZVxuICAgICAgICAgICBGUk9NIGJhdGNoX3RyaWdnZXJfb29zXG4gICAgICAgICAgIHdoZXJlIGRhdGUgPj0gJyR7ZnJvbX0nXG4gICAgICAgICAgIGFuZCBkYXRlIDw9ICcke3RvfSdcbiAgICAgICAgICAgZ3JvdXAgYnkgYnJhbmNoLGFjY291bnQscHJvZHVjdCxkYXRlLHJvbGUgXG4gICAgb24gZHVwbGljYXRlIGtleSB1cGRhdGUgdmFsdWUgPSB2YWx1ZSx0b3RhbCA9IHRvdGFsLGxhc3RfdXBkYXRlID0gbGFzdF91cGRhdGVgKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKTtcbiAgICByZXR1cm4gcjtcbn1cblxuY29uc3QgZ2V0X2JhdGNoX2NoYW5uZWwgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIGxldCB7ZnJvbSx0b30gPSBwYXJhbTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgXG4gICAgaW5zZXJ0IGludG8gYmF0Y2hfdHJpZ2dlcl9vb3NfY2hhbm5lbCAoYnJhbmNoLCBjaGFubmVsLCBwcm9kdWN0LFxuICAgICAgICAgdmFsdWUsIHRvdGFsLCBkYXRlLCBsYXN0X3VwZGF0ZSwgcm9sZSlcbiAgICAgICAgIFNFTEVDVCBicmFuY2gsY2hhbm5lbCxwcm9kdWN0LHN1bShuaWxhaSkgdmFsdWUsc3VtKHRvdGFsKSB0b3RhbCxkYXRlLG5vdygpIGxhc3RfdXBkYXRlLHJvbGUgIEZST00gYmF0Y2hfdHJpZ2dlcl9vb3NcbiAgICAgICAgIHdoZXJlIGRhdGUgPj0gJyR7ZnJvbX0nXG4gICAgICAgICBhbmQgZGF0ZSA8PSAnJHt0b30nXG4gICAgICAgICBncm91cCBieSBicmFuY2gsY2hhbm5lbCxwcm9kdWN0LGRhdGUscm9sZSBcbiAgICBvbiBkdXBsaWNhdGUga2V5IHVwZGF0ZSB2YWx1ZSA9IHZhbHVlLHRvdGFsID0gdG90YWwsbGFzdF91cGRhdGUgPSBsYXN0X3VwZGF0ZWApO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpO1xuICAgIHJldHVybiByO1xufVxuXG5jb25zdCBnZXRfc3RvY2sgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIGxldCB7ZnJvbSx0b30gPSBwYXJhbTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgXG4gICAgXG4gICAgc2VsZWN0IHN0LnJlZ2lvbl9pZCByZWdpb24sc2IudGVycml0b3J5X2lkIHRlcnJpdG9yeSxzYi5pZF9icmFuY2ggYnJhbmNoLCBzcy5jaGFubmVsX2lkIGNoYW5uZWwsIHNzLmlkX3N1YmNoYW5uZWwgc3ViY2hhbm5lbCxcbiAgICBzYS5pZF9hY2NvdW50IGFjY291bnQscnMucHJvZHVjdF9pZCBwcm9kdWN0LHBqdi5wcmluY2lwYWxfaWQgcHJpbmNpcGFsLHBqdi5wcm9kdWN0X2dyb3VwX2lkIHByb2R1Y3Rncm91cCxwanYuYnJhbmRfZ3JvdXBfaWQgYnJhbmRncm91cCxcbiAgICBwanYuc3ViYnJhbmRfaWQgc3ViYnJhbmQsIHBqdi5icmFuZF9pZCBicmFuZCxwanYuaXNfY29tcGV0aXRvciBpc19jb21wZXRpdG9yLHJzLm5pbGFpLHJzLnRvdGFsLFxuICAgIHJzLnRhbmdnYWxfbXVsYWkgZGF0ZSAscGp2Lm9vc19zb3NfcHJvZHVjdCBhcyBvb3Nfc29mX3Byb2R1Y3QseWVhcihycy50YW5nZ2FsX211bGFpKSB5ZWFyLG1vbnRoKHJzLnRhbmdnYWxfbXVsYWkpIG1vbnRoLCBcbiAgICBycy5yb2xlX2lkIHJvbGVcbiAgICBmcm9tXG4gICAgKHNlbGVjdCBycy50YW5nZ2FsX211bGFpLHMuYWNjb3VudF9pZCxzLmJyYW5jaF9pZCxycy5wcm9kdWN0X2lkLHVrLnJvbGVfaWQsc3VtKG5pbGFpKSBuaWxhaSxzdW0odG90YWwpIHRvdGFsIGZyb21cbiAgICAoU0VMRUNUIHYudGFuZ2dhbF9tdWxhaSx2LnN0b3JlX2lkLHYua2FyeWF3YW5faWQscnMucHJvZHVjdF9pZCxzdW0oaWYodmFsdWVfb29zID0gMSxjYXN0KDEgYXMgc2lnbmVkKSxjYXN0KDAgYXMgc2lnbmVkKSkpIGFzIG5pbGFpLGNvdW50KDApIGFzIHRvdGFsIEZST00gdmlzaXQgdlxuICAgIGpvaW4gcmVwb3J0X3N0b2NrIHJzIG9uIHYuaWRfdmlzaXQgPSBycy52aXNpdF9pZFxuICAgIHdoZXJlIHYudGFuZ2dhbF9tdWxhaSA+PSAnJHtmcm9tfScgXG4gICAgYW5kIHYudGFuZ2dhbF9tdWxhaSA8PSAnJHt0b30nXG4gICAgYW5kIHJzLnZhbHVlX29vcyAhPSAyXG4gICAgZ3JvdXAgYnkgdi50YW5nZ2FsX211bGFpLHYuc3RvcmVfaWQscnMucHJvZHVjdF9pZCx2Lmthcnlhd2FuX2lkKSByc1xuICAgIGpvaW4gc3RvcmUgcyBvbiBzLmlkX3N0b3JlID0gcnMuc3RvcmVfaWRcbiAgICBqb2luIHVzcl9rYXJ5YXdhbiB1ayBvbiBycy5rYXJ5YXdhbl9pZCA9IHVrLmlkX2thcnlhd2FuXG4gICAgZ3JvdXAgYnkgcnMucHJvZHVjdF9pZCxzLmJyYW5jaF9pZCxzLmFjY291bnRfaWQscnMudGFuZ2dhbF9tdWxhaSx1ay5yb2xlX2lkKSByc1xuICAgIGpvaW4gc3JfYnJhbmNoIHNiIG9uIHJzLmJyYW5jaF9pZCA9IHNiLmlkX2JyYW5jaFxuICAgIGpvaW4gc3JfdGVycml0b3J5IHN0IG9uIHNiLnRlcnJpdG9yeV9pZCA9IHN0LmlkX3RlcnJpdG9yeVxuICAgIGpvaW4gc2dfYWNjb3VudCBzYSBvbiBycy5hY2NvdW50X2lkID0gc2EuaWRfYWNjb3VudFxuICAgIGpvaW4gc2dfYWNjb3VudF9ncm91cCBzYWcgb24gc2EuYWNjb3VudF9ncm91cF9pZCA9IHNhZy5pZF9hY2NvdW50X2dyb3VwXG4gICAgam9pbiBzZ19zdWJjaGFubmVsIHNzIG9uIHNzLmlkX3N1YmNoYW5uZWwgPSBzYS5zdWJjaGFubmVsX2lkXG4gICAgam9pbiBwcm9kdWN0X2pvaW5fdmlldyBwanYgb24gcGp2LmlkX3Byb2R1Y3QgPSBycy5wcm9kdWN0X2lkIFxuICAgIFxuICAgIGApO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpO1xuICAgIHJldHVybiByO1xufVxuXG5leHBvcnQge1xuICAgIFxuICAgIGdldEVkblxuICAgIFxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "edn.js"
      ],
      "names": [
        "dotenv",
        "config",
        "create_query_log",
        "table",
        "param",
        "request",
        "OTF_date",
        "http_code",
        "response",
        "req",
        "parse_log",
        "JSON",
        "stringify",
        "console",
        "log",
        "resp",
        "is_resp_json",
        "isJsonParsable",
        "sql",
        "r",
        "insertQuery",
        "grouping_array",
        "arr",
        "group",
        "sum",
        "helper",
        "key",
        "arrayLength",
        "length",
        "result",
        "reduce",
        "o",
        "i",
        "Object",
        "assign",
        "push",
        "arrlength",
        "string",
        "parse",
        "e",
        "today",
        "date_today",
        "Date",
        "toLocaleDateString",
        "ret",
        "getEdn",
        "date_from",
        "date_to",
        "date_ob_from",
        "date_ob_to",
        "getFullYear",
        "getMonth",
        "datePartsfrom",
        "split",
        "datePartsto",
        "from",
        "get_date_string",
        "to",
        "batch_oos",
        "get_stock",
        "query_batch_oos",
        "createInsertQuery",
        "ins",
        "date_str_from",
        "getDate",
        "slice",
        "month_from",
        "year_from",
        "tgl_iso_from",
        "column",
        "keys",
        "list_column",
        "list_value",
        "forEach",
        "item",
        "index",
        "value",
        "values",
        "isi",
        "join",
        "query_col",
        "con",
        "db",
        "run_query",
        "end_connection",
        "get_batch_account",
        "get_batch_channel"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACAA,gBAAOC,MAAP;;AAEA,MAAMC,gBAAgB,GAAG,OAAOC,KAAP,EAAaC,KAAb,KAAuB;AAC5C,MAAI;AAACC,IAAAA,OAAD;AAASC,IAAAA,QAAT;AAAkBC,IAAAA,SAAlB;AAA4BC,IAAAA;AAA5B,MAAwCJ,KAA5C,CAD4C,CAE5C;AACA;AACA;AACA;AACA;AACA;;AACA,MAAIK,GAAG,GAAG,MAAMC,SAAS,CAACL,OAAD,CAAzB;AACAI,EAAAA,GAAG,GAAGE,IAAI,CAACC,SAAL,CAAeH,GAAf,CAAN;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAYL,GAAxB;AACA,MAAIM,IAAI,GAAG,MAAML,SAAS,CAACF,QAAD,CAA1B;AACAO,EAAAA,IAAI,GAAGJ,IAAI,CAACC,SAAL,CAAeG,IAAf,CAAP;AACA,MAAIC,YAAY,GAAGC,cAAc,CAACF,IAAD,CAAjC;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAaC,IAAzB;AACA,MAAIG,GAAG,GAAG,EAAV;AACA,MAAGF,YAAH,EACAE,GAAG,GAAI,eAAcf,KAAM,4EAA2EM,GAAI,MAAKH,QAAS,MAAKC,SAAU,MAAKQ,IAAK,QAAjJ,CADA,KAEKG,GAAG,GAAI,eAAcf,KAAM,4EAA2EM,GAAI,MAAKH,QAAS,MAAKC,SAAU,MAAKC,QAAS,QAArJ,CAlBuC,CAmB5C;;AACA,QAAMW,CAAC,GAAG,MAAMC,WAAW,CAACF,GAAD,CAA3B,CApB4C,CAqB5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,CAjCD;;AAmCA,MAAMG,cAAc,GAAG,MAAOjB,KAAP,IAAgB;AACnCS,EAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,MAAI;AAACkB,IAAAA,GAAD;AAAKC,IAAAA,KAAL;AAAWC,IAAAA;AAAX,MAAkBpB,KAAtB;;AACA,MAAGkB,GAAG,IAAI,IAAP,IAAe,OAAOA,GAAP,IAAc,WAA7B,IAA4CA,GAAG,IAAI,WAAnD,IACAC,KAAK,IAAI,IADT,IACiB,OAAOA,KAAP,IAAgB,WADjC,IACgDA,KAAK,IAAI,WADzD,IAEAC,GAAG,IAAI,IAFP,IAEe,OAAOA,GAAP,IAAc,WAF7B,IAE4CA,GAAG,IAAI,WAFtD,EAGC;AACG,QAAIC,MAAM,GAAG,EAAb;AACA,QAAIC,GAAG,GAAG,EAAV;AACA,QAAIC,WAAW,GAAGJ,KAAK,CAACK,MAAxB;AACA,QAAIC,MAAM,GAAGP,GAAG,CAACQ,MAAJ,CAAW,UAASX,CAAT,EAAYY,CAAZ,EAAe;AACnC,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,WAApB,EAAiCK,CAAC,EAAlC,EAAsC;AAClC,YAAGA,CAAC,IAAI,CAAR,EAAYN,GAAG,IAAIK,CAAC,CAACR,KAAK,CAACS,CAAD,CAAN,CAAR,CAAZ,KACKN,GAAG,IAAI,MAAMK,CAAC,CAACR,KAAK,CAACS,CAAD,CAAN,CAAd,CAF6B,CAGlC;AAEA;AACH;;AAGL,UAAG,CAACP,MAAM,CAACC,GAAD,CAAV,EAAiB;AACbD,QAAAA,MAAM,CAACC,GAAD,CAAN,GAAcO,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,CAAlB,CAAd,CADa,CACuB;;AACpCZ,QAAAA,CAAC,CAACgB,IAAF,CAAOV,MAAM,CAACC,GAAD,CAAb;AACH,OAHD,MAGO;AACH,YAAIU,SAAS,GAAGZ,GAAG,CAACI,MAApB;;AACA,aAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,SAApB,EAA+BL,CAAC,EAAhC,EAAoC;AAChCN,UAAAA,MAAM,CAACC,GAAD,CAAN,CAAYF,GAAG,CAACO,CAAD,CAAf,KAAuBA,CAAC,CAACP,GAAG,CAACQ,CAAD,CAAJ,CAAxB,CADgC,CAEhC;AAEA;AACH,SAPE,CAQH;AACA;;AACH;;AAEL,aAAOb,CAAP;AACC,KA1BgB,EA0Bd,EA1Bc,CAAb;AA2BJ,WAAOU,MAAP;AACC,GAnCD,MAmCM,OAAO,IAAP;AAET,CAxCD;;AA0CA,MAAMZ,cAAc,GAAIoB,MAAD,IAAY;AAC/B,MAAI;AACA1B,IAAAA,IAAI,CAAC2B,KAAL,CAAWD,MAAX;AACH,GAFD,CAEE,OAAOE,CAAP,EAAU;AACR,WAAO,KAAP;AACH;;AACD,SAAO,IAAP;AACH,CAPD;;AASA,SAASC,KAAT,GAAiB;AACb,MAAIC,UAAU,GAAG,IAAIC,IAAJ,GAAWC,kBAAX,CAA8B,OAA9B,CAAjB;AACA,MAAIC,GAAG,GAAG;AAAC,YAAOH;AAAR,GAAV;AACA,SAAOG,GAAP;AACH;;AAED,MAAMC,MAAM,GAAG,OAAOzC,KAAK,GAAG,IAAf,KAAuB;AAClC;AACA,MAAI;AAAC0C,IAAAA,SAAD;AAAWC,IAAAA;AAAX,MAAuB3C,KAA3B;AACA,MAAI4C,YAAJ;AAAiB,MAAIC,UAAJ;;AACjB,MAAGH,SAAS,IAAI,IAAb,IAAqB,OAAOA,SAAP,IAAoB,WAAzC,IAAwDA,SAAS,IAAI,WAArE,IAAoFC,OAAO,IAAI,IAA/F,IAAuG,OAAOA,OAAP,IAAkB,WAAzH,IAAwIA,OAAO,IAAI,WAAtJ,EAAkK;AAC9JE,IAAAA,UAAU,GAAG,IAAIP,IAAJ,EAAb;AACAM,IAAAA,YAAY,GAAG,IAAIN,IAAJ,CAASO,UAAU,CAACC,WAAX,EAAT,EAAmCD,UAAU,CAACE,QAAX,EAAnC,EAA0D,CAA1D,CAAf,CAF8J,CAG9J;AACH,GAJD,MAIM;AAEF,QAAIC,aAAa,GAAGN,SAAS,CAACO,KAAV,CAAgB,GAAhB,CAApB;AACAL,IAAAA,YAAY,GAAG,IAAIN,IAAJ,CAAS,CAACU,aAAa,CAAC,CAAD,CAAvB,EAA4BA,aAAa,CAAC,CAAD,CAAb,GAAmB,CAA/C,EAAkD,CAACA,aAAa,CAAC,CAAD,CAAhE,CAAf;AAEA,QAAIE,WAAW,GAAGP,OAAO,CAACM,KAAR,CAAc,GAAd,CAAlB;AACAJ,IAAAA,UAAU,GAAG,IAAIP,IAAJ,CAAS,CAACY,WAAW,CAAC,CAAD,CAArB,EAA0BA,WAAW,CAAC,CAAD,CAAX,GAAiB,CAA3C,EAA8C,CAACA,WAAW,CAAC,CAAD,CAA1D,CAAb;AACH,GAfiC,CAgBlC;AACA;AAEA;AACA;AAEA;AACA;AAGA;;;AACA,MAAIC,IAAI,GAAG,MAAMC,eAAe,CAACR,YAAD,CAAhC;AACA,MAAIS,EAAE,GAAG,MAAMD,eAAe,CAACP,UAAD,CAA9B;AACApC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAUkC,YAAtB;AAAoCnC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAQmC,UAApB;;AAEpC,MAAG;AACC;AAGA,QAAIS,SAAS,GAAG,MAAMC,SAAS,CAAC;AAAC,cAAOJ,IAAR;AAAa,YAAKE;AAAlB,KAAD,CAA/B;AACA,QAAIG,eAAe,GAAG,MAAMC,iBAAiB,CAAC,mBAAD,EAAqBH,SAArB,CAA7C;AACA,QAAII,GAAG,GAAG,MAAM1C,WAAW,CAACwC,eAAD,CAA3B,CAND,CAOC;AAEI;AACA;AAIJ;AACA;AAEA;AACA;AACA;;AACA,WAAOE,GAAP;AACH,GArBD,CAsBA,OAAMvB,CAAN,EAAQ;AAEJ1B,IAAAA,OAAO,CAACC,GAAR,CAAYyB,CAAZ;AACA,WAAOA,CAAP;AACH;AACJ,CA1DD;;;;AA4DA,MAAMiB,eAAe,GAAG,MAAOR,YAAP,IAAsB;AAE1C,MAAIe,aAAa,GAAG,CAAC,MAAMf,YAAY,CAACgB,OAAb,EAAP,EAA+BC,KAA/B,CAAqC,CAAC,CAAtC,CAApB,CAF0C,CAI1C;;AACA,MAAIC,UAAU,GAAG,CAAC,OAAOlB,YAAY,CAACG,QAAb,KAA0B,CAAjC,CAAD,EAAsCc,KAAtC,CAA4C,CAAC,CAA7C,CAAjB,CAL0C,CAO1C;;AACA,MAAIE,SAAS,GAAGnB,YAAY,CAACE,WAAb,EAAhB;AAGA,MAAIkB,YAAY,GAAGD,SAAS,GAAC,GAAV,GAAcD,UAAd,GAAyB,GAAzB,GAA6BH,aAAhD;AACA,SAAOK,YAAP;AACH,CAbD;;AAeE,MAAMP,iBAAiB,GAAG,OAAO1D,KAAP,EAAaC,KAAb,KAAqB;AAC7C,MAAG;AACC,QAAIiE,MAAM,GAAGpC,MAAM,CAACqC,IAAP,CAAYlE,KAAK,CAAC,CAAD,CAAjB,CAAb;AACJ,QAAImE,WAAW,GAAG,EAAlB;AACA,QAAIC,UAAU,GAAG,EAAjB;AAEApE,IAAAA,KAAK,CAACqE,OAAN,CAAc,UAASC,IAAT,EAAcC,KAAd,EAAqB;AAC/B,UAAIC,KAAK,GAAG3C,MAAM,CAAC4C,MAAP,CAAcH,IAAd,CAAZ;AACA,UAAII,GAAG,GAAGF,KAAK,CAACG,IAAN,CAAW,KAAX,CAAV;AACA,UAAGJ,KAAK,IAAI,CAAZ,EACAH,UAAU,IAAK,KAAIM,GAAI,IAAvB,CADA,KAEKN,UAAU,IAAK,MAAKM,GAAI,IAAxB;AACR,KAND;;AAQA,SAAI,IAAIR,IAAR,IAAgBD,MAAhB,EAAuB;AACnBE,MAAAA,WAAW,IAAK,IAAGF,MAAM,CAACC,IAAD,CAAO,aAAYD,MAAM,CAACC,IAAD,CAAO,GAAzD;AACH;;AAEDC,IAAAA,WAAW,GAAGA,WAAW,CAACN,KAAZ,CAAkB,CAAlB,CAAd;AAEA,UAAMe,SAAS,GAAGX,MAAM,CAACU,IAAP,CAAY,GAAZ,CAAlB;AACA,UAAM7D,GAAG,GACJ,eAAcf,KAAM;AAC7B,eAAe6E,SAAU;AACzB,cAAcR,UAAW;AACzB;AACA,cAAcD,WAAY;AAC1B,SANI;AAOA,WAAOrD,GAAP;AACC,GA5BD,CA4BC,OAAMqB,CAAN,EAAQ;AACL,WAAOA,CAAP;AACH;AAEJ,CAjCC;;AAmCF,MAAMnB,WAAW,GAAG,MAAOhB,KAAP,IAAgB;AAChC;AACA,QAAM6E,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AAEA,QAAM/D,CAAC,GAAG,MAAM8D,GAAG,CAACE,SAAJ,CAAc/E,KAAd,CAAhB;AACA6E,EAAAA,GAAG,CAACG,cAAJ;AAEA,SAAOjE,CAAP;AACH,CARD;;AAUA,MAAMkE,iBAAiB,GAAG,MAAOjF,KAAP,IAAgB;AACtC,MAAI;AAACmD,IAAAA,IAAD;AAAME,IAAAA;AAAN,MAAYrD,KAAhB;AACA,QAAM6E,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACA,QAAM/D,CAAC,GAAG,MAAM8D,GAAG,CAACE,SAAJ,CAAe;AACnC;AACA;AACA;AACA;AACA;AACA,4BAA4B5B,IAAK;AACjC,0BAA0BE,EAAG;AAC7B;AACA,kFAToB,CAAhB;AAUAwB,EAAAA,GAAG,CAACG,cAAJ;AACA,SAAOjE,CAAP;AACH,CAfD;;AAiBA,MAAMmE,iBAAiB,GAAG,MAAOlF,KAAP,IAAgB;AACtC,MAAI;AAACmD,IAAAA,IAAD;AAAME,IAAAA;AAAN,MAAYrD,KAAhB;AACA,QAAM6E,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACA,QAAM/D,CAAC,GAAG,MAAM8D,GAAG,CAACE,SAAJ,CAAe;AACnC;AACA;AACA;AACA,0BAA0B5B,IAAK;AAC/B,wBAAwBE,EAAG;AAC3B;AACA,kFAPoB,CAAhB;AAQAwB,EAAAA,GAAG,CAACG,cAAJ;AACA,SAAOjE,CAAP;AACH,CAbD;;AAeA,MAAMwC,SAAS,GAAG,MAAOvD,KAAP,IAAgB;AAC9B,MAAI;AAACmD,IAAAA,IAAD;AAAME,IAAAA;AAAN,MAAYrD,KAAhB;AACA,QAAM6E,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACA,QAAM/D,CAAC,GAAG,MAAM8D,GAAG,CAACE,SAAJ,CAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC5B,IAAK;AACrC,8BAA8BE,EAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzBoB,CAAhB;AA0BAwB,EAAAA,GAAG,CAACG,cAAJ;AACA,SAAOjE,CAAP;AACH,CA/BD",
      "sourceRoot": "/Volumes/data/mynode/bfast/src/controller/",
      "sourcesContent": [
        "import db from '../db/dbcon';\nimport axios from 'easy-soap-request';\nimport mysql from 'mysql';\nimport xml2js from 'xml2js';\nimport sqlstring from 'sqlstring';\nimport util from 'util';\nimport dotenv from 'dotenv';\nimport cluster from 'cluster';\nimport v8 from 'v8';\ndotenv.config();\n\nconst create_query_log = async (table,param) => {\n    let {request,OTF_date,http_code,response} = param;\n    // const con = mysql.createConnection({\n    //     host            : process.env.DB_DOMAIN,\n    //     user            : process.env.DB_USERNAME,\n    //     password        : process.env.DB_PASSWORD,\n    //     database        : process.env.DB_SCHEMA\n    // });\n    let req = await parse_log(request);\n    req = JSON.stringify(req);\n    console.log(\"request :\"+req);\n    let resp = await parse_log(response);\n    resp = JSON.stringify(resp);\n    let is_resp_json = isJsonParsable(resp);\n    console.log(\"response :\"+resp);\n    let sql = '';\n    if(is_resp_json)\n    sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;\n    else sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${response}',0,0)`;\n    // const data = [[request,OTF_date,http_code,response,0,0]];\n    const r = await insertQuery(sql)\n    // con.end_connection()\n    // con.query(sql, [data], (err, results, fields) => {\n    //     if (err) {\n    //       return console.error(err.message);\n    //     }\n    //     // get inserted rows\n    //     console.log('Row inserted:' + results.affectedRows);\n    //     // return results;\n    //   });\n    //   con.end()\n    // console.log(results);\n    \n}\n\nconst grouping_array = async (param) =>{\n    console.log(param);\n    let {arr,group,sum} = param;\n    if(arr != null && typeof arr != 'undefined' && arr != 'undefined'\n    && group != null && typeof group != 'undefined' && group != 'undefined'\n    && sum != null && typeof sum != 'undefined' && sum != 'undefined'\n    ){\n        var helper = {};\n        let key = '';\n        let arrayLength = group.length;\n        var result = arr.reduce(function(r, o) {\n            for (var i = 0; i < arrayLength; i++) {\n                if(i == 0 ) key += o[group[i]];\n                else key += '-' + o[group[i]];\n                // key = o.shape  + '-' + o.color;\n                \n                //Do something\n            }\n        \n        \n        if(!helper[key]) {\n            helper[key] = Object.assign({}, o); // create a copy of o\n            r.push(helper[key]);\n        } else {\n            let arrlength = sum.length;\n            for (var o = 0; o < arrlength; o++) {\n                helper[key][sum[o]] += o[sum[i]];\n                // key = o.shape  + '-' + o.color;\n                \n                //Do something\n            }\n            // helper[key].used += o.used;\n            // helper[key].instances += o.instances;\n        }\n\n    return r;\n    }, []);\n    return result;\n    }else return null;\n    \n}\n\nconst isJsonParsable = (string) => {\n    try {\n        JSON.parse(string);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\nfunction today() {\n    let date_today = new Date().toLocaleDateString(\"en-CA\");\n    let ret = {\"date\":date_today};\n    return ret;\n} \n\nconst getEdn = async (param = null) =>{\n    // console.log(param);\n    let {date_from,date_to} =  param;\n    let date_ob_from;let date_ob_to\n    if(date_from == null || typeof date_from == 'undefined' || date_from == 'undefined' || date_to == null || typeof date_to == 'undefined' || date_to == 'undefined'){\n        date_ob_to = new Date();\n        date_ob_from = new Date(date_ob_to.getFullYear(), date_ob_to.getMonth(), 1);\n        // console.log(date_ob); \n    }else {\n        \n        var datePartsfrom = date_from.split(\"-\");\n        date_ob_from = new Date(+datePartsfrom[0], datePartsfrom[1] - 1, +datePartsfrom[2]) ;\n    \n        var datePartsto = date_to.split(\"-\");\n        date_ob_to = new Date(+datePartsto[0], datePartsto[1] - 1, +datePartsto[2]);\n    }\n    // adjust 0 before single digit date\n    // let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2);\n\n    // // current month\n    // let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2);\n\n    // // current year\n    // let year_from = date_ob_from.getFullYear();\n\n    \n    // let tgl_iso_from = year_from+\"-\"+month_from+\"-\"+date_str_from;\n    let from = await get_date_string(date_ob_from);\n    let to = await get_date_string(date_ob_to);\n    console.log(\"from :\" +date_ob_from);console.log(\"to :\" +date_ob_to);\n    \n    try{\n        // console.log(raw_lama_kebaruan);\n\n        \n        let batch_oos = await get_stock({\"from\":from,\"to\":to});\n        let query_batch_oos = await createInsertQuery(\"batch_trigger_oos\",batch_oos);\n        let ins = await insertQuery(query_batch_oos);\n        //  console.log(query_batch_oos);\n         \n            // let res = await Promise.all([get_batch_account({\"from\":from,\"to\":to}),get_batch_channel({\"from\":from,\"to\":to})]);\n            // console.log(res);\n            \n         \n\n        //  let group_account = [\"date\",\"product\",\"account\",\"branch\"];\n        //  let sum_account = [\"nilai\",\"total\"];\n        \n        //  let batch_oos_account = await grouping_array({\"arr\":batch_oos,\"group\":group_account,\"sum\":sum_account});\n        //  console.log(batch_oos_account);\n        // batch_oos = null\n        return ins;\n    }\n    catch(e){\n\n        console.log(e);\n        return e;\n    }\n}\n\nconst get_date_string = async (date_ob_from)=>{\n    \n    let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2);\n\n    // current month\n    let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2);\n\n    // current year\n    let year_from = date_ob_from.getFullYear();\n\n    \n    let tgl_iso_from = year_from+\"-\"+month_from+\"-\"+date_str_from;\n    return tgl_iso_from;\n}\n\n  const createInsertQuery = async (table,param)=>{\n    try{\n        let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    \n    param.forEach(function(item,index) {\n        let value = Object.values(item);\n        let isi = value.join(\"','\");\n        if(index == 0)\n        list_value += `('${isi}')`;\n        else list_value += `,('${isi}')`;\n    });\n    \n    for(let keys in column){\n        list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n\n    const query_col = column.join(\",\"); \n    const sql = \n        `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n    }catch(e){\n        return e;\n    }\n    \n}\n\nconst insertQuery = async (param) =>{\n    // console.log(param);\n    const con = new db();\n\n    const r = await con.run_query(param);\n    con.end_connection()\n\n    return r;\n}\n\nconst get_batch_account = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    insert into batch_trigger_oos_account (branch, account, product,\n         value, total, date, last_update, month,year, role)\n           SELECT branch,account,product,sum(nilai) value,\n           sum(total) total, date , now() last_update, month(date) month,year(date) year,role\n           FROM batch_trigger_oos\n           where date >= '${from}'\n           and date <= '${to}'\n           group by branch,account,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n    con.end_connection();\n    return r;\n}\n\nconst get_batch_channel = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    insert into batch_trigger_oos_channel (branch, channel, product,\n         value, total, date, last_update, role)\n         SELECT branch,channel,product,sum(nilai) value,sum(total) total,date,now() last_update,role  FROM batch_trigger_oos\n         where date >= '${from}'\n         and date <= '${to}'\n         group by branch,channel,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n    con.end_connection();\n    return r;\n}\n\nconst get_stock = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    \n    select st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel, ss.id_subchannel subchannel,\n    sa.id_account account,rs.product_id product,pjv.principal_id principal,pjv.product_group_id productgroup,pjv.brand_group_id brandgroup,\n    pjv.subbrand_id subbrand, pjv.brand_id brand,pjv.is_competitor is_competitor,rs.nilai,rs.total,\n    rs.tanggal_mulai date ,pjv.oos_sos_product as oos_sof_product,year(rs.tanggal_mulai) year,month(rs.tanggal_mulai) month, \n    rs.role_id role\n    from\n    (select rs.tanggal_mulai,s.account_id,s.branch_id,rs.product_id,uk.role_id,sum(nilai) nilai,sum(total) total from\n    (SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,sum(if(value_oos = 1,cast(1 as signed),cast(0 as signed))) as nilai,count(0) as total FROM visit v\n    join report_stock rs on v.id_visit = rs.visit_id\n    where v.tanggal_mulai >= '${from}' \n    and v.tanggal_mulai <= '${to}'\n    and rs.value_oos != 2\n    group by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\n    join store s on s.id_store = rs.store_id\n    join usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\n    group by rs.product_id,s.branch_id,s.account_id,rs.tanggal_mulai,uk.role_id) rs\n    join sr_branch sb on rs.branch_id = sb.id_branch\n    join sr_territory st on sb.territory_id = st.id_territory\n    join sg_account sa on rs.account_id = sa.id_account\n    join sg_account_group sag on sa.account_group_id = sag.id_account_group\n    join sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\n    join product_join_view pjv on pjv.id_product = rs.product_id \n    \n    `);\n    con.end_connection();\n    return r;\n}\n\nexport {\n    \n    getEdn\n    \n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1609709425483
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/src/db/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/src/db/dbcon.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/src/db/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/src/db/dbcon.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/src/db/dbcon.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/src/db/dbcon.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/src/db/",
        "sourceFileName": "dbcon.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n_dotenv.default.config();\n\nclass _default {\n  constructor(nama) {\n    _defineProperty(this, \"run_query\", async query => {\n      const rq_prom = _util.default.promisify(this.connection.query).bind(this.connection);\n\n      const r = await rq_prom(query);\n      return r;\n    });\n\n    _defineProperty(this, \"end_connection\", _ => {\n      try {\n        this.connection.end(err => {\n          console.log('connection ended');\n        });\n      } catch (e) {\n        this.connection.destroy();\n      }\n    });\n\n    this.connection = _mysql.default.createConnection({\n      host: process.env.DB_DOMAIN,\n      user: process.env.DB_USERNAME,\n      password: process.env.DB_PASSWORD,\n      database: process.env.DB_SCHEMA,\n      port: 3306,\n      dateStrings: 'date'\n    });\n  }\n\n}\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiY29uLmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImNvbnN0cnVjdG9yIiwibmFtYSIsInF1ZXJ5IiwicnFfcHJvbSIsInV0aWwiLCJwcm9taXNpZnkiLCJjb25uZWN0aW9uIiwiYmluZCIsInIiLCJfIiwiZW5kIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImUiLCJkZXN0cm95IiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9ET01BSU4iLCJ1c2VyIiwiREJfVVNFUk5BTUUiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJEQl9TQ0hFTUEiLCJwb3J0IiwiZGF0ZVN0cmluZ3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBQ0FBLGdCQUFPQyxNQUFQOztBQUVlLGVBQUs7QUFDaEJDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFNO0FBQUEsdUNBWUwsTUFBT0MsS0FBUCxJQUFpQjtBQUN6QixZQUFNQyxPQUFPLEdBQUdDLGNBQUtDLFNBQUwsQ0FBZSxLQUFLQyxVQUFMLENBQWdCSixLQUEvQixFQUFzQ0ssSUFBdEMsQ0FBMkMsS0FBS0QsVUFBaEQsQ0FBaEI7O0FBRUEsWUFBTUUsQ0FBQyxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0QsS0FBRCxDQUF2QjtBQUVBLGFBQU9NLENBQVA7QUFDSCxLQWxCZ0I7O0FBQUEsNENBb0JBQyxDQUFDLElBQUk7QUFDbEIsVUFBRztBQUNDLGFBQUtILFVBQUwsQ0FBZ0JJLEdBQWhCLENBQXFCQyxHQUFELElBQVM7QUFDekJDLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaO0FBQ0gsU0FGRDtBQUdILE9BSkQsQ0FLQSxPQUFPQyxDQUFQLEVBQVU7QUFDTixhQUFLUixVQUFMLENBQWdCUyxPQUFoQjtBQUNIO0FBRUosS0E5QmdCOztBQUViLFNBQUtULFVBQUwsR0FBa0JVLGVBQU1DLGdCQUFOLENBQXVCO0FBQ3JDQyxNQUFBQSxJQUFJLEVBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQURPO0FBRXJDQyxNQUFBQSxJQUFJLEVBQWNILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxXQUZPO0FBR3JDQyxNQUFBQSxRQUFRLEVBQVVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxXQUhPO0FBSXJDQyxNQUFBQSxRQUFRLEVBQVVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxTQUpPO0FBS3JDQyxNQUFBQSxJQUFJLEVBQWMsSUFMbUI7QUFNckNDLE1BQUFBLFdBQVcsRUFBRTtBQU53QixLQUF2QixDQUFsQjtBQVFIOztBQVhlIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3NyYy9kYi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwnXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgdXRpbCBmcm9tICd1dGlsJztcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3N7XG4gICAgY29uc3RydWN0b3IobmFtYSl7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgICAgICAgICAgIGhvc3QgICAgICAgICAgICA6IHByb2Nlc3MuZW52LkRCX0RPTUFJTixcbiAgICAgICAgICAgIHVzZXIgICAgICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxuICAgICAgICAgICAgcGFzc3dvcmQgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgICAgICAgICBkYXRhYmFzZSAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9TQ0hFTUEsXG4gICAgICAgICAgICBwb3J0ICAgICAgICAgICAgOiAzMzA2LFxuICAgICAgICAgICAgZGF0ZVN0cmluZ3M6ICdkYXRlJ1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJ1bl9xdWVyeSA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICBjb25zdCBycV9wcm9tID0gdXRpbC5wcm9taXNpZnkodGhpcy5jb25uZWN0aW9uLnF1ZXJ5KS5iaW5kKHRoaXMuY29ubmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHJxX3Byb20ocXVlcnkpO1xuXG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGVuZF9jb25uZWN0aW9uID0gXyA9PiB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIGVuZGVkJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "dbcon.js"
      ],
      "names": [
        "dotenv",
        "config",
        "constructor",
        "nama",
        "query",
        "rq_prom",
        "util",
        "promisify",
        "connection",
        "bind",
        "r",
        "_",
        "end",
        "err",
        "console",
        "log",
        "e",
        "destroy",
        "mysql",
        "createConnection",
        "host",
        "process",
        "env",
        "DB_DOMAIN",
        "user",
        "DB_USERNAME",
        "password",
        "DB_PASSWORD",
        "database",
        "DB_SCHEMA",
        "port",
        "dateStrings"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AACAA,gBAAOC,MAAP;;AAEe,eAAK;AAChBC,EAAAA,WAAW,CAACC,IAAD,EAAM;AAAA,uCAYL,MAAOC,KAAP,IAAiB;AACzB,YAAMC,OAAO,GAAGC,cAAKC,SAAL,CAAe,KAAKC,UAAL,CAAgBJ,KAA/B,EAAsCK,IAAtC,CAA2C,KAAKD,UAAhD,CAAhB;;AAEA,YAAME,CAAC,GAAG,MAAML,OAAO,CAACD,KAAD,CAAvB;AAEA,aAAOM,CAAP;AACH,KAlBgB;;AAAA,4CAoBAC,CAAC,IAAI;AAClB,UAAG;AACC,aAAKH,UAAL,CAAgBI,GAAhB,CAAqBC,GAAD,IAAS;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH,SAFD;AAGH,OAJD,CAKA,OAAOC,CAAP,EAAU;AACN,aAAKR,UAAL,CAAgBS,OAAhB;AACH;AAEJ,KA9BgB;;AAEb,SAAKT,UAAL,GAAkBU,eAAMC,gBAAN,CAAuB;AACrCC,MAAAA,IAAI,EAAcC,OAAO,CAACC,GAAR,CAAYC,SADO;AAErCC,MAAAA,IAAI,EAAcH,OAAO,CAACC,GAAR,CAAYG,WAFO;AAGrCC,MAAAA,QAAQ,EAAUL,OAAO,CAACC,GAAR,CAAYK,WAHO;AAIrCC,MAAAA,QAAQ,EAAUP,OAAO,CAACC,GAAR,CAAYO,SAJO;AAKrCC,MAAAA,IAAI,EAAc,IALmB;AAMrCC,MAAAA,WAAW,EAAE;AANwB,KAAvB,CAAlB;AAQH;;AAXe",
      "sourceRoot": "/Volumes/data/mynode/bfast/src/db/",
      "sourcesContent": [
        "import mysql from 'mysql'\nimport dotenv from 'dotenv';\nimport util from 'util';\ndotenv.config();\n\nexport default class{\n    constructor(nama){\n        \n        this.connection = mysql.createConnection({\n            host            : process.env.DB_DOMAIN,\n            user            : process.env.DB_USERNAME,\n            password        : process.env.DB_PASSWORD,\n            database        : process.env.DB_SCHEMA,\n            port            : 3306,\n            dateStrings: 'date'\n        })\n    }\n\n    run_query = async (query) => {\n        const rq_prom = util.promisify(this.connection.query).bind(this.connection);\n\n        const r = await rq_prom(query);\n\n        return r;\n    }\n\n    end_connection = _ => {\n        try{\n            this.connection.end((err) => {\n                console.log('connection ended');\n            })\n        }\n        catch (e) {\n            this.connection.destroy();\n        }\n\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1609707094149
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/routes/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/routes/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/routes/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n/* GET home page. */\n\nrouter.get('/', function (req, res, next) {\n  res.render('index', {\n    title: 'Express'\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInJlbmRlciIsInRpdGxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWI7QUFFQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3ZDRCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyxPQUFYLEVBQW9CO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQXBCO0FBQ0QsQ0FGRDtBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vKiBHRVQgaG9tZSBwYWdlLiAqL1xucm91dGVyLmdldCgnLycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHJlcy5yZW5kZXIoJ2luZGV4JywgeyB0aXRsZTogJ0V4cHJlc3MnIH0pO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "req",
        "res",
        "next",
        "render",
        "title",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;AAEA;;AACAD,MAAM,CAACE,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,OAAX,EAAoB;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAApB;AACD,CAFD;AAIAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express' });\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1605774148830
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/routes/users.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/routes/users.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/routes/users.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/routes/users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
        "sourceFileName": "users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar express = require('express');\n\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn');\n/* GET users listing. */\n\n\nrouter.get('/', function (req, res, next) {\n  res.send('respond with a resource');\n});\nrouter.post('/tes_res', function (req, res, next) {\n  tcontr.tarik_tes().then(v => {\n    res.send(v);\n  });\n});\nrouter.post('/batch', function (req, res, next) {\n  // console.log(req.body.from);\n  tcontr.getEdn({\n    date_from: `${req.body.from}`,\n    date_to: `${req.body.to}`\n  }).then(v => {\n    res.send(v);\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwidGNvbnRyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsInNlbmQiLCJwb3N0IiwidGFyaWtfdGVzIiwidGhlbiIsInYiLCJnZXRFZG4iLCJkYXRlX2Zyb20iLCJib2R5IiwiZnJvbSIsImRhdGVfdG8iLCJ0byIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUVBLElBQUlDLE1BQU0sR0FBR0gsT0FBTyxDQUFDLHVCQUFELENBQXBCO0FBRUE7OztBQUNBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDdkNELEVBQUFBLEdBQUcsQ0FBQ0UsSUFBSixDQUFTLHlCQUFUO0FBQ0QsQ0FGRDtBQUlBUCxNQUFNLENBQUNRLElBQVAsQ0FBWSxVQUFaLEVBQXdCLFVBQVNKLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDOUNKLEVBQUFBLE1BQU0sQ0FBQ08sU0FBUCxHQUFtQkMsSUFBbkIsQ0FBeUJDLENBQUQsSUFBTztBQUM3Qk4sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNJLENBQVQ7QUFDRCxHQUZEO0FBR0QsQ0FKRDtBQU1BWCxNQUFNLENBQUNRLElBQVAsQ0FBWSxRQUFaLEVBQXNCLFVBQVNKLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBd0I7QUFDNUM7QUFDQUosRUFBQUEsTUFBTSxDQUFDVSxNQUFQLENBQWM7QUFBQ0MsSUFBQUEsU0FBUyxFQUFJLEdBQUVULEdBQUcsQ0FBQ1UsSUFBSixDQUFTQyxJQUFLLEVBQTlCO0FBQWdDQyxJQUFBQSxPQUFPLEVBQUksR0FBRVosR0FBRyxDQUFDVSxJQUFKLENBQVNHLEVBQUc7QUFBekQsR0FBZCxFQUEyRVAsSUFBM0UsQ0FBaUZDLENBQUQsSUFBTztBQUNyRk4sSUFBQUEsR0FBRyxDQUFDRSxJQUFKLENBQVNJLENBQVQ7QUFDRCxHQUZEO0FBR0QsQ0FMRDtBQU9BTyxNQUFNLENBQUNDLE9BQVAsR0FBaUJuQixNQUFqQiIsInNvdXJjZVJvb3QiOiIvVm9sdW1lcy9kYXRhL215bm9kZS9iZmFzdC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxudmFyIHRjb250ciA9IHJlcXVpcmUoJy4uL3NyYy9jb250cm9sbGVyL2VkbicpXG5cbi8qIEdFVCB1c2VycyBsaXN0aW5nLiAqL1xucm91dGVyLmdldCgnLycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHJlcy5zZW5kKCdyZXNwb25kIHdpdGggYSByZXNvdXJjZScpO1xufSk7XG5cbnJvdXRlci5wb3N0KCcvdGVzX3JlcycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KXtcbiAgdGNvbnRyLnRhcmlrX3RlcygpLnRoZW4oKHYpID0+IHtcbiAgICByZXMuc2VuZCh2KVxuICB9KVxufSk7XG5cbnJvdXRlci5wb3N0KCcvYmF0Y2gnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7XG4gIC8vIGNvbnNvbGUubG9nKHJlcS5ib2R5LmZyb20pO1xuICB0Y29udHIuZ2V0RWRuKHtkYXRlX2Zyb20gOiBgJHtyZXEuYm9keS5mcm9tfWAsZGF0ZV90byA6IGAke3JlcS5ib2R5LnRvfWB9KS50aGVuKCh2KSA9PiB7XG4gICAgcmVzLnNlbmQodilcbiAgfSlcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "tcontr",
        "get",
        "req",
        "res",
        "next",
        "send",
        "post",
        "tarik_tes",
        "then",
        "v",
        "getEdn",
        "date_from",
        "body",
        "from",
        "date_to",
        "to",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AAEA,IAAIC,MAAM,GAAGH,OAAO,CAAC,uBAAD,CAApB;AAEA;;;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,IAAJ,CAAS,yBAAT;AACD,CAFD;AAIAP,MAAM,CAACQ,IAAP,CAAY,UAAZ,EAAwB,UAASJ,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC9CJ,EAAAA,MAAM,CAACO,SAAP,GAAmBC,IAAnB,CAAyBC,CAAD,IAAO;AAC7BN,IAAAA,GAAG,CAACE,IAAJ,CAASI,CAAT;AACD,GAFD;AAGD,CAJD;AAMAX,MAAM,CAACQ,IAAP,CAAY,QAAZ,EAAsB,UAASJ,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAwB;AAC5C;AACAJ,EAAAA,MAAM,CAACU,MAAP,CAAc;AAACC,IAAAA,SAAS,EAAI,GAAET,GAAG,CAACU,IAAJ,CAASC,IAAK,EAA9B;AAAgCC,IAAAA,OAAO,EAAI,GAAEZ,GAAG,CAACU,IAAJ,CAASG,EAAG;AAAzD,GAAd,EAA2EP,IAA3E,CAAiFC,CAAD,IAAO;AACrFN,IAAAA,GAAG,CAACE,IAAJ,CAASI,CAAT;AACD,GAFD;AAGD,CALD;AAOAO,MAAM,CAACC,OAAP,GAAiBnB,MAAjB",
      "sourceRoot": "/Volumes/data/mynode/bfast/routes/",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\nvar tcontr = require('../src/controller/edn')\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n  res.send('respond with a resource');\n});\n\nrouter.post('/tes_res', function(req, res, next){\n  tcontr.tarik_tes().then((v) => {\n    res.send(v)\n  })\n});\n\nrouter.post('/batch', function(req, res, next){\n  // console.log(req.body.from);\n  tcontr.getEdn({date_from : `${req.body.from}`,date_to : `${req.body.to}`}).then((v) => {\n    res.send(v)\n  })\n});\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609709472072
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/src/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/src/controller/edn.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/src/controller/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/src/controller/edn.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/src/controller/edn.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/src/controller/edn.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/src/controller/",
        "sourceFileName": "edn.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEdn = void 0;\n\nvar _dbcon = _interopRequireDefault(require(\"../db/dbcon\"));\n\nvar _easySoapRequest = _interopRequireDefault(require(\"easy-soap-request\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _xml2js = _interopRequireDefault(require(\"xml2js\"));\n\nvar _sqlstring = _interopRequireDefault(require(\"sqlstring\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _cluster = _interopRequireDefault(require(\"cluster\"));\n\nvar _v = _interopRequireDefault(require(\"v8\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst create_query_log = async (table, param) => {\n  let {\n    request,\n    OTF_date,\n    http_code,\n    response\n  } = param; // const con = mysql.createConnection({\n  //     host            : process.env.DB_DOMAIN,\n  //     user            : process.env.DB_USERNAME,\n  //     password        : process.env.DB_PASSWORD,\n  //     database        : process.env.DB_SCHEMA\n  // });\n\n  let req = await parse_log(request);\n  req = JSON.stringify(req);\n  console.log(\"request :\" + req);\n  let resp = await parse_log(response);\n  resp = JSON.stringify(resp);\n  let is_resp_json = isJsonParsable(resp);\n  console.log(\"response :\" + resp);\n  let sql = '';\n  if (is_resp_json) sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;else sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${response}',0,0)`; // const data = [[request,OTF_date,http_code,response,0,0]];\n\n  const r = await insertQuery(sql); // con.end_connection()\n  // con.query(sql, [data], (err, results, fields) => {\n  //     if (err) {\n  //       return console.error(err.message);\n  //     }\n  //     // get inserted rows\n  //     console.log('Row inserted:' + results.affectedRows);\n  //     // return results;\n  //   });\n  //   con.end()\n  // console.log(results);\n};\n\nconst grouping_array = async param => {\n  console.log(param);\n  let {\n    arr,\n    group,\n    sum\n  } = param;\n\n  if (arr != null && typeof arr != 'undefined' && arr != 'undefined' && group != null && typeof group != 'undefined' && group != 'undefined' && sum != null && typeof sum != 'undefined' && sum != 'undefined') {\n    var helper = {};\n    let key = '';\n    let arrayLength = group.length;\n    var result = arr.reduce(function (r, o) {\n      for (var i = 0; i < arrayLength; i++) {\n        if (i == 0) key += o[group[i]];else key += '-' + o[group[i]]; // key = o.shape  + '-' + o.color;\n        //Do something\n      }\n\n      if (!helper[key]) {\n        helper[key] = Object.assign({}, o); // create a copy of o\n\n        r.push(helper[key]);\n      } else {\n        let arrlength = sum.length;\n\n        for (var o = 0; o < arrlength; o++) {\n          helper[key][sum[o]] += o[sum[i]]; // key = o.shape  + '-' + o.color;\n          //Do something\n        } // helper[key].used += o.used;\n        // helper[key].instances += o.instances;\n\n      }\n\n      return r;\n    }, []);\n    return result;\n  } else return null;\n};\n\nconst isJsonParsable = string => {\n  try {\n    JSON.parse(string);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nfunction today() {\n  let date_today = new Date().toLocaleDateString(\"en-CA\");\n  let ret = {\n    \"date\": date_today\n  };\n  return ret;\n}\n\nconst getEdn = async (param = null) => {\n  // console.log(param);\n  let {\n    date_from,\n    date_to\n  } = param;\n  let date_ob_from;\n  let date_ob_to;\n\n  if (date_from == null || typeof date_from == 'undefined' || date_from == 'undefined' || date_to == null || typeof date_to == 'undefined' || date_to == 'undefined') {\n    date_ob_to = new Date();\n    date_ob_from = new Date(date_ob_to.getFullYear(), date_ob_to.getMonth(), 1); // console.log(date_ob); \n  } else {\n    var datePartsfrom = date_from.split(\"-\");\n    date_ob_from = new Date(+datePartsfrom[0], datePartsfrom[1] - 1, +datePartsfrom[2]);\n    var datePartsto = date_to.split(\"-\");\n    date_ob_to = new Date(+datePartsto[0], datePartsto[1] - 1, +datePartsto[2]);\n  } // adjust 0 before single digit date\n  // let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2);\n  // // current month\n  // let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2);\n  // // current year\n  // let year_from = date_ob_from.getFullYear();\n  // let tgl_iso_from = year_from+\"-\"+month_from+\"-\"+date_str_from;\n\n\n  let from = await get_date_string(date_ob_from);\n  let to = await get_date_string(date_ob_to);\n  console.log(\"from :\" + date_ob_from);\n  console.log(\"to :\" + date_ob_to);\n\n  try {\n    // console.log(raw_lama_kebaruan);\n    let batch_oos = await Promise.all([get_stock({\n      \"from\": from,\n      \"to\": to\n    }), get_batch_total_store_oos({\n      \"from\": from,\n      \"to\": to\n    }), batch_sof({\n      \"from\": from,\n      \"to\": to\n    })]); // let query_batch_oos = await createInsertQuery(\"batch_trigger_oos\",batch_oos);\n    // let ins = await insertQuery(query_batch_oos);\n    //  console.log(query_batch_oos);\n\n    let res = await Promise.all([get_batch_account({\n      \"from\": from,\n      \"to\": to\n    }), get_batch_channel({\n      \"from\": from,\n      \"to\": to\n    }), batch_sof_monthly({\n      \"from\": from,\n      \"to\": to\n    })]); // console.log(res);\n    //  let group_account = [\"date\",\"product\",\"account\",\"branch\"];\n    //  let sum_account = [\"nilai\",\"total\"];\n    //  let batch_oos_account = await grouping_array({\"arr\":batch_oos,\"group\":group_account,\"sum\":sum_account});\n    //  console.log(batch_oos_account);\n    // batch_oos = null\n\n    return res;\n  } catch (e) {\n    console.log(e);\n    return e;\n  }\n};\n\nexports.getEdn = getEdn;\n\nconst get_date_string = async from => {\n  let date_ob_from = new Date(from);\n  let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2); // current month\n\n  let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2); // current year\n\n  let year_from = date_ob_from.getFullYear();\n  let tgl_iso_from = year_from + \"-\" + month_from + \"-\" + date_str_from;\n  return tgl_iso_from;\n};\n\nconst createInsertQuery = async (table, param) => {\n  try {\n    let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    param.forEach(function (item, index) {\n      let value = Object.values(item);\n      let isi = value.join(\"','\");\n      if (index == 0) list_value += `('${isi}')`;else list_value += `,('${isi}')`;\n    });\n\n    for (let keys in column) {\n      list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n    const query_col = column.join(\",\");\n    const sql = `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n  } catch (e) {\n    return e;\n  }\n};\n\nconst insertQuery = async param => {\n  // console.log(param);\n  const con = new _dbcon.default();\n  const r = await con.run_query(param);\n  con.end_connection();\n  return r;\n};\n\nconst get_batch_account = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    insert into batch_trigger_oos_account (branch, account, product,\n         value, total, date, last_update, month,year, role)\n           SELECT branch,account,product,sum(nilai) value,\n           sum(total) total, date , now() last_update, month(date) month,year(date) year,role\n           FROM batch_trigger_oos\n           where date >= '${from}'\n           and date <= '${to}'\n           group by branch,account,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n  con.end_connection();\n  return r;\n};\n\nconst get_batch_oos_monthly = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    insert into batch_trigger_oos_monthly_dashboard (region, territory,\n         branch, channel, account, role, nilai, total, year, month,\n          last_update, oos_sof_product)\n         SELECT region,territory,branch,channel,account,role,sum(nilai) nilai,sum(total) total\n         ,year(date) year,month(date) month,now() last_update,oos_sof_product  \n         FROM batch_trigger_oos\n         where date >= '${from}'\n         and date <= '${to}'\n         group by branch,account,year(date),month(date),role \n    on duplicate key update value = nilai,total = total,last_update = last_update, oos_sof_product = oos_sof_product`);\n  con.end_connection();\n  return r;\n};\n\nconst get_batch_channel = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    insert into batch_trigger_oos_channel (branch, channel, product,\n         value, total, date, last_update, role)\n         SELECT branch,channel,product,sum(nilai) value,sum(total) total,date,now() last_update,role  FROM batch_trigger_oos\n         where date >= '${from}'\n         and date <= '${to}'\n         group by branch,channel,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n  con.end_connection();\n  return r;\n};\n\nconst get_batch_total_store_oos = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    insert into batch_trigger_total_store_oos(total, region, territory, branch, channel, subchannel, account_group, account, brand, subbrand, brand_group, product_group, product, store, date, last_update, role)\n\nselect rs.total,st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel,ss.id_subchannel subchannel,\nsag.id_account_group account_group,\nsa.id_account account,\n pjv.brand_id brand,pjv.subbrand_id subbrand,pjv.brand_group_id brand_group,pjv.product_group_id product_group,pjv.id_product product,\nrs.store_id,rs.tanggal_mulai date, now() last_update, \nrs.role_id role\nfrom\n(select rs.tanggal_mulai,rs.store_id,rs.product_id,uk.role_id,sum(total) total from\n(SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,count(store_id) as total FROM visit v\njoin report_stock rs on v.id_visit = rs.visit_id\nwhere v.tanggal_mulai >= '${from}' \nand v.tanggal_mulai <= '${to}'\nand rs.value_oos != 2\ngroup by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\njoin store s on s.id_store = rs.store_id\njoin usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\ngroup by rs.product_id,rs.store_id,rs.tanggal_mulai,uk.role_id) rs\njoin store s on s.id_store = rs.store_id\njoin sr_branch sb on s.branch_id = sb.id_branch\njoin sr_territory st on sb.territory_id = st.id_territory\njoin sg_account sa on s.account_id = sa.id_account\njoin sg_account_group sag on sa.account_group_id = sag.id_account_group\njoin sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\njoin product_join_view pjv on pjv.id_product = rs.product_id\nwhere pjv.is_competitor = 0\non duplicate key update total = rs.total\n    `);\n  con.end_connection();\n  return r;\n};\n\nconst get_stock = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n    INSERT INTO batch_trigger_oos \n            (region,territory,branch,channel,subchannel,account,product,principal,productgroup,brandgroup,subbrand,brand,is_competitor,nilai,total,date,oos_sof_product,year,month,role)\n    select st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel, ss.id_subchannel subchannel,\n    sa.id_account account,rs.product_id product,pjv.principal_id principal,pjv.product_group_id productgroup,pjv.brand_group_id brandgroup,\n    pjv.subbrand_id subbrand, pjv.brand_id brand,pjv.is_competitor is_competitor,rs.nilai,rs.total,\n    rs.tanggal_mulai date ,pjv.oos_sos_product as oos_sof_product,year(rs.tanggal_mulai) year,month(rs.tanggal_mulai) month, \n    rs.role_id role\n    from\n    (select rs.tanggal_mulai,s.account_id,s.branch_id,rs.product_id,uk.role_id,sum(nilai) nilai,sum(total) total from\n    (SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,sum(if(value_oos = 1,cast(1 as signed),cast(0 as signed))) as nilai,count(0) as total FROM visit v\n    join report_stock rs on v.id_visit = rs.visit_id\n    where v.tanggal_mulai >= '${from}' \n    and v.tanggal_mulai <= '${to}'\n    and rs.value_oos != 2\n    group by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\n    join store s on s.id_store = rs.store_id\n    join usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\n    group by rs.product_id,s.branch_id,s.account_id,rs.tanggal_mulai,uk.role_id) rs\n    join sr_branch sb on rs.branch_id = sb.id_branch\n    join sr_territory st on sb.territory_id = st.id_territory\n    join sg_account sa on rs.account_id = sa.id_account\n    join sg_account_group sag on sa.account_group_id = sag.id_account_group\n    join sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\n    join product_join_view pjv on pjv.id_product = rs.product_id \n    on duplicate key update \n            region = values(region),territory = values(territory),branch = values(branch),channel = values(channel),subchannel = values(subchannel),account = values(account),product = values(product),principal = values(principal),productgroup = values(productgroup),brandgroup = values(brandgroup),subbrand = values(subbrand),brand = values(brand),is_competitor = values(is_competitor),nilai = values(nilai),total = values(total),date = values(date),oos_sof_product = values(oos_sof_product),year = values(year),month = values(month),role = values(role)\n    `);\n  con.end_connection();\n  return r;\n};\n\nconst batch_sof = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n        INSERT INTO batch_trigger_sof (region, territory, branch,\n             channel, subchannel, account, product, principal,\n              productgroup, brandgroup, subbrand, brand, is_competitor,\n               nilai, date, last_update, oos_sof_product, role)\n\n               select st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel,ss.id_subchannel subchannel,\n               sa.id_account account,rs.product_id product,pjv.principal_id principal,pjv.product_group_id productgroup,pjv.brand_group_id brandgroup,\n               pjv.subbrand_id subbrand, pjv.brand_id brand,pjv.is_competitor is_competitor,rs.nilai,\n               rs.tanggal_mulai date, now() last_update,pjv.oos_sos_product as oos_sof_product, \n               rs.role_id role\n               from\n               (select rs.tanggal_mulai,s.account_id,s.branch_id,rs.product_id,uk.role_id,sum(nilai) nilai from\n               (SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,sum(facing) as nilai FROM visit v\n               join report_stock rs on v.id_visit = rs.visit_id\n               where v.tanggal_mulai >= '${from}' \n               and v.tanggal_mulai <= '${to}'\n               \n               and facing is not null\n               group by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\n               join store s on s.id_store = rs.store_id\n               join usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\n               group by rs.product_id,s.branch_id,s.account_id,rs.tanggal_mulai,uk.role_id) rs\n               join sr_branch sb on rs.branch_id = sb.id_branch\n               join sr_territory st on sb.territory_id = st.id_territory\n               join sg_account sa on rs.account_id = sa.id_account\n               join sg_account_group sag on sa.account_group_id = sag.id_account_group\n               join sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\n               join product_join_view pjv on pjv.id_product = rs.product_id\n\n               on duplicate key update nilai = rs.nilai,last_update = last_update\n    `);\n  con.end_connection();\n  return r;\n};\n\nconst batch_sof_monthly = async param => {\n  let {\n    from,\n    to\n  } = param;\n  const con = new _dbcon.default();\n  const r = await con.run_query(`\n        INSERT INTO batch_trigger_sof_monthly_dashboard (region,\n             territory, branch, channel, account, role, nilai, year, month,\n              is_competitor, oos_sof_product, last_update)\n\n               SELECT region, territory, branch, channel, account, role, sum(nilai) nilai, year(date) year,\n month(date) month, is_competitor,\n oos_sof_product, now() last_update\n\n FROM beiersdorf.batch_trigger_sof\n where date >= '${from}'\n and date <= '${to}'\n group by branch,account,role,year(date),month(date),is_competitor\n               on duplicate key update nilai = nilai,last_update = last_update\n    `);\n  con.end_connection();\n  return r;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkbi5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJjcmVhdGVfcXVlcnlfbG9nIiwidGFibGUiLCJwYXJhbSIsInJlcXVlc3QiLCJPVEZfZGF0ZSIsImh0dHBfY29kZSIsInJlc3BvbnNlIiwicmVxIiwicGFyc2VfbG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJyZXNwIiwiaXNfcmVzcF9qc29uIiwiaXNKc29uUGFyc2FibGUiLCJzcWwiLCJyIiwiaW5zZXJ0UXVlcnkiLCJncm91cGluZ19hcnJheSIsImFyciIsImdyb3VwIiwic3VtIiwiaGVscGVyIiwia2V5IiwiYXJyYXlMZW5ndGgiLCJsZW5ndGgiLCJyZXN1bHQiLCJyZWR1Y2UiLCJvIiwiaSIsIk9iamVjdCIsImFzc2lnbiIsInB1c2giLCJhcnJsZW5ndGgiLCJzdHJpbmciLCJwYXJzZSIsImUiLCJ0b2RheSIsImRhdGVfdG9kYXkiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicmV0IiwiZ2V0RWRuIiwiZGF0ZV9mcm9tIiwiZGF0ZV90byIsImRhdGVfb2JfZnJvbSIsImRhdGVfb2JfdG8iLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZGF0ZVBhcnRzZnJvbSIsInNwbGl0IiwiZGF0ZVBhcnRzdG8iLCJmcm9tIiwiZ2V0X2RhdGVfc3RyaW5nIiwidG8iLCJiYXRjaF9vb3MiLCJQcm9taXNlIiwiYWxsIiwiZ2V0X3N0b2NrIiwiZ2V0X2JhdGNoX3RvdGFsX3N0b3JlX29vcyIsImJhdGNoX3NvZiIsInJlcyIsImdldF9iYXRjaF9hY2NvdW50IiwiZ2V0X2JhdGNoX2NoYW5uZWwiLCJiYXRjaF9zb2ZfbW9udGhseSIsImRhdGVfc3RyX2Zyb20iLCJnZXREYXRlIiwic2xpY2UiLCJtb250aF9mcm9tIiwieWVhcl9mcm9tIiwidGdsX2lzb19mcm9tIiwiY3JlYXRlSW5zZXJ0UXVlcnkiLCJjb2x1bW4iLCJrZXlzIiwibGlzdF9jb2x1bW4iLCJsaXN0X3ZhbHVlIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInZhbHVlIiwidmFsdWVzIiwiaXNpIiwiam9pbiIsInF1ZXJ5X2NvbCIsImNvbiIsImRiIiwicnVuX3F1ZXJ5IiwiZW5kX2Nvbm5lY3Rpb24iLCJnZXRfYmF0Y2hfb29zX21vbnRobHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBQSxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxnQkFBZ0IsR0FBRyxPQUFPQyxLQUFQLEVBQWFDLEtBQWIsS0FBdUI7QUFDNUMsTUFBSTtBQUFDQyxJQUFBQSxPQUFEO0FBQVNDLElBQUFBLFFBQVQ7QUFBa0JDLElBQUFBLFNBQWxCO0FBQTRCQyxJQUFBQTtBQUE1QixNQUF3Q0osS0FBNUMsQ0FENEMsQ0FFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQUlLLEdBQUcsR0FBRyxNQUFNQyxTQUFTLENBQUNMLE9BQUQsQ0FBekI7QUFDQUksRUFBQUEsR0FBRyxHQUFHRSxJQUFJLENBQUNDLFNBQUwsQ0FBZUgsR0FBZixDQUFOO0FBQ0FJLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVlMLEdBQXhCO0FBQ0EsTUFBSU0sSUFBSSxHQUFHLE1BQU1MLFNBQVMsQ0FBQ0YsUUFBRCxDQUExQjtBQUNBTyxFQUFBQSxJQUFJLEdBQUdKLElBQUksQ0FBQ0MsU0FBTCxDQUFlRyxJQUFmLENBQVA7QUFDQSxNQUFJQyxZQUFZLEdBQUdDLGNBQWMsQ0FBQ0YsSUFBRCxDQUFqQztBQUNBRixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFhQyxJQUF6QjtBQUNBLE1BQUlHLEdBQUcsR0FBRyxFQUFWO0FBQ0EsTUFBR0YsWUFBSCxFQUNBRSxHQUFHLEdBQUksZUFBY2YsS0FBTSw0RUFBMkVNLEdBQUksTUFBS0gsUUFBUyxNQUFLQyxTQUFVLE1BQUtRLElBQUssUUFBakosQ0FEQSxLQUVLRyxHQUFHLEdBQUks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QVlyRCxLQUFoQjtBQUNBLFFBQU1tRixHQUFHLEdBQUcsSUFBSUMsY0FBSixFQUFaO0FBQ0EsUUFBTXJFLENBQUMsR0FBRyxNQUFNb0UsR0FBRyxDQUFDRSxTQUFKLENBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQ2xDLElBQUs7QUFDaEQseUNBQXlDRSxFQUFHO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQS9Cb0IsQ0FBaEI7QUFnQ0E4QixFQUFBQSxHQUFHLENBQUNHLGNBQUo7QUFDQSxTQUFPdkUsQ0FBUDtBQUNILENBckNEOztBQXVDQSxNQUFNZ0QsaUJBQWlCLEdBQUcsTUFBTy9ELEtBQVAsSUFBZ0I7QUFDdEMsTUFBSTtBQUFDbUQsSUFBQUEsSUFBRDtBQUFNRSxJQUFBQTtBQUFOLE1BQVlyRCxLQUFoQjtBQUNBLFFBQU1tRixHQUFHLEdBQUcsSUFBSUMsY0FBSixFQUFaO0FBQ0EsUUFBTXJFLENBQUMsR0FBRyxNQUFNb0UsR0FBRyxDQUFDRSxTQUFKLENBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCbEMsSUFBSztBQUN2QixnQkFBZ0JFLEVBQUc7QUFDbkI7QUFDQTtBQUNBLEtBZG9CLENBQWhCO0FBZUE4QixFQUFBQSxHQUFHLENBQUNHLGNBQUo7QUFDQSxTQUFPdkUsQ0FBUDtBQUNILENBcEJEIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3NyYy9jb250cm9sbGVyLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiBmcm9tICcuLi9kYi9kYmNvbic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnZWFzeS1zb2FwLXJlcXVlc3QnO1xuaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJztcbmltcG9ydCB4bWwyanMgZnJvbSAneG1sMmpzJztcbmltcG9ydCBzcWxzdHJpbmcgZnJvbSAnc3Fsc3RyaW5nJztcbmltcG9ydCB1dGlsIGZyb20gJ3V0aWwnO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGNsdXN0ZXIgZnJvbSAnY2x1c3Rlcic7XG5pbXBvcnQgdjggZnJvbSAndjgnO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBjcmVhdGVfcXVlcnlfbG9nID0gYXN5bmMgKHRhYmxlLHBhcmFtKSA9PiB7XG4gICAgbGV0IHtyZXF1ZXN0LE9URl9kYXRlLGh0dHBfY29kZSxyZXNwb25zZX0gPSBwYXJhbTtcbiAgICAvLyBjb25zdCBjb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgICAvLyAgICAgaG9zdCAgICAgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfRE9NQUlOLFxuICAgIC8vICAgICB1c2VyICAgICAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9VU0VSTkFNRSxcbiAgICAvLyAgICAgcGFzc3dvcmQgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgLy8gICAgIGRhdGFiYXNlICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1NDSEVNQVxuICAgIC8vIH0pO1xuICAgIGxldCByZXEgPSBhd2FpdCBwYXJzZV9sb2cocmVxdWVzdCk7XG4gICAgcmVxID0gSlNPTi5zdHJpbmdpZnkocmVxKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcXVlc3QgOlwiK3JlcSk7XG4gICAgbGV0IHJlc3AgPSBhd2FpdCBwYXJzZV9sb2cocmVzcG9uc2UpO1xuICAgIHJlc3AgPSBKU09OLnN0cmluZ2lmeShyZXNwKTtcbiAgICBsZXQgaXNfcmVzcF9qc29uID0gaXNKc29uUGFyc2FibGUocmVzcCk7XG4gICAgY29uc29sZS5sb2coXCJyZXNwb25zZSA6XCIrcmVzcCk7XG4gICAgbGV0IHNxbCA9ICcnO1xuICAgIGlmKGlzX3Jlc3BfanNvbilcbiAgICBzcWwgPSBgaW5zZXJ0IGludG8gJHt0YWJsZX0gKHJlcXVlc3QsIE9URl9kYXRlLCBodHRwX2NvZGUscmVzcG9uc2UsY3JlYXRlZF9ieSxtb2RpZmllZF9ieSkgdmFsdWVzICgnJHtyZXF9JywnJHtPVEZfZGF0ZX0nLCcke2h0dHBfY29kZX0nLCcke3Jlc3B9JywwLDApYDtcbiAgICBlbHNlIHNxbCA9IGBpbnNlcnQgaW50byAke3RhYmxlfSAocmVxdWVzdCwgT1RGX2RhdGUsIGh0dHBfY29kZSxyZXNwb25zZSxjcmVhdGVkX2J5LG1vZGlmaWVkX2J5KSB2YWx1ZXMgKCcke3JlcX0nLCcke09URl9kYXRlfScsJyR7aHR0cF9jb2RlfScsJyR7cmVzcG9uc2V9JywwLDApYDtcbiAgICAvLyBjb25zdCBkYXRhID0gW1tyZXF1ZXN0LE9URl9kYXRlLGh0dHBfY29kZSxyZXNwb25zZSwwLDBdXTtcbiAgICBjb25zdCByID0gYXdhaXQgaW5zZXJ0UXVlcnkoc3FsKVxuICAgIC8vIGNvbi5lbmRfY29ubmVjdGlvbigpXG4gICAgLy8gY29uLnF1ZXJ5KHNxbCwgW2RhdGFdLCAoZXJyLCByZXN1bHRzLCBmaWVsZHMpID0+IHtcbiAgICAvLyAgICAgaWYgKGVycikge1xuICAgIC8vICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICAvLyBnZXQgaW5zZXJ0ZWQgcm93c1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnUm93IGluc2VydGVkOicgKyByZXN1bHRzLmFmZmVjdGVkUm93cyk7XG4gICAgLy8gICAgIC8vIHJldHVybiByZXN1bHRzO1xuICAgIC8vICAgfSk7XG4gICAgLy8gICBjb24uZW5kKClcbiAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICBcbn1cblxuY29uc3QgZ3JvdXBpbmdfYXJyYXkgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIGNvbnNvbGUubG9nKHBhcmFtKTtcbiAgICBsZXQge2Fycixncm91cCxzdW19ID0gcGFyYW07XG4gICAgaWYoYXJyICE9IG51bGwgJiYgdHlwZW9mIGFyciAhPSAndW5kZWZpbmVkJyAmJiBhcnIgIT0gJ3VuZGVmaW5lZCdcbiAgICAmJiBncm91cCAhPSBudWxsICYmIHR5cGVvZiBncm91cCAhPSAndW5kZWZpbmVkJyAmJiBncm91cCAhPSAndW5kZWZpbmVkJ1xuICAgICYmIHN1bSAhPSBudWxsICYmIHR5cGVvZiBzdW0gIT0gJ3VuZGVmaW5lZCcgJiYgc3VtICE9ICd1bmRlZmluZWQnXG4gICAgKXtcbiAgICAgICAgdmFyIGhlbHBlciA9IHt9O1xuICAgICAgICBsZXQga2V5ID0gJyc7XG4gICAgICAgIGxldCBhcnJheUxlbmd0aCA9IGdyb3VwLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGFyci5yZWR1Y2UoZnVuY3Rpb24ociwgbykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYoaSA9PSAwICkga2V5ICs9IG9bZ3JvdXBbaV1dO1xuICAgICAgICAgICAgICAgIGVsc2Uga2V5ICs9ICctJyArIG9bZ3JvdXBbaV1dO1xuICAgICAgICAgICAgICAgIC8vIGtleSA9IG8uc2hhcGUgICsgJy0nICsgby5jb2xvcjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL0RvIHNvbWV0aGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmKCFoZWxwZXJba2V5XSkge1xuICAgICAgICAgICAgaGVscGVyW2tleV0gPSBPYmplY3QuYXNzaWduKHt9LCBvKTsgLy8gY3JlYXRlIGEgY29weSBvZiBvXG4gICAgICAgICAgICByLnB1c2goaGVscGVyW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFycmxlbmd0aCA9IHN1bS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGFycmxlbmd0aDsgbysrKSB7XG4gICAgICAgICAgICAgICAgaGVscGVyW2tleV1bc3VtW29dXSArPSBvW3N1bVtpXV07XG4gICAgICAgICAgICAgICAgLy8ga2V5ID0gby5zaGFwZSAgKyAnLScgKyBvLmNvbG9yO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vRG8gc29tZXRoaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoZWxwZXJba2V5XS51c2VkICs9IG8udXNlZDtcbiAgICAgICAgICAgIC8vIGhlbHBlcltrZXldLmluc3RhbmNlcyArPSBvLmluc3RhbmNlcztcbiAgICAgICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gICAgfWVsc2UgcmV0dXJuIG51bGw7XG4gICAgXG59XG5cbmNvbnN0IGlzSnNvblBhcnNhYmxlID0gKHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIEpTT04ucGFyc2Uoc3RyaW5nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvZGF5KCkge1xuICAgIGxldCBkYXRlX3RvZGF5ID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1DQVwiKTtcbiAgICBsZXQgcmV0ID0ge1wiZGF0ZVwiOmRhdGVfdG9kYXl9O1xuICAgIHJldHVybiByZXQ7XG59IFxuXG5jb25zdCBnZXRFZG4gPSBhc3luYyAocGFyYW0gPSBudWxsKSA9PntcbiAgICAvLyBjb25zb2xlLmxvZyhwYXJhbSk7XG4gICAgbGV0IHtkYXRlX2Zyb20sZGF0ZV90b30gPSAgcGFyYW07XG4gICAgbGV0IGRhdGVfb2JfZnJvbTtsZXQgZGF0ZV9vYl90b1xuICAgIGlmKGRhdGVfZnJvbSA9PSBudWxsIHx8IHR5cGVvZiBkYXRlX2Zyb20gPT0gJ3VuZGVmaW5lZCcgfHwgZGF0ZV9mcm9tID09ICd1bmRlZmluZWQnIHx8IGRhdGVfdG8gPT0gbnVsbCB8fCB0eXBlb2YgZGF0ZV90byA9PSAndW5kZWZpbmVkJyB8fCBkYXRlX3RvID09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgZGF0ZV9vYl90byA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGRhdGVfb2JfZnJvbSA9IG5ldyBEYXRlKGRhdGVfb2JfdG8uZ2V0RnVsbFllYXIoKSwgZGF0ZV9vYl90by5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0ZV9vYik7IFxuICAgIH1lbHNlIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBkYXRlUGFydHNmcm9tID0gZGF0ZV9mcm9tLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgZGF0ZV9vYl9mcm9tID0gbmV3IERhdGUoK2RhdGVQYXJ0c2Zyb21bMF0sIGRhdGVQYXJ0c2Zyb21bMV0gLSAxLCArZGF0ZVBhcnRzZnJvbVsyXSkgO1xuICAgIFxuICAgICAgICB2YXIgZGF0ZVBhcnRzdG8gPSBkYXRlX3RvLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgZGF0ZV9vYl90byA9IG5ldyBEYXRlKCtkYXRlUGFydHN0b1swXSwgZGF0ZVBhcnRzdG9bMV0gLSAxLCArZGF0ZVBhcnRzdG9bMl0pO1xuICAgIH1cbiAgICAvLyBhZGp1c3QgMCBiZWZvcmUgc2luZ2xlIGRpZ2l0IGRhdGVcbiAgICAvLyBsZXQgZGF0ZV9zdHJfZnJvbSA9IChcIjBcIiArIGRhdGVfb2JfZnJvbS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcblxuICAgIC8vIC8vIGN1cnJlbnQgbW9udGhcbiAgICAvLyBsZXQgbW9udGhfZnJvbSA9IChcIjBcIiArIChkYXRlX29iX2Zyb20uZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMik7XG5cbiAgICAvLyAvLyBjdXJyZW50IHllYXJcbiAgICAvLyBsZXQgeWVhcl9mcm9tID0gZGF0ZV9vYl9mcm9tLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBcbiAgICAvLyBsZXQgdGdsX2lzb19mcm9tID0geWVhcl9mcm9tK1wiLVwiK21vbnRoX2Zyb20rXCItXCIrZGF0ZV9zdHJfZnJvbTtcbiAgICBsZXQgZnJvbSA9IGF3YWl0IGdldF9kYXRlX3N0cmluZyhkYXRlX29iX2Zyb20pO1xuICAgIGxldCB0byA9IGF3YWl0IGdldF9kYXRlX3N0cmluZyhkYXRlX29iX3RvKTtcbiAgICBjb25zb2xlLmxvZyhcImZyb20gOlwiICtkYXRlX29iX2Zyb20pO2NvbnNvbGUubG9nKFwidG8gOlwiICtkYXRlX29iX3RvKTtcbiAgICBcbiAgICB0cnl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJhd19sYW1hX2tlYmFydWFuKTtcblxuICAgICAgICBcbiAgICAgICAgbGV0IGJhdGNoX29vcyA9IGF3YWl0IFByb21pc2UuYWxsKFtnZXRfc3RvY2soe1wiZnJvbVwiOmZyb20sXCJ0b1wiOnRvfSksZ2V0X2JhdGNoX3RvdGFsX3N0b3JlX29vcyh7XCJmcm9tXCI6ZnJvbSxcInRvXCI6dG99KSxiYXRjaF9zb2Yoe1wiZnJvbVwiOmZyb20sXCJ0b1wiOnRvfSldKSA7XG4gICAgICAgIC8vIGxldCBxdWVyeV9iYXRjaF9vb3MgPSBhd2FpdCBjcmVhdGVJbnNlcnRRdWVyeShcImJhdGNoX3RyaWdnZXJfb29zXCIsYmF0Y2hfb29zKTtcbiAgICAgICAgLy8gbGV0IGlucyA9IGF3YWl0IGluc2VydFF1ZXJ5KHF1ZXJ5X2JhdGNoX29vcyk7XG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhxdWVyeV9iYXRjaF9vb3MpO1xuICAgICAgICAgXG4gICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW2dldF9iYXRjaF9hY2NvdW50KHtcImZyb21cIjpmcm9tLFwidG9cIjp0b30pLGdldF9iYXRjaF9jaGFubmVsKHtcImZyb21cIjpmcm9tLFwidG9cIjp0b30pLGJhdGNoX3NvZl9tb250aGx5KHtcImZyb21cIjpmcm9tLFwidG9cIjp0b30pXSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICBcblxuICAgICAgICAvLyAgbGV0IGdyb3VwX2FjY291bnQgPSBbXCJkYXRlXCIsXCJwcm9kdWN0XCIsXCJhY2NvdW50XCIsXCJicmFuY2hcIl07XG4gICAgICAgIC8vICBsZXQgc3VtX2FjY291bnQgPSBbXCJuaWxhaVwiLFwidG90YWxcIl07XG4gICAgICAgIFxuICAgICAgICAvLyAgbGV0IGJhdGNoX29vc19hY2NvdW50ID0gYXdhaXQgZ3JvdXBpbmdfYXJyYXkoe1wiYXJyXCI6YmF0Y2hfb29zLFwiZ3JvdXBcIjpncm91cF9hY2NvdW50LFwic3VtXCI6c3VtX2FjY291bnR9KTtcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKGJhdGNoX29vc19hY2NvdW50KTtcbiAgICAgICAgLy8gYmF0Y2hfb29zID0gbnVsbFxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBjYXRjaChlKXtcblxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG5jb25zdCBnZXRfZGF0ZV9zdHJpbmcgPSBhc3luYyAoZnJvbSk9PntcbiAgICBsZXQgZGF0ZV9vYl9mcm9tID0gbmV3IERhdGUoZnJvbSk7XG4gICAgbGV0IGRhdGVfc3RyX2Zyb20gPSAoXCIwXCIgKyBkYXRlX29iX2Zyb20uZ2V0RGF0ZSgpKS5zbGljZSgtMik7XG5cbiAgICAvLyBjdXJyZW50IG1vbnRoXG4gICAgbGV0IG1vbnRoX2Zyb20gPSAoXCIwXCIgKyAoZGF0ZV9vYl9mcm9tLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpO1xuXG4gICAgLy8gY3VycmVudCB5ZWFyXG4gICAgbGV0IHllYXJfZnJvbSA9IGRhdGVfb2JfZnJvbS5nZXRGdWxsWWVhcigpO1xuXG4gICAgXG4gICAgbGV0IHRnbF9pc29fZnJvbSA9IHllYXJfZnJvbStcIi1cIittb250aF9mcm9tK1wiLVwiK2RhdGVfc3RyX2Zyb207XG4gICAgcmV0dXJuIHRnbF9pc29fZnJvbTtcbn1cblxuICBjb25zdCBjcmVhdGVJbnNlcnRRdWVyeSA9IGFzeW5jICh0YWJsZSxwYXJhbSk9PntcbiAgICB0cnl7XG4gICAgICAgIGxldCBjb2x1bW4gPSBPYmplY3Qua2V5cyhwYXJhbVswXSk7XG4gICAgbGV0IGxpc3RfY29sdW1uID0gJyc7XG4gICAgbGV0IGxpc3RfdmFsdWUgPSAnJztcbiAgICBcbiAgICBwYXJhbS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0saW5kZXgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gT2JqZWN0LnZhbHVlcyhpdGVtKTtcbiAgICAgICAgbGV0IGlzaSA9IHZhbHVlLmpvaW4oXCInLCdcIik7XG4gICAgICAgIGlmKGluZGV4ID09IDApXG4gICAgICAgIGxpc3RfdmFsdWUgKz0gYCgnJHtpc2l9JylgO1xuICAgICAgICBlbHNlIGxpc3RfdmFsdWUgKz0gYCwoJyR7aXNpfScpYDtcbiAgICB9KTtcbiAgICBcbiAgICBmb3IobGV0IGtleXMgaW4gY29sdW1uKXtcbiAgICAgICAgbGlzdF9jb2x1bW4gKz0gYCwke2NvbHVtbltrZXlzXX0gPSB2YWx1ZXMoJHtjb2x1bW5ba2V5c119KWA7XG4gICAgfVxuXG4gICAgbGlzdF9jb2x1bW4gPSBsaXN0X2NvbHVtbi5zbGljZSgxKTtcblxuICAgIGNvbnN0IHF1ZXJ5X2NvbCA9IGNvbHVtbi5qb2luKFwiLFwiKTsgXG4gICAgY29uc3Qgc3FsID0gXG4gICAgICAgIGBJTlNFUlQgSU5UTyAke3RhYmxlfSBcbiAgICAgICAgICAgICgke3F1ZXJ5X2NvbH0pIFZBTFVFUyBcbiAgICAgICAgICAgICR7bGlzdF92YWx1ZX1cbiAgICAgICAgICAgIG9uIGR1cGxpY2F0ZSBrZXkgdXBkYXRlIFxuICAgICAgICAgICAgJHtsaXN0X2NvbHVtbn1cbiAgICAgICAgYDtcbiAgICByZXR1cm4gc3FsO1xuICAgIH1jYXRjaChlKXtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIFxufVxuXG5jb25zdCBpbnNlcnRRdWVyeSA9IGFzeW5jIChwYXJhbSkgPT57XG4gICAgLy8gY29uc29sZS5sb2cocGFyYW0pO1xuICAgIGNvbnN0IGNvbiA9IG5ldyBkYigpO1xuXG4gICAgY29uc3QgciA9IGF3YWl0IGNvbi5ydW5fcXVlcnkocGFyYW0pO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpXG5cbiAgICByZXR1cm4gcjtcbn1cblxuY29uc3QgZ2V0X2JhdGNoX2FjY291bnQgPSBhc3luYyAocGFyYW0pID0+e1xuICAgIGxldCB7ZnJvbSx0b30gPSBwYXJhbTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgXG4gICAgaW5zZXJ0IGludG8gYmF0Y2hfdHJpZ2dlcl9vb3NfYWNjb3VudCAoYnJhbmNoLCBhY2NvdW50LCBwcm9kdWN0LFxuICAgICAgICAgdmFsdWUsIHRvdGFsLCBkYXRlLCBsYXN0X3VwZGF0ZSwgbW9udGgseWVhciwgcm9sZSlcbiAgICAgICAgICAgU0VMRUNUIGJyYW5jaCxhY2NvdW50LHByb2R1Y3Qsc3VtKG5pbGFpKSB2YWx1ZSxcbiAgICAgICAgICAgc3VtKHRvdGFsKSB0b3RhbCwgZGF0ZSAsIG5vdygpIGxhc3RfdXBkYXRlLCBtb250aChkYXRlKSBtb250aCx5ZWFyKGRhdGUpIHllYXIscm9sZVxuICAgICAgICAgICBGUk9NIGJhdGNoX3RyaWdnZXJfb29zXG4gICAgICAgICAgIHdoZXJlIGRhdGUgPj0gJyR7ZnJvbX0nXG4gICAgICAgICAgIGFuZCBkYXRlIDw9ICcke3RvfSdcbiAgICAgICAgICAgZ3JvdXAgYnkgYnJhbmNoLGFjY291bnQscHJvZHVjdCxkYXRlLHJvbGUgXG4gICAgb24gZHVwbGljYXRlIGtleSB1cGRhdGUgdmFsdWUgPSB2YWx1ZSx0b3RhbCA9IHRvdGFsLGxhc3RfdXBkYXRlID0gbGFzdF91cGRhdGVgKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKTtcbiAgICByZXR1cm4gcjtcbn1cblxuY29uc3QgZ2V0X2JhdGNoX29vc19tb250aGx5ID0gYXN5bmMgKHBhcmFtKSA9PntcbiAgICBsZXQge2Zyb20sdG99ID0gcGFyYW07XG4gICAgY29uc3QgY29uID0gbmV3IGRiKCk7XG4gICAgY29uc3QgciA9IGF3YWl0IGNvbi5ydW5fcXVlcnkoYFxuICAgIGluc2VydCBpbnRvIGJhdGNoX3RyaWdnZXJfb29zX21vbnRobHlfZGFzaGJvYXJkIChyZWdpb24sIHRlcnJpdG9yeSxcbiAgICAgICAgIGJyYW5jaCwgY2hhbm5lbCwgYWNjb3VudCwgcm9sZSwgbmlsYWksIHRvdGFsLCB5ZWFyLCBtb250aCxcbiAgICAgICAgICBsYXN0X3VwZGF0ZSwgb29zX3NvZl9wcm9kdWN0KVxuICAgICAgICAgU0VMRUNUIHJlZ2lvbix0ZXJyaXRvcnksYnJhbmNoLGNoYW5uZWwsYWNjb3VudCxyb2xlLHN1bShuaWxhaSkgbmlsYWksc3VtKHRvdGFsKSB0b3RhbFxuICAgICAgICAgLHllYXIoZGF0ZSkgeWVhcixtb250aChkYXRlKSBtb250aCxub3coKSBsYXN0X3VwZGF0ZSxvb3Nfc29mX3Byb2R1Y3QgIFxuICAgICAgICAgRlJPTSBiYXRjaF90cmlnZ2VyX29vc1xuICAgICAgICAgd2hlcmUgZGF0ZSA+PSAnJHtmcm9tfSdcbiAgICAgICAgIGFuZCBkYXRlIDw9ICcke3RvfSdcbiAgICAgICAgIGdyb3VwIGJ5IGJyYW5jaCxhY2NvdW50LHllYXIoZGF0ZSksbW9udGgoZGF0ZSkscm9sZSBcbiAgICBvbiBkdXBsaWNhdGUga2V5IHVwZGF0ZSB2YWx1ZSA9IG5pbGFpLHRvdGFsID0gdG90YWwsbGFzdF91cGRhdGUgPSBsYXN0X3VwZGF0ZSwgb29zX3NvZl9wcm9kdWN0ID0gb29zX3NvZl9wcm9kdWN0YCk7XG4gICAgY29uLmVuZF9jb25uZWN0aW9uKCk7XG4gICAgcmV0dXJuIHI7XG59XG5cbmNvbnN0IGdldF9iYXRjaF9jaGFubmVsID0gYXN5bmMgKHBhcmFtKT0+e1xuICAgIGxldCB7ZnJvbSx0b30gPSBwYXJhbTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgXG4gICAgaW5zZXJ0IGludG8gYmF0Y2hfdHJpZ2dlcl9vb3NfY2hhbm5lbCAoYnJhbmNoLCBjaGFubmVsLCBwcm9kdWN0LFxuICAgICAgICAgdmFsdWUsIHRvdGFsLCBkYXRlLCBsYXN0X3VwZGF0ZSwgcm9sZSlcbiAgICAgICAgIFNFTEVDVCBicmFuY2gsY2hhbm5lbCxwcm9kdWN0LHN1bShuaWxhaSkgdmFsdWUsc3VtKHRvdGFsKSB0b3RhbCxkYXRlLG5vdygpIGxhc3RfdXBkYXRlLHJvbGUgIEZST00gYmF0Y2hfdHJpZ2dlcl9vb3NcbiAgICAgICAgIHdoZXJlIGRhdGUgPj0gJyR7ZnJvbX0nXG4gICAgICAgICBhbmQgZGF0ZSA8PSAnJHt0b30nXG4gICAgICAgICBncm91cCBieSBicmFuY2gsY2hhbm5lbCxwcm9kdWN0LGRhdGUscm9sZSBcbiAgICBvbiBkdXBsaWNhdGUga2V5IHVwZGF0ZSB2YWx1ZSA9IHZhbHVlLHRvdGFsID0gdG90YWwsbGFzdF91cGRhdGUgPSBsYXN0X3VwZGF0ZWApO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpO1xuICAgIHJldHVybiByO1xufVxuXG5jb25zdCBnZXRfYmF0Y2hfdG90YWxfc3RvcmVfb29zID0gYXN5bmMgKHBhcmFtKSA9PntcbiAgICBsZXQge2Zyb20sdG99ID0gcGFyYW07XG4gICAgY29uc3QgY29uID0gbmV3IGRiKCk7XG4gICAgY29uc3QgciA9IGF3YWl0IGNvbi5ydW5fcXVlcnkoYFxuICAgIGluc2VydCBpbnRvIGJhdGNoX3RyaWdnZXJfdG90YWxfc3RvcmVfb29zKHRvdGFsLCByZWdpb24sIHRlcnJpdG9yeSwgYnJhbmNoLCBjaGFubmVsLCBzdWJjaGFubmVsLCBhY2NvdW50X2dyb3VwLCBhY2NvdW50LCBicmFuZCwgc3ViYnJhbmQsIGJyYW5kX2dyb3VwLCBwcm9kdWN0X2dyb3VwLCBwcm9kdWN0LCBzdG9yZSwgZGF0ZSwgbGFzdF91cGRhdGUsIHJvbGUpXG5cbnNlbGVjdCBycy50b3RhbCxzdC5yZWdpb25faWQgcmVnaW9uLHNiLnRlcnJpdG9yeV9pZCB0ZXJyaXRvcnksc2IuaWRfYnJhbmNoIGJyYW5jaCwgc3MuY2hhbm5lbF9pZCBjaGFubmVsLHNzLmlkX3N1YmNoYW5uZWwgc3ViY2hhbm5lbCxcbnNhZy5pZF9hY2NvdW50X2dyb3VwIGFjY291bnRfZ3JvdXAsXG5zYS5pZF9hY2NvdW50IGFjY291bnQsXG4gcGp2LmJyYW5kX2lkIGJyYW5kLHBqdi5zdWJicmFuZF9pZCBzdWJicmFuZCxwanYuYnJhbmRfZ3JvdXBfaWQgYnJhbmRfZ3JvdXAscGp2LnByb2R1Y3RfZ3JvdXBfaWQgcHJvZHVjdF9ncm91cCxwanYuaWRfcHJvZHVjdCBwcm9kdWN0LFxucnMuc3RvcmVfaWQscnMudGFuZ2dhbF9tdWxhaSBkYXRlLCBub3coKSBsYXN0X3VwZGF0ZSwgXG5ycy5yb2xlX2lkIHJvbGVcbmZyb21cbihzZWxlY3QgcnMudGFuZ2dhbF9tdWxhaSxycy5zdG9yZV9pZCxycy5wcm9kdWN0X2lkLHVrLnJvbGVfaWQsc3VtKHRvdGFsKSB0b3RhbCBmcm9tXG4oU0VMRUNUIHYudGFuZ2dhbF9tdWxhaSx2LnN0b3JlX2lkLHYua2FyeWF3YW5faWQscnMucHJvZHVjdF9pZCxjb3VudChzdG9yZV9pZCkgYXMgdG90YWwgRlJPTSB2aXNpdCB2XG5qb2luIHJlcG9ydF9zdG9jayBycyBvbiB2LmlkX3Zpc2l0ID0gcnMudmlzaXRfaWRcbndoZXJlIHYudGFuZ2dhbF9tdWxhaSA+PSAnJHtmcm9tfScgXG5hbmQgdi50YW5nZ2FsX211bGFpIDw9ICcke3RvfSdcbmFuZCBycy52YWx1ZV9vb3MgIT0gMlxuZ3JvdXAgYnkgdi50YW5nZ2FsX211bGFpLHYuc3RvcmVfaWQscnMucHJvZHVjdF9pZCx2Lmthcnlhd2FuX2lkKSByc1xuam9pbiBzdG9yZSBzIG9uIHMuaWRfc3RvcmUgPSBycy5zdG9yZV9pZFxuam9pbiB1c3Jfa2FyeWF3YW4gdWsgb24gcnMua2FyeWF3YW5faWQgPSB1ay5pZF9rYXJ5YXdhblxuZ3JvdXAgYnkgcnMucHJvZHVjdF9pZCxycy5zdG9yZV9pZCxycy50YW5nZ2FsX211bGFpLHVrLnJvbGVfaWQpIHJzXG5qb2luIHN0b3JlIHMgb24gcy5pZF9zdG9yZSA9IHJzLnN0b3JlX2lkXG5qb2luIHNyX2JyYW5jaCBzYiBvbiBzLmJyYW5jaF9pZCA9IHNiLmlkX2JyYW5jaFxuam9pbiBzcl90ZXJyaXRvcnkgc3Qgb24gc2IudGVycml0b3J5X2lkID0gc3QuaWRfdGVycml0b3J5XG5qb2luIHNnX2FjY291bnQgc2Egb24gcy5hY2NvdW50X2lkID0gc2EuaWRfYWNjb3VudFxuam9pbiBzZ19hY2NvdW50X2dyb3VwIHNhZyBvbiBzYS5hY2NvdW50X2dyb3VwX2lkID0gc2FnLmlkX2FjY291bnRfZ3JvdXBcbmpvaW4gc2dfc3ViY2hhbm5lbCBzcyBvbiBzcy5pZF9zdWJjaGFubmVsID0gc2Euc3ViY2hhbm5lbF9pZFxuam9pbiBwcm9kdWN0X2pvaW5fdmlldyBwanYgb24gcGp2LmlkX3Byb2R1Y3QgPSBycy5wcm9kdWN0X2lkXG53aGVyZSBwanYuaXNfY29tcGV0aXRvciA9IDBcbm9uIGR1cGxpY2F0ZSBrZXkgdXBkYXRlIHRvdGFsID0gcnMudG90YWxcbiAgICBgKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKTtcbiAgICByZXR1cm4gcjtcbn1cblxuY29uc3QgZ2V0X3N0b2NrID0gYXN5bmMgKHBhcmFtKSA9PntcbiAgICBsZXQge2Zyb20sdG99ID0gcGFyYW07XG4gICAgY29uc3QgY29uID0gbmV3IGRiKCk7XG4gICAgY29uc3QgciA9IGF3YWl0IGNvbi5ydW5fcXVlcnkoYFxuICAgIElOU0VSVCBJTlRPIGJhdGNoX3RyaWdnZXJfb29zIFxuICAgICAgICAgICAgKHJlZ2lvbix0ZXJyaXRvcnksYnJhbmNoLGNoYW5uZWwsc3ViY2hhbm5lbCxhY2NvdW50LHByb2R1Y3QscHJpbmNpcGFsLHByb2R1Y3Rncm91cCxicmFuZGdyb3VwLHN1YmJyYW5kLGJyYW5kLGlzX2NvbXBldGl0b3IsbmlsYWksdG90YWwsZGF0ZSxvb3Nfc29mX3Byb2R1Y3QseWVhcixtb250aCxyb2xlKVxuICAgIHNlbGVjdCBzdC5yZWdpb25faWQgcmVnaW9uLHNiLnRlcnJpdG9yeV9pZCB0ZXJyaXRvcnksc2IuaWRfYnJhbmNoIGJyYW5jaCwgc3MuY2hhbm5lbF9pZCBjaGFubmVsLCBzcy5pZF9zdWJjaGFubmVsIHN1YmNoYW5uZWwsXG4gICAgc2EuaWRfYWNjb3VudCBhY2NvdW50LHJzLnByb2R1Y3RfaWQgcHJvZHVjdCxwanYucHJpbmNpcGFsX2lkIHByaW5jaXBhbCxwanYucHJvZHVjdF9ncm91cF9pZCBwcm9kdWN0Z3JvdXAscGp2LmJyYW5kX2dyb3VwX2lkIGJyYW5kZ3JvdXAsXG4gICAgcGp2LnN1YmJyYW5kX2lkIHN1YmJyYW5kLCBwanYuYnJhbmRfaWQgYnJhbmQscGp2LmlzX2NvbXBldGl0b3IgaXNfY29tcGV0aXRvcixycy5uaWxhaSxycy50b3RhbCxcbiAgICBycy50YW5nZ2FsX211bGFpIGRhdGUgLHBqdi5vb3Nfc29zX3Byb2R1Y3QgYXMgb29zX3NvZl9wcm9kdWN0LHllYXIocnMudGFuZ2dhbF9tdWxhaSkgeWVhcixtb250aChycy50YW5nZ2FsX211bGFpKSBtb250aCwgXG4gICAgcnMucm9sZV9pZCByb2xlXG4gICAgZnJvbVxuICAgIChzZWxlY3QgcnMudGFuZ2dhbF9tdWxhaSxzLmFjY291bnRfaWQscy5icmFuY2hfaWQscnMucHJvZHVjdF9pZCx1ay5yb2xlX2lkLHN1bShuaWxhaSkgbmlsYWksc3VtKHRvdGFsKSB0b3RhbCBmcm9tXG4gICAgKFNFTEVDVCB2LnRhbmdnYWxfbXVsYWksdi5zdG9yZV9pZCx2Lmthcnlhd2FuX2lkLHJzLnByb2R1Y3RfaWQsc3VtKGlmKHZhbHVlX29vcyA9IDEsY2FzdCgxIGFzIHNpZ25lZCksY2FzdCgwIGFzIHNpZ25lZCkpKSBhcyBuaWxhaSxjb3VudCgwKSBhcyB0b3RhbCBGUk9NIHZpc2l0IHZcbiAgICBqb2luIHJlcG9ydF9zdG9jayBycyBvbiB2LmlkX3Zpc2l0ID0gcnMudmlzaXRfaWRcbiAgICB3aGVyZSB2LnRhbmdnYWxfbXVsYWkgPj0gJyR7ZnJvbX0nIFxuICAgIGFuZCB2LnRhbmdnYWxfbXVsYWkgPD0gJyR7dG99J1xuICAgIGFuZCBycy52YWx1ZV9vb3MgIT0gMlxuICAgIGdyb3VwIGJ5IHYudGFuZ2dhbF9tdWxhaSx2LnN0b3JlX2lkLHJzLnByb2R1Y3RfaWQsdi5rYXJ5YXdhbl9pZCkgcnNcbiAgICBqb2luIHN0b3JlIHMgb24gcy5pZF9zdG9yZSA9IHJzLnN0b3JlX2lkXG4gICAgam9pbiB1c3Jfa2FyeWF3YW4gdWsgb24gcnMua2FyeWF3YW5faWQgPSB1ay5pZF9rYXJ5YXdhblxuICAgIGdyb3VwIGJ5IHJzLnByb2R1Y3RfaWQscy5icmFuY2hfaWQscy5hY2NvdW50X2lkLHJzLnRhbmdnYWxfbXVsYWksdWsucm9sZV9pZCkgcnNcbiAgICBqb2luIHNyX2JyYW5jaCBzYiBvbiBycy5icmFuY2hfaWQgPSBzYi5pZF9icmFuY2hcbiAgICBqb2luIHNyX3RlcnJpdG9yeSBzdCBvbiBzYi50ZXJyaXRvcnlfaWQgPSBzdC5pZF90ZXJyaXRvcnlcbiAgICBqb2luIHNnX2FjY291bnQgc2Egb24gcnMuYWNjb3VudF9pZCA9IHNhLmlkX2FjY291bnRcbiAgICBqb2luIHNnX2FjY291bnRfZ3JvdXAgc2FnIG9uIHNhLmFjY291bnRfZ3JvdXBfaWQgPSBzYWcuaWRfYWNjb3VudF9ncm91cFxuICAgIGpvaW4gc2dfc3ViY2hhbm5lbCBzcyBvbiBzcy5pZF9zdWJjaGFubmVsID0gc2Euc3ViY2hhbm5lbF9pZFxuICAgIGpvaW4gcHJvZHVjdF9qb2luX3ZpZXcgcGp2IG9uIHBqdi5pZF9wcm9kdWN0ID0gcnMucHJvZHVjdF9pZCBcbiAgICBvbiBkdXBsaWNhdGUga2V5IHVwZGF0ZSBcbiAgICAgICAgICAgIHJlZ2lvbiA9IHZhbHVlcyhyZWdpb24pLHRlcnJpdG9yeSA9IHZhbHVlcyh0ZXJyaXRvcnkpLGJyYW5jaCA9IHZhbHVlcyhicmFuY2gpLGNoYW5uZWwgPSB2YWx1ZXMoY2hhbm5lbCksc3ViY2hhbm5lbCA9IHZhbHVlcyhzdWJjaGFubmVsKSxhY2NvdW50ID0gdmFsdWVzKGFjY291bnQpLHByb2R1Y3QgPSB2YWx1ZXMocHJvZHVjdCkscHJpbmNpcGFsID0gdmFsdWVzKHByaW5jaXBhbCkscHJvZHVjdGdyb3VwID0gdmFsdWVzKHByb2R1Y3Rncm91cCksYnJhbmRncm91cCA9IHZhbHVlcyhicmFuZGdyb3VwKSxzdWJicmFuZCA9IHZhbHVlcyhzdWJicmFuZCksYnJhbmQgPSB2YWx1ZXMoYnJhbmQpLGlzX2NvbXBldGl0b3IgPSB2YWx1ZXMoaXNfY29tcGV0aXRvciksbmlsYWkgPSB2YWx1ZXMobmlsYWkpLHRvdGFsID0gdmFsdWVzKHRvdGFsKSxkYXRlID0gdmFsdWVzKGRhdGUpLG9vc19zb2ZfcHJvZHVjdCA9IHZhbHVlcyhvb3Nfc29mX3Byb2R1Y3QpLHllYXIgPSB2YWx1ZXMoeWVhciksbW9udGggPSB2YWx1ZXMobW9udGgpLHJvbGUgPSB2YWx1ZXMocm9sZSlcbiAgICBgKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKTtcbiAgICByZXR1cm4gcjtcbn1cblxuY29uc3QgYmF0Y2hfc29mID0gYXN5bmMgKHBhcmFtKT0+e1xuICAgIGxldCB7ZnJvbSx0b30gPSBwYXJhbTtcbiAgICBjb25zdCBjb24gPSBuZXcgZGIoKTtcbiAgICBjb25zdCByID0gYXdhaXQgY29uLnJ1bl9xdWVyeShgXG4gICAgICAgIElOU0VSVCBJTlRPIGJhdGNoX3RyaWdnZXJfc29mIChyZWdpb24sIHRlcnJpdG9yeSwgYnJhbmNoLFxuICAgICAgICAgICAgIGNoYW5uZWwsIHN1YmNoYW5uZWwsIGFjY291bnQsIHByb2R1Y3QsIHByaW5jaXBhbCxcbiAgICAgICAgICAgICAgcHJvZHVjdGdyb3VwLCBicmFuZGdyb3VwLCBzdWJicmFuZCwgYnJhbmQsIGlzX2NvbXBldGl0b3IsXG4gICAgICAgICAgICAgICBuaWxhaSwgZGF0ZSwgbGFzdF91cGRhdGUsIG9vc19zb2ZfcHJvZHVjdCwgcm9sZSlcblxuICAgICAgICAgICAgICAgc2VsZWN0IHN0LnJlZ2lvbl9pZCByZWdpb24sc2IudGVycml0b3J5X2lkIHRlcnJpdG9yeSxzYi5pZF9icmFuY2ggYnJhbmNoLCBzcy5jaGFubmVsX2lkIGNoYW5uZWwsc3MuaWRfc3ViY2hhbm5lbCBzdWJjaGFubmVsLFxuICAgICAgICAgICAgICAgc2EuaWRfYWNjb3VudCBhY2NvdW50LHJzLnByb2R1Y3RfaWQgcHJvZHVjdCxwanYucHJpbmNpcGFsX2lkIHByaW5jaXBhbCxwanYucHJvZHVjdF9ncm91cF9pZCBwcm9kdWN0Z3JvdXAscGp2LmJyYW5kX2dyb3VwX2lkIGJyYW5kZ3JvdXAsXG4gICAgICAgICAgICAgICBwanYuc3ViYnJhbmRfaWQgc3ViYnJhbmQsIHBqdi5icmFuZF9pZCBicmFuZCxwanYuaXNfY29tcGV0aXRvciBpc19jb21wZXRpdG9yLHJzLm5pbGFpLFxuICAgICAgICAgICAgICAgcnMudGFuZ2dhbF9tdWxhaSBkYXRlLCBub3coKSBsYXN0X3VwZGF0ZSxwanYub29zX3Nvc19wcm9kdWN0IGFzIG9vc19zb2ZfcHJvZHVjdCwgXG4gICAgICAgICAgICAgICBycy5yb2xlX2lkIHJvbGVcbiAgICAgICAgICAgICAgIGZyb21cbiAgICAgICAgICAgICAgIChzZWxlY3QgcnMudGFuZ2dhbF9tdWxhaSxzLmFjY291bnRfaWQscy5icmFuY2hfaWQscnMucHJvZHVjdF9pZCx1ay5yb2xlX2lkLHN1bShuaWxhaSkgbmlsYWkgZnJvbVxuICAgICAgICAgICAgICAgKFNFTEVDVCB2LnRhbmdnYWxfbXVsYWksdi5zdG9yZV9pZCx2Lmthcnlhd2FuX2lkLHJzLnByb2R1Y3RfaWQsc3VtKGZhY2luZykgYXMgbmlsYWkgRlJPTSB2aXNpdCB2XG4gICAgICAgICAgICAgICBqb2luIHJlcG9ydF9zdG9jayBycyBvbiB2LmlkX3Zpc2l0ID0gcnMudmlzaXRfaWRcbiAgICAgICAgICAgICAgIHdoZXJlIHYudGFuZ2dhbF9tdWxhaSA+PSAnJHtmcm9tfScgXG4gICAgICAgICAgICAgICBhbmQgdi50YW5nZ2FsX211bGFpIDw9ICcke3RvfSdcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgYW5kIGZhY2luZyBpcyBub3QgbnVsbFxuICAgICAgICAgICAgICAgZ3JvdXAgYnkgdi50YW5nZ2FsX211bGFpLHYuc3RvcmVfaWQscnMucHJvZHVjdF9pZCx2Lmthcnlhd2FuX2lkKSByc1xuICAgICAgICAgICAgICAgam9pbiBzdG9yZSBzIG9uIHMuaWRfc3RvcmUgPSBycy5zdG9yZV9pZFxuICAgICAgICAgICAgICAgam9pbiB1c3Jfa2FyeWF3YW4gdWsgb24gcnMua2FyeWF3YW5faWQgPSB1ay5pZF9rYXJ5YXdhblxuICAgICAgICAgICAgICAgZ3JvdXAgYnkgcnMucHJvZHVjdF9pZCxzLmJyYW5jaF9pZCxzLmFjY291bnRfaWQscnMudGFuZ2dhbF9tdWxhaSx1ay5yb2xlX2lkKSByc1xuICAgICAgICAgICAgICAgam9pbiBzcl9icmFuY2ggc2Igb24gcnMuYnJhbmNoX2lkID0gc2IuaWRfYnJhbmNoXG4gICAgICAgICAgICAgICBqb2luIHNyX3RlcnJpdG9yeSBzdCBvbiBzYi50ZXJyaXRvcnlfaWQgPSBzdC5pZF90ZXJyaXRvcnlcbiAgICAgICAgICAgICAgIGpvaW4gc2dfYWNjb3VudCBzYSBvbiBycy5hY2NvdW50X2lkID0gc2EuaWRfYWNjb3VudFxuICAgICAgICAgICAgICAgam9pbiBzZ19hY2NvdW50X2dyb3VwIHNhZyBvbiBzYS5hY2NvdW50X2dyb3VwX2lkID0gc2FnLmlkX2FjY291bnRfZ3JvdXBcbiAgICAgICAgICAgICAgIGpvaW4gc2dfc3ViY2hhbm5lbCBzcyBvbiBzcy5pZF9zdWJjaGFubmVsID0gc2Euc3ViY2hhbm5lbF9pZFxuICAgICAgICAgICAgICAgam9pbiBwcm9kdWN0X2pvaW5fdmlldyBwanYgb24gcGp2LmlkX3Byb2R1Y3QgPSBycy5wcm9kdWN0X2lkXG5cbiAgICAgICAgICAgICAgIG9uIGR1cGxpY2F0ZSBrZXkgdXBkYXRlIG5pbGFpID0gcnMubmlsYWksbGFzdF91cGRhdGUgPSBsYXN0X3VwZGF0ZVxuICAgIGApO1xuICAgIGNvbi5lbmRfY29ubmVjdGlvbigpO1xuICAgIHJldHVybiByO1xufVxuXG5jb25zdCBiYXRjaF9zb2ZfbW9udGhseSA9IGFzeW5jIChwYXJhbSkgPT57XG4gICAgbGV0IHtmcm9tLHRvfSA9IHBhcmFtO1xuICAgIGNvbnN0IGNvbiA9IG5ldyBkYigpO1xuICAgIGNvbnN0IHIgPSBhd2FpdCBjb24ucnVuX3F1ZXJ5KGBcbiAgICAgICAgSU5TRVJUIElOVE8gYmF0Y2hfdHJpZ2dlcl9zb2ZfbW9udGhseV9kYXNoYm9hcmQgKHJlZ2lvbixcbiAgICAgICAgICAgICB0ZXJyaXRvcnksIGJyYW5jaCwgY2hhbm5lbCwgYWNjb3VudCwgcm9sZSwgbmlsYWksIHllYXIsIG1vbnRoLFxuICAgICAgICAgICAgICBpc19jb21wZXRpdG9yLCBvb3Nfc29mX3Byb2R1Y3QsIGxhc3RfdXBkYXRlKVxuXG4gICAgICAgICAgICAgICBTRUxFQ1QgcmVnaW9uLCB0ZXJyaXRvcnksIGJyYW5jaCwgY2hhbm5lbCwgYWNjb3VudCwgcm9sZSwgc3VtKG5pbGFpKSBuaWxhaSwgeWVhcihkYXRlKSB5ZWFyLFxuIG1vbnRoKGRhdGUpIG1vbnRoLCBpc19jb21wZXRpdG9yLFxuIG9vc19zb2ZfcHJvZHVjdCwgbm93KCkgbGFzdF91cGRhdGVcblxuIEZST00gYmVpZXJzZG9yZi5iYXRjaF90cmlnZ2VyX3NvZlxuIHdoZXJlIGRhdGUgPj0gJyR7ZnJvbX0nXG4gYW5kIGRhdGUgPD0gJyR7dG99J1xuIGdyb3VwIGJ5IGJyYW5jaCxhY2NvdW50LHJvbGUseWVhcihkYXRlKSxtb250aChkYXRlKSxpc19jb21wZXRpdG9yXG4gICAgICAgICAgICAgICBvbiBkdXBsaWNhdGUga2V5IHVwZGF0ZSBuaWxhaSA9IG5pbGFpLGxhc3RfdXBkYXRlID0gbGFzdF91cGRhdGVcbiAgICBgKTtcbiAgICBjb24uZW5kX2Nvbm5lY3Rpb24oKTtcbiAgICByZXR1cm4gcjtcbn1cblxuXG5cbmV4cG9ydCB7XG4gICAgXG4gICAgZ2V0RWRuXG4gICAgXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "edn.js"
      ],
      "names": [
        "dotenv",
        "config",
        "create_query_log",
        "table",
        "param",
        "request",
        "OTF_date",
        "http_code",
        "response",
        "req",
        "parse_log",
        "JSON",
        "stringify",
        "console",
        "log",
        "resp",
        "is_resp_json",
        "isJsonParsable",
        "sql",
        "r",
        "insertQuery",
        "grouping_array",
        "arr",
        "group",
        "sum",
        "helper",
        "key",
        "arrayLength",
        "length",
        "result",
        "reduce",
        "o",
        "i",
        "Object",
        "assign",
        "push",
        "arrlength",
        "string",
        "parse",
        "e",
        "today",
        "date_today",
        "Date",
        "toLocaleDateString",
        "ret",
        "getEdn",
        "date_from",
        "date_to",
        "date_ob_from",
        "date_ob_to",
        "getFullYear",
        "getMonth",
        "datePartsfrom",
        "split",
        "datePartsto",
        "from",
        "get_date_string",
        "to",
        "batch_oos",
        "Promise",
        "all",
        "get_stock",
        "get_batch_total_store_oos",
        "batch_sof",
        "res",
        "get_batch_account",
        "get_batch_channel",
        "batch_sof_monthly",
        "date_str_from",
        "getDate",
        "slice",
        "month_from",
        "year_from",
        "tgl_iso_from",
        "createInsertQuery",
        "column",
        "keys",
        "list_column",
        "list_value",
        "forEach",
        "item",
        "index",
        "value",
        "values",
        "isi",
        "join",
        "query_col",
        "con",
        "db",
        "run_query",
        "end_connection",
        "get_batch_oos_monthly"
      ],
      "mappings": "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",
      "sourceRoot": "/Volumes/data/mynode/bfast/src/controller/",
      "sourcesContent": [
        "import db from '../db/dbcon';\nimport axios from 'easy-soap-request';\nimport mysql from 'mysql';\nimport xml2js from 'xml2js';\nimport sqlstring from 'sqlstring';\nimport util from 'util';\nimport dotenv from 'dotenv';\nimport cluster from 'cluster';\nimport v8 from 'v8';\ndotenv.config();\n\nconst create_query_log = async (table,param) => {\n    let {request,OTF_date,http_code,response} = param;\n    // const con = mysql.createConnection({\n    //     host            : process.env.DB_DOMAIN,\n    //     user            : process.env.DB_USERNAME,\n    //     password        : process.env.DB_PASSWORD,\n    //     database        : process.env.DB_SCHEMA\n    // });\n    let req = await parse_log(request);\n    req = JSON.stringify(req);\n    console.log(\"request :\"+req);\n    let resp = await parse_log(response);\n    resp = JSON.stringify(resp);\n    let is_resp_json = isJsonParsable(resp);\n    console.log(\"response :\"+resp);\n    let sql = '';\n    if(is_resp_json)\n    sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${resp}',0,0)`;\n    else sql = `insert into ${table} (request, OTF_date, http_code,response,created_by,modified_by) values ('${req}','${OTF_date}','${http_code}','${response}',0,0)`;\n    // const data = [[request,OTF_date,http_code,response,0,0]];\n    const r = await insertQuery(sql)\n    // con.end_connection()\n    // con.query(sql, [data], (err, results, fields) => {\n    //     if (err) {\n    //       return console.error(err.message);\n    //     }\n    //     // get inserted rows\n    //     console.log('Row inserted:' + results.affectedRows);\n    //     // return results;\n    //   });\n    //   con.end()\n    // console.log(results);\n    \n}\n\nconst grouping_array = async (param) =>{\n    console.log(param);\n    let {arr,group,sum} = param;\n    if(arr != null && typeof arr != 'undefined' && arr != 'undefined'\n    && group != null && typeof group != 'undefined' && group != 'undefined'\n    && sum != null && typeof sum != 'undefined' && sum != 'undefined'\n    ){\n        var helper = {};\n        let key = '';\n        let arrayLength = group.length;\n        var result = arr.reduce(function(r, o) {\n            for (var i = 0; i < arrayLength; i++) {\n                if(i == 0 ) key += o[group[i]];\n                else key += '-' + o[group[i]];\n                // key = o.shape  + '-' + o.color;\n                \n                //Do something\n            }\n        \n        \n        if(!helper[key]) {\n            helper[key] = Object.assign({}, o); // create a copy of o\n            r.push(helper[key]);\n        } else {\n            let arrlength = sum.length;\n            for (var o = 0; o < arrlength; o++) {\n                helper[key][sum[o]] += o[sum[i]];\n                // key = o.shape  + '-' + o.color;\n                \n                //Do something\n            }\n            // helper[key].used += o.used;\n            // helper[key].instances += o.instances;\n        }\n\n    return r;\n    }, []);\n    return result;\n    }else return null;\n    \n}\n\nconst isJsonParsable = (string) => {\n    try {\n        JSON.parse(string);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\nfunction today() {\n    let date_today = new Date().toLocaleDateString(\"en-CA\");\n    let ret = {\"date\":date_today};\n    return ret;\n} \n\nconst getEdn = async (param = null) =>{\n    // console.log(param);\n    let {date_from,date_to} =  param;\n    let date_ob_from;let date_ob_to\n    if(date_from == null || typeof date_from == 'undefined' || date_from == 'undefined' || date_to == null || typeof date_to == 'undefined' || date_to == 'undefined'){\n        date_ob_to = new Date();\n        date_ob_from = new Date(date_ob_to.getFullYear(), date_ob_to.getMonth(), 1);\n        // console.log(date_ob); \n    }else {\n        \n        var datePartsfrom = date_from.split(\"-\");\n        date_ob_from = new Date(+datePartsfrom[0], datePartsfrom[1] - 1, +datePartsfrom[2]) ;\n    \n        var datePartsto = date_to.split(\"-\");\n        date_ob_to = new Date(+datePartsto[0], datePartsto[1] - 1, +datePartsto[2]);\n    }\n    // adjust 0 before single digit date\n    // let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2);\n\n    // // current month\n    // let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2);\n\n    // // current year\n    // let year_from = date_ob_from.getFullYear();\n\n    \n    // let tgl_iso_from = year_from+\"-\"+month_from+\"-\"+date_str_from;\n    let from = await get_date_string(date_ob_from);\n    let to = await get_date_string(date_ob_to);\n    console.log(\"from :\" +date_ob_from);console.log(\"to :\" +date_ob_to);\n    \n    try{\n        // console.log(raw_lama_kebaruan);\n\n        \n        let batch_oos = await Promise.all([get_stock({\"from\":from,\"to\":to}),get_batch_total_store_oos({\"from\":from,\"to\":to}),batch_sof({\"from\":from,\"to\":to})]) ;\n        // let query_batch_oos = await createInsertQuery(\"batch_trigger_oos\",batch_oos);\n        // let ins = await insertQuery(query_batch_oos);\n        //  console.log(query_batch_oos);\n         \n            let res = await Promise.all([get_batch_account({\"from\":from,\"to\":to}),get_batch_channel({\"from\":from,\"to\":to}),batch_sof_monthly({\"from\":from,\"to\":to})]);\n            // console.log(res);\n            \n         \n\n        //  let group_account = [\"date\",\"product\",\"account\",\"branch\"];\n        //  let sum_account = [\"nilai\",\"total\"];\n        \n        //  let batch_oos_account = await grouping_array({\"arr\":batch_oos,\"group\":group_account,\"sum\":sum_account});\n        //  console.log(batch_oos_account);\n        // batch_oos = null\n        return res;\n    }\n    catch(e){\n\n        console.log(e);\n        return e;\n    }\n}\n\nconst get_date_string = async (from)=>{\n    let date_ob_from = new Date(from);\n    let date_str_from = (\"0\" + date_ob_from.getDate()).slice(-2);\n\n    // current month\n    let month_from = (\"0\" + (date_ob_from.getMonth() + 1)).slice(-2);\n\n    // current year\n    let year_from = date_ob_from.getFullYear();\n\n    \n    let tgl_iso_from = year_from+\"-\"+month_from+\"-\"+date_str_from;\n    return tgl_iso_from;\n}\n\n  const createInsertQuery = async (table,param)=>{\n    try{\n        let column = Object.keys(param[0]);\n    let list_column = '';\n    let list_value = '';\n    \n    param.forEach(function(item,index) {\n        let value = Object.values(item);\n        let isi = value.join(\"','\");\n        if(index == 0)\n        list_value += `('${isi}')`;\n        else list_value += `,('${isi}')`;\n    });\n    \n    for(let keys in column){\n        list_column += `,${column[keys]} = values(${column[keys]})`;\n    }\n\n    list_column = list_column.slice(1);\n\n    const query_col = column.join(\",\"); \n    const sql = \n        `INSERT INTO ${table} \n            (${query_col}) VALUES \n            ${list_value}\n            on duplicate key update \n            ${list_column}\n        `;\n    return sql;\n    }catch(e){\n        return e;\n    }\n    \n}\n\nconst insertQuery = async (param) =>{\n    // console.log(param);\n    const con = new db();\n\n    const r = await con.run_query(param);\n    con.end_connection()\n\n    return r;\n}\n\nconst get_batch_account = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    insert into batch_trigger_oos_account (branch, account, product,\n         value, total, date, last_update, month,year, role)\n           SELECT branch,account,product,sum(nilai) value,\n           sum(total) total, date , now() last_update, month(date) month,year(date) year,role\n           FROM batch_trigger_oos\n           where date >= '${from}'\n           and date <= '${to}'\n           group by branch,account,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n    con.end_connection();\n    return r;\n}\n\nconst get_batch_oos_monthly = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    insert into batch_trigger_oos_monthly_dashboard (region, territory,\n         branch, channel, account, role, nilai, total, year, month,\n          last_update, oos_sof_product)\n         SELECT region,territory,branch,channel,account,role,sum(nilai) nilai,sum(total) total\n         ,year(date) year,month(date) month,now() last_update,oos_sof_product  \n         FROM batch_trigger_oos\n         where date >= '${from}'\n         and date <= '${to}'\n         group by branch,account,year(date),month(date),role \n    on duplicate key update value = nilai,total = total,last_update = last_update, oos_sof_product = oos_sof_product`);\n    con.end_connection();\n    return r;\n}\n\nconst get_batch_channel = async (param)=>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    insert into batch_trigger_oos_channel (branch, channel, product,\n         value, total, date, last_update, role)\n         SELECT branch,channel,product,sum(nilai) value,sum(total) total,date,now() last_update,role  FROM batch_trigger_oos\n         where date >= '${from}'\n         and date <= '${to}'\n         group by branch,channel,product,date,role \n    on duplicate key update value = value,total = total,last_update = last_update`);\n    con.end_connection();\n    return r;\n}\n\nconst get_batch_total_store_oos = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    insert into batch_trigger_total_store_oos(total, region, territory, branch, channel, subchannel, account_group, account, brand, subbrand, brand_group, product_group, product, store, date, last_update, role)\n\nselect rs.total,st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel,ss.id_subchannel subchannel,\nsag.id_account_group account_group,\nsa.id_account account,\n pjv.brand_id brand,pjv.subbrand_id subbrand,pjv.brand_group_id brand_group,pjv.product_group_id product_group,pjv.id_product product,\nrs.store_id,rs.tanggal_mulai date, now() last_update, \nrs.role_id role\nfrom\n(select rs.tanggal_mulai,rs.store_id,rs.product_id,uk.role_id,sum(total) total from\n(SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,count(store_id) as total FROM visit v\njoin report_stock rs on v.id_visit = rs.visit_id\nwhere v.tanggal_mulai >= '${from}' \nand v.tanggal_mulai <= '${to}'\nand rs.value_oos != 2\ngroup by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\njoin store s on s.id_store = rs.store_id\njoin usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\ngroup by rs.product_id,rs.store_id,rs.tanggal_mulai,uk.role_id) rs\njoin store s on s.id_store = rs.store_id\njoin sr_branch sb on s.branch_id = sb.id_branch\njoin sr_territory st on sb.territory_id = st.id_territory\njoin sg_account sa on s.account_id = sa.id_account\njoin sg_account_group sag on sa.account_group_id = sag.id_account_group\njoin sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\njoin product_join_view pjv on pjv.id_product = rs.product_id\nwhere pjv.is_competitor = 0\non duplicate key update total = rs.total\n    `);\n    con.end_connection();\n    return r;\n}\n\nconst get_stock = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n    INSERT INTO batch_trigger_oos \n            (region,territory,branch,channel,subchannel,account,product,principal,productgroup,brandgroup,subbrand,brand,is_competitor,nilai,total,date,oos_sof_product,year,month,role)\n    select st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel, ss.id_subchannel subchannel,\n    sa.id_account account,rs.product_id product,pjv.principal_id principal,pjv.product_group_id productgroup,pjv.brand_group_id brandgroup,\n    pjv.subbrand_id subbrand, pjv.brand_id brand,pjv.is_competitor is_competitor,rs.nilai,rs.total,\n    rs.tanggal_mulai date ,pjv.oos_sos_product as oos_sof_product,year(rs.tanggal_mulai) year,month(rs.tanggal_mulai) month, \n    rs.role_id role\n    from\n    (select rs.tanggal_mulai,s.account_id,s.branch_id,rs.product_id,uk.role_id,sum(nilai) nilai,sum(total) total from\n    (SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,sum(if(value_oos = 1,cast(1 as signed),cast(0 as signed))) as nilai,count(0) as total FROM visit v\n    join report_stock rs on v.id_visit = rs.visit_id\n    where v.tanggal_mulai >= '${from}' \n    and v.tanggal_mulai <= '${to}'\n    and rs.value_oos != 2\n    group by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\n    join store s on s.id_store = rs.store_id\n    join usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\n    group by rs.product_id,s.branch_id,s.account_id,rs.tanggal_mulai,uk.role_id) rs\n    join sr_branch sb on rs.branch_id = sb.id_branch\n    join sr_territory st on sb.territory_id = st.id_territory\n    join sg_account sa on rs.account_id = sa.id_account\n    join sg_account_group sag on sa.account_group_id = sag.id_account_group\n    join sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\n    join product_join_view pjv on pjv.id_product = rs.product_id \n    on duplicate key update \n            region = values(region),territory = values(territory),branch = values(branch),channel = values(channel),subchannel = values(subchannel),account = values(account),product = values(product),principal = values(principal),productgroup = values(productgroup),brandgroup = values(brandgroup),subbrand = values(subbrand),brand = values(brand),is_competitor = values(is_competitor),nilai = values(nilai),total = values(total),date = values(date),oos_sof_product = values(oos_sof_product),year = values(year),month = values(month),role = values(role)\n    `);\n    con.end_connection();\n    return r;\n}\n\nconst batch_sof = async (param)=>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n        INSERT INTO batch_trigger_sof (region, territory, branch,\n             channel, subchannel, account, product, principal,\n              productgroup, brandgroup, subbrand, brand, is_competitor,\n               nilai, date, last_update, oos_sof_product, role)\n\n               select st.region_id region,sb.territory_id territory,sb.id_branch branch, ss.channel_id channel,ss.id_subchannel subchannel,\n               sa.id_account account,rs.product_id product,pjv.principal_id principal,pjv.product_group_id productgroup,pjv.brand_group_id brandgroup,\n               pjv.subbrand_id subbrand, pjv.brand_id brand,pjv.is_competitor is_competitor,rs.nilai,\n               rs.tanggal_mulai date, now() last_update,pjv.oos_sos_product as oos_sof_product, \n               rs.role_id role\n               from\n               (select rs.tanggal_mulai,s.account_id,s.branch_id,rs.product_id,uk.role_id,sum(nilai) nilai from\n               (SELECT v.tanggal_mulai,v.store_id,v.karyawan_id,rs.product_id,sum(facing) as nilai FROM visit v\n               join report_stock rs on v.id_visit = rs.visit_id\n               where v.tanggal_mulai >= '${from}' \n               and v.tanggal_mulai <= '${to}'\n               \n               and facing is not null\n               group by v.tanggal_mulai,v.store_id,rs.product_id,v.karyawan_id) rs\n               join store s on s.id_store = rs.store_id\n               join usr_karyawan uk on rs.karyawan_id = uk.id_karyawan\n               group by rs.product_id,s.branch_id,s.account_id,rs.tanggal_mulai,uk.role_id) rs\n               join sr_branch sb on rs.branch_id = sb.id_branch\n               join sr_territory st on sb.territory_id = st.id_territory\n               join sg_account sa on rs.account_id = sa.id_account\n               join sg_account_group sag on sa.account_group_id = sag.id_account_group\n               join sg_subchannel ss on ss.id_subchannel = sa.subchannel_id\n               join product_join_view pjv on pjv.id_product = rs.product_id\n\n               on duplicate key update nilai = rs.nilai,last_update = last_update\n    `);\n    con.end_connection();\n    return r;\n}\n\nconst batch_sof_monthly = async (param) =>{\n    let {from,to} = param;\n    const con = new db();\n    const r = await con.run_query(`\n        INSERT INTO batch_trigger_sof_monthly_dashboard (region,\n             territory, branch, channel, account, role, nilai, year, month,\n              is_competitor, oos_sof_product, last_update)\n\n               SELECT region, territory, branch, channel, account, role, sum(nilai) nilai, year(date) year,\n month(date) month, is_competitor,\n oos_sof_product, now() last_update\n\n FROM beiersdorf.batch_trigger_sof\n where date >= '${from}'\n and date <= '${to}'\n group by branch,account,role,year(date),month(date),is_competitor\n               on duplicate key update nilai = nilai,last_update = last_update\n    `);\n    con.end_connection();\n    return r;\n}\n\n\n\nexport {\n    \n    getEdn\n    \n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1610449639192
  },
  "{\"sourceRoot\":\"/Volumes/data/mynode/bfast/src/db/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Volumes/data/mynode/bfast\",\"filename\":\"/Volumes/data/mynode/bfast/src/db/dbcon.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Volumes/data/mynode/bfast\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Volumes/data/mynode/bfast/src/db/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Volumes/data/mynode/bfast",
      "filename": "/Volumes/data/mynode/bfast/src/db/dbcon.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Volumes/data/mynode/bfast",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Volumes/data/mynode/bfast/src/db/dbcon.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Volumes/data/mynode/bfast/src/db/dbcon.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Volumes/data/mynode/bfast/src/db/",
        "sourceFileName": "dbcon.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _util = _interopRequireDefault(require(\"util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n_dotenv.default.config();\n\nclass _default {\n  constructor(nama) {\n    _defineProperty(this, \"run_query\", async query => {\n      const rq_prom = _util.default.promisify(this.connection.query).bind(this.connection);\n\n      const r = await rq_prom(query);\n      return r;\n    });\n\n    _defineProperty(this, \"end_connection\", _ => {\n      try {\n        this.connection.end(err => {\n          console.log('connection ended');\n        });\n      } catch (e) {\n        this.connection.destroy();\n      }\n    });\n\n    this.connection = _mysql.default.createConnection({\n      host: process.env.DB_DOMAIN,\n      user: process.env.DB_USERNAME,\n      password: process.env.DB_PASSWORD,\n      database: process.env.DB_SCHEMA,\n      port: 3306,\n      dateStrings: 'date'\n    });\n  }\n\n}\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiY29uLmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImNvbnN0cnVjdG9yIiwibmFtYSIsInF1ZXJ5IiwicnFfcHJvbSIsInV0aWwiLCJwcm9taXNpZnkiLCJjb25uZWN0aW9uIiwiYmluZCIsInIiLCJfIiwiZW5kIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImUiLCJkZXN0cm95IiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9ET01BSU4iLCJ1c2VyIiwiREJfVVNFUk5BTUUiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJEQl9TQ0hFTUEiLCJwb3J0IiwiZGF0ZVN0cmluZ3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBQ0FBLGdCQUFPQyxNQUFQOztBQUVlLGVBQUs7QUFDaEJDLEVBQUFBLFdBQVcsQ0FBQ0MsSUFBRCxFQUFNO0FBQUEsdUNBWUwsTUFBT0MsS0FBUCxJQUFpQjtBQUN6QixZQUFNQyxPQUFPLEdBQUdDLGNBQUtDLFNBQUwsQ0FBZSxLQUFLQyxVQUFMLENBQWdCSixLQUEvQixFQUFzQ0ssSUFBdEMsQ0FBMkMsS0FBS0QsVUFBaEQsQ0FBaEI7O0FBRUEsWUFBTUUsQ0FBQyxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0QsS0FBRCxDQUF2QjtBQUVBLGFBQU9NLENBQVA7QUFDSCxLQWxCZ0I7O0FBQUEsNENBb0JBQyxDQUFDLElBQUk7QUFDbEIsVUFBRztBQUNDLGFBQUtILFVBQUwsQ0FBZ0JJLEdBQWhCLENBQXFCQyxHQUFELElBQVM7QUFDekJDLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaO0FBQ0gsU0FGRDtBQUdILE9BSkQsQ0FLQSxPQUFPQyxDQUFQLEVBQVU7QUFDTixhQUFLUixVQUFMLENBQWdCUyxPQUFoQjtBQUNIO0FBRUosS0E5QmdCOztBQUViLFNBQUtULFVBQUwsR0FBa0JVLGVBQU1DLGdCQUFOLENBQXVCO0FBQ3JDQyxNQUFBQSxJQUFJLEVBQWNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQURPO0FBRXJDQyxNQUFBQSxJQUFJLEVBQWNILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxXQUZPO0FBR3JDQyxNQUFBQSxRQUFRLEVBQVVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxXQUhPO0FBSXJDQyxNQUFBQSxRQUFRLEVBQVVQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTyxTQUpPO0FBS3JDQyxNQUFBQSxJQUFJLEVBQWMsSUFMbUI7QUFNckNDLE1BQUFBLFdBQVcsRUFBRTtBQU53QixLQUF2QixDQUFsQjtBQVFIOztBQVhlIiwic291cmNlUm9vdCI6Ii9Wb2x1bWVzL2RhdGEvbXlub2RlL2JmYXN0L3NyYy9kYi8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwnXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgdXRpbCBmcm9tICd1dGlsJztcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3N7XG4gICAgY29uc3RydWN0b3IobmFtYSl7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcbiAgICAgICAgICAgIGhvc3QgICAgICAgICAgICA6IHByb2Nlc3MuZW52LkRCX0RPTUFJTixcbiAgICAgICAgICAgIHVzZXIgICAgICAgICAgICA6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxuICAgICAgICAgICAgcGFzc3dvcmQgICAgICAgIDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgICAgICAgICBkYXRhYmFzZSAgICAgICAgOiBwcm9jZXNzLmVudi5EQl9TQ0hFTUEsXG4gICAgICAgICAgICBwb3J0ICAgICAgICAgICAgOiAzMzA2LFxuICAgICAgICAgICAgZGF0ZVN0cmluZ3M6ICdkYXRlJ1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJ1bl9xdWVyeSA9IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICBjb25zdCBycV9wcm9tID0gdXRpbC5wcm9taXNpZnkodGhpcy5jb25uZWN0aW9uLnF1ZXJ5KS5iaW5kKHRoaXMuY29ubmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHJxX3Byb20ocXVlcnkpO1xuXG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGVuZF9jb25uZWN0aW9uID0gXyA9PiB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIGVuZGVkJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICB9XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "dbcon.js"
      ],
      "names": [
        "dotenv",
        "config",
        "constructor",
        "nama",
        "query",
        "rq_prom",
        "util",
        "promisify",
        "connection",
        "bind",
        "r",
        "_",
        "end",
        "err",
        "console",
        "log",
        "e",
        "destroy",
        "mysql",
        "createConnection",
        "host",
        "process",
        "env",
        "DB_DOMAIN",
        "user",
        "DB_USERNAME",
        "password",
        "DB_PASSWORD",
        "database",
        "DB_SCHEMA",
        "port",
        "dateStrings"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;;;AACAA,gBAAOC,MAAP;;AAEe,eAAK;AAChBC,EAAAA,WAAW,CAACC,IAAD,EAAM;AAAA,uCAYL,MAAOC,KAAP,IAAiB;AACzB,YAAMC,OAAO,GAAGC,cAAKC,SAAL,CAAe,KAAKC,UAAL,CAAgBJ,KAA/B,EAAsCK,IAAtC,CAA2C,KAAKD,UAAhD,CAAhB;;AAEA,YAAME,CAAC,GAAG,MAAML,OAAO,CAACD,KAAD,CAAvB;AAEA,aAAOM,CAAP;AACH,KAlBgB;;AAAA,4CAoBAC,CAAC,IAAI;AAClB,UAAG;AACC,aAAKH,UAAL,CAAgBI,GAAhB,CAAqBC,GAAD,IAAS;AACzBC,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH,SAFD;AAGH,OAJD,CAKA,OAAOC,CAAP,EAAU;AACN,aAAKR,UAAL,CAAgBS,OAAhB;AACH;AAEJ,KA9BgB;;AAEb,SAAKT,UAAL,GAAkBU,eAAMC,gBAAN,CAAuB;AACrCC,MAAAA,IAAI,EAAcC,OAAO,CAACC,GAAR,CAAYC,SADO;AAErCC,MAAAA,IAAI,EAAcH,OAAO,CAACC,GAAR,CAAYG,WAFO;AAGrCC,MAAAA,QAAQ,EAAUL,OAAO,CAACC,GAAR,CAAYK,WAHO;AAIrCC,MAAAA,QAAQ,EAAUP,OAAO,CAACC,GAAR,CAAYO,SAJO;AAKrCC,MAAAA,IAAI,EAAc,IALmB;AAMrCC,MAAAA,WAAW,EAAE;AANwB,KAAvB,CAAlB;AAQH;;AAXe",
      "sourceRoot": "/Volumes/data/mynode/bfast/src/db/",
      "sourcesContent": [
        "import mysql from 'mysql'\nimport dotenv from 'dotenv';\nimport util from 'util';\ndotenv.config();\n\nexport default class{\n    constructor(nama){\n        \n        this.connection = mysql.createConnection({\n            host            : process.env.DB_DOMAIN,\n            user            : process.env.DB_USERNAME,\n            password        : process.env.DB_PASSWORD,\n            database        : process.env.DB_SCHEMA,\n            port            : 3306,\n            dateStrings: 'date'\n        })\n    }\n\n    run_query = async (query) => {\n        const rq_prom = util.promisify(this.connection.query).bind(this.connection);\n\n        const r = await rq_prom(query);\n\n        return r;\n    }\n\n    end_connection = _ => {\n        try{\n            this.connection.end((err) => {\n                console.log('connection ended');\n            })\n        }\n        catch (e) {\n            this.connection.destroy();\n        }\n\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1609707094149
  }
}